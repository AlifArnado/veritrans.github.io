<!DOCTYPE html><!--[if lt IE 7]><html class="no-js lt-ie10 lt-ie9 lt-ie8 lt-ie7"><![endif]--><!--[if IE 7]><html class="no-js lt-ie10 lt-ie9 lt-ie8"><![endif]--><!--[if IE 8]><html class="no-js lt-ie10 lt-ie9"><![endif]--><!--[if IE 9]><html class="no-js lt-ie10"><![endif]--><!--[if (gt IE 9)|!(IE)]<!--><html class="nojs"><!--<![endif]--><head><meta charset="utf-8" /><meta content="IE=edge" http-equiv="X-UA-Compatible" /><title>Order Manager</title><meta content="" name="description" /><meta content="width=device-width, initial-scale=1" name="viewport" /><link href="../../assets/stylesheets/app-cb52da42.css" media="screen" rel="stylesheet" type="text/css" /></head><body><!--[if lte IE 7]><p class="browsehappy">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.</p><![endif]--><header><h1>Veritrans docs</h1></header><section><aside><menu><li><a href="/">Home</a></li><li><a href="/sugarmdk">Sugar MKD</a><ul><li><a href="/sugarmdk/1-introducing/">1. Introducing</a></li><li><a href="/sugarmdk/2-payment-manager/">2. Payment Manager</a></li><li><a href="/sugarmdk/3-handling-exception-and-error-codes/">3. Handling Exception and Error Codes</a></li><li><a href="/sugarmdk/4-order-manager/">4. Order Manager</a></li><li><a href="/sugarmdk/5-sub-merchant-manager/">5. Sub Merchant Manager</a></li><li><a href="/sugarmdk/6-veritrans-sandbox/">6. Veritrans Sandbox</a></li><li><a href="/sugarmdk/7-appendix/">7. Appendix</a></li></ul></li></menu></aside><article><h1>Order Manager</h1>

<p>Order manager is used to make queries about an order or multiple orders based on id, date range and transaction type.</p>

<h2>3.1 Get Order by Order ID</h2>

<h4>Request Object Parameters to Get Order by ID</h4>

<table><thead>
<tr>
<th>Class</th>
<th style="text-align: center">Property</th>
<th style="text-align: center">Data Type</th>
<th style="text-align: center">Mandatory(Y/N)</th>
<th style="text-align: center">Size</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td>String</td>
<td style="text-align: center">orderId</td>
<td style="text-align: center">String</td>
<td style="text-align: center">Y</td>
<td style="text-align: center">20</td>
<td style="text-align: left">Identified on an order</td>
</tr>
<tr>
<td>SubMerchant</td>
<td style="text-align: center">parent</td>
<td style="text-align: center">Merchant</td>
<td style="text-align: center">N</td>
<td style="text-align: center"></td>
<td style="text-align: left">Parent merchant</td>
</tr>
<tr>
<td></td>
<td style="text-align: center">Id</td>
<td style="text-align: center">AN</td>
<td style="text-align: center">Y</td>
<td style="text-align: center">22</td>
<td style="text-align: left">Sub-merchant Identifier</td>
</tr>
<tr>
<td></td>
<td style="text-align: center">username</td>
<td style="text-align: center">AN</td>
<td style="text-align: center">Y</td>
<td style="text-align: center">40</td>
<td style="text-align: left">Sub-merchant username</td>
</tr>
<tr>
<td></td>
<td style="text-align: center">password</td>
<td style="text-align: center">AN</td>
<td style="text-align: center">Y</td>
<td style="text-align: center">64</td>
<td style="text-align: left">Sub-merchant password</td>
</tr>
</tbody></table>

<h4>Method</h4>

<p>The below method is used to get an order definition based on its order id:</p>
<pre class="highlight java"><span class="n">orderManager</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">orderId</span><span class="o">,</span> <span class="n">subMerchant</span><span class="o">)</span>
</pre>
<p>Sample Code: Get order by id</p>
<pre class="highlight java"><span class="n">String</span> <span class="n">id</span> <span class="o">=</span> <span class="s">&quot;A100000000000001000233&quot;</span><span class="o">;</span>
<span class="n">String</span> <span class="n">username</span> <span class="o">=</span> <span class="s">&quot;A100000000000001000233cc&quot;</span><span class="o">;</span>
<span class="n">String</span> <span class="n">password</span> <span class="o">=</span> <span class="s">&quot;af757b7d932482672d78396539638e18ddb8510d8703a1972660f0a74d40b8fb&quot;</span><span class="o">;</span>
<span class="n">SubMerchant</span>  <span class="n">subMerchant</span><span class="o">;</span>
<span class="n">OrderManager</span> <span class="n">orderManager</span><span class="o">;</span>

<span class="kd">private</span> <span class="n">SubMerchant</span> <span class="nf">prepareSubmerchant</span><span class="p">(</span><span class="o">)</span>
<span class="o">{</span>
    <span class="n">subMerchant</span> <span class="o">=</span> <span class="k">new</span> <span class="n">SubMerchant</span><span class="o">();</span>
    <span class="n">subMerchant</span><span class="o">.</span><span class="na">setId</span><span class="o">(</span><span class="s">&quot;A100000000000001000234&quot;</span><span class="o">);</span>
    <span class="n">subMerchant</span><span class="o">.</span><span class="na">setUsername</span><span class="o">(</span><span class="s">&quot;A100000000000001000234cc&quot;</span><span class="o">);</span>
    <span class="n">subMerchant</span><span class="o">.</span><span class="na">setPassword</span><span class="o">(</span><span class="s">&quot;0a27524d58fb6394fd5586bcc6ebdf4938e36b8ba1868f2ee15b09d54e9ccb15&quot;</span><span class="o">);</span>
    <span class="k">return</span> <span class="n">subMerchant</span><span class="o">;</span>
<span class="o">}</span>

<span class="nd">@Before</span>
<span class="kd">public</span> <span class="kt">void</span> <span class="nf">before</span><span class="p">(</span><span class="o">)</span>
<span class="o">{</span>
    <span class="n">prepareSubmerchant</span><span class="o">();</span>
    <span class="n">VeritransGateway</span> <span class="n">veritransGateway</span> <span class="o">=</span> <span class="n">VeritransGatewayFactory</span><span class="o">.</span><span class="na">createInstance</span><span class="o">(</span><span class="n">username</span><span class="o">,</span> <span class="n">password</span><span class="o">);</span>
    <span class="n">orderManager</span> <span class="o">=</span> <span class="n">veritransGateway</span><span class="o">.</span><span class="na">getOrderManager</span><span class="o">();</span>
<span class="o">}</span>

<span class="nd">@Test</span>
<span class="kd">public</span> <span class="kt">void</span> <span class="nf">testGetById</span><span class="p">(</span><span class="o">)</span> <span class="kd">throws</span> <span class="n">Exception</span>
<span class="o">{</span>
    <span class="n">OrderResponse</span> <span class="n">order</span> <span class="o">=</span> <span class="n">orderManager</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="s">&quot;3feca687da494f13&quot;</span><span class="o">,</span> <span class="k">this</span><span class="o">.</span><span class="na">subMerchant</span><span class="o">);</span>
    <span class="n">Assert</span><span class="o">.</span><span class="na">assertEquals</span><span class="o">(</span><span class="n">TransactionStatus</span><span class="o">.</span><span class="na">AUTHORIZE</span><span class="o">,</span> <span class="n">order</span><span class="o">.</span><span class="na">getTransactionDetail</span><span class="o">().</span><span class="na">getTransactionStatus</span><span class="o">());</span>
    <span class="n">Assert</span><span class="o">.</span><span class="na">assertEquals</span><span class="o">(</span><span class="n">Bank</span><span class="o">.</span><span class="na">CIMB</span><span class="o">,</span> <span class="n">order</span><span class="o">.</span><span class="na">getTransactionDetail</span><span class="o">().</span><span class="na">getBank</span><span class="o">());</span>
<span class="o">}</span>
</pre>
<h4>Response Object Parameters from Get Order by ID</h4>

<table><thead>
<tr>
<th>Class</th>
<th style="text-align: center">Property</th>
<th style="text-align: center">Data Type</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td>OrderResponse</td>
<td style="text-align: center"></td>
<td style="text-align: center">Object</td>
<td style="text-align: left">Response containing order with corresponding identifier and related to certain sub-merchant. Refer to OrderResponse Object</td>
</tr>
</tbody></table>

<h2>3.2 Get Order List by Multiple OrderIds</h2>

<h4>Request Object Parameters to Get Order by ID</h4>

<table><thead>
<tr>
<th>Class</th>
<th style="text-align: center">Property</th>
<th style="text-align: center">Data Type</th>
<th>Mandatory(Y/N)</th>
<th style="text-align: right">Size</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>String</td>
<td style="text-align: center">orderIds</td>
<td style="text-align: center">String[]</td>
<td>Y</td>
<td style="text-align: right"></td>
<td>Array of order identifiers</td>
</tr>
</tbody></table>

<h4>Method</h4>

<p>The below method is used to get an order definition based on its order id:</p>
<pre class="highlight java"><span class="n">orderManager</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">orderIds</span><span class="o">)</span>
</pre>
<p>Sample Code: Get order by multiple ids</p>
<pre class="highlight java"><span class="nd">@Test</span>
<span class="kd">public</span> <span class="kt">void</span> <span class="nf">testGetOrderByIds</span><span class="p">(</span><span class="o">)</span>
<span class="o">{</span>
    <span class="n">String</span><span class="o">[]</span> <span class="n">args</span> <span class="o">=</span> <span class="k">new</span> <span class="n">String</span><span class="o">[]</span> <span class="o">{</span><span class="s">&quot;3fdfb0d9a2e14e3c&quot;</span><span class="o">,</span> <span class="s">&quot;3fb4d6d767e6d140&quot;</span><span class="o">};</span>
    <span class="n">OrderSearchResponse</span> <span class="n">response</span> <span class="o">=</span> <span class="n">orderManager</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">args</span><span class="o">);</span>
    <span class="n">Assert</span><span class="o">.</span><span class="na">assertEquals</span><span class="o">(</span><span class="s">&quot;3fdfb0d9a2e14e3c&quot;</span><span class="o">,</span> <span class="n">response</span><span class="o">.</span><span class="na">getPayments</span><span class="o">().</span><span class="na">get</span><span class="o">(</span><span class="mi">0</span><span class="o">).</span><span class="na">getOrderId</span><span class="o">());</span>
    <span class="n">Assert</span><span class="o">.</span><span class="na">assertEquals</span><span class="o">(</span><span class="s">&quot;3fb4d6d767e6d140&quot;</span><span class="o">,</span> <span class="n">response</span><span class="o">.</span><span class="na">getPayments</span><span class="o">().</span><span class="na">get</span><span class="o">(</span><span class="mi">1</span><span class="o">).</span><span class="na">getOrderId</span><span class="o">());</span>
    <span class="n">Assert</span><span class="o">.</span><span class="na">assertNotNull</span><span class="o">(</span><span class="n">response</span><span class="o">.</span><span class="na">getPayments</span><span class="o">().</span><span class="na">get</span><span class="o">(</span><span class="mi">0</span><span class="o">).</span><span class="na">getBank</span><span class="o">());</span>
    <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">response</span><span class="o">.</span><span class="na">getPayments</span><span class="o">().</span><span class="na">get</span><span class="o">(</span><span class="mi">0</span><span class="o">).</span><span class="na">getBank</span><span class="o">());</span>
    <span class="n">Assert</span><span class="o">.</span><span class="na">assertNotNull</span><span class="o">(</span><span class="n">response</span><span class="o">.</span><span class="na">getPayments</span><span class="o">().</span><span class="na">get</span><span class="o">(</span><span class="mi">1</span><span class="o">).</span><span class="na">getBank</span><span class="o">());</span>
    <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">response</span><span class="o">.</span><span class="na">getPayments</span><span class="o">().</span><span class="na">get</span><span class="o">(</span><span class="mi">1</span><span class="o">).</span><span class="na">getBank</span><span class="o">());</span>
<span class="o">}</span>
</pre>
<h4>Response Object Parameters from Get Order by Multiple ID&rsquo;s</h4>

<table><thead>
<tr>
<th>Class</th>
<th style="text-align: center">Property</th>
<th style="text-align: center">Data Type</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td>OrderSearchResponse</td>
<td style="text-align: center"></td>
<td style="text-align: center">Object</td>
<td style="text-align: left">Response containing orders related to certain sub-merchant, happened between certain date range, and have certain transaction status. Refer to OrderSearchResponse Object</td>
</tr>
</tbody></table>

<h2>3.3 Get Order by Date Range, Transaction Status, and Merchant ID</h2>

<p>This method can be used to get a list of orders, based on criterias as such start date, end date and transaction status.</p>

<h4>Request Object Parameters to Get Order by Date Range, Transaction Status, and Merchant ID</h4>

<table><thead>
<tr>
<th>Class</th>
<th style="text-align: center">Property</th>
<th style="text-align: center">Data Type</th>
<th style="text-align: center">Mandatory(Y/N)</th>
<th style="text-align: center">Size</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td>OrderSearchParameter</td>
<td style="text-align: center">startDate</td>
<td style="text-align: center">Date</td>
<td style="text-align: center">N</td>
<td style="text-align: center"></td>
<td style="text-align: left">The start date criteria of when an order occurred</td>
</tr>
<tr>
<td></td>
<td style="text-align: center">endDate</td>
<td style="text-align: center">Date</td>
<td style="text-align: center">N</td>
<td style="text-align: center"></td>
<td style="text-align: left">The end date criteria of when an order occurred</td>
</tr>
<tr>
<td></td>
<td style="text-align: center">subMerchantId</td>
<td style="text-align: center">String</td>
<td style="text-align: center">N</td>
<td style="text-align: center">22</td>
<td style="text-align: left">Search criteria on which order related to a particular merchant id</td>
</tr>
<tr>
<td></td>
<td style="text-align: center">transactionStatus</td>
<td style="text-align: center">Enum:TransactionStatus</td>
<td style="text-align: center">N</td>
<td style="text-align: center"></td>
<td style="text-align: left">Search criteria on which order with the particular transaction status we want to get.  Refer to Transaction Status Table</td>
</tr>
<tr>
<td></td>
<td style="text-align: center">page</td>
<td style="text-align: center">int</td>
<td style="text-align: center">N</td>
<td style="text-align: center"></td>
<td style="text-align: left">Get which page to fetch.</td>
</tr>
<tr>
<td></td>
<td style="text-align: center">perPage</td>
<td style="text-align: center">int</td>
<td style="text-align: center">N</td>
<td style="text-align: center"></td>
<td style="text-align: left">Get how many result to get in one</td>
</tr>
<tr>
<td></td>
<td style="text-align: center">transactionType</td>
<td style="text-align: center">Enum:TransactionType</td>
<td style="text-align: center">N</td>
<td style="text-align: center"></td>
<td style="text-align: left">Search criteria to get orders based on type TransactionTypes</td>
</tr>
<tr>
<td>isInternetBanking</td>
<td style="text-align: center"></td>
<td style="text-align: center">Boolean</td>
<td style="text-align: center">Y</td>
<td style="text-align: center"></td>
<td style="text-align: left">Flag to define if the result wanted is Internet Banking order or Credit Card. True for internet banking and False for credit card</td>
</tr>
</tbody></table>

<h4>Method</h4>

<p>The below method is used to get an order definition based on its order id:</p>
<pre class="highlight java"><span class="n">orderManager</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">orderSearchParameter</span><span class="o">,</span> <span class="n">isInternetBanking</span><span class="o">)</span>
</pre>
<p>Sample Code: Get list of orders which starts today and ends tomorrow all submerchant</p>
<pre class="highlight java"><span class="nd">@Test</span>
<span class="kd">public</span> <span class="kt">void</span> <span class="nf">testGetAllOrdersUnderMerchantForToday</span><span class="p">(</span><span class="o">)</span> <span class="kd">throws</span> <span class="n">Exception</span>
<span class="o">{</span>
    <span class="n">OrderSearchParameter</span> <span class="n">orderSearch</span> <span class="o">=</span> <span class="k">new</span> <span class="n">OrderSearchParameter</span><span class="o">();</span>

    <span class="c1">//Set start date of when the order occurred, it will show the orders that that occurs after startDate value</span>
    <span class="c1">//Set start date from March 27 to March 29</span>
    <span class="c1">//Set end date of when the order occured, it will show the orders that that occurs before the endDate value</span>
    <span class="n">orderSearch</span><span class="o">.</span><span class="na">setStartDate</span><span class="o">(</span><span class="k">new</span> <span class="n">Date</span><span class="o">());</span>
    <span class="n">orderSearch</span><span class="o">.</span><span class="na">setEndDate</span><span class="o">(</span><span class="k">new</span> <span class="n">Date</span><span class="o">());</span>

    <span class="n">OrderSearchResponse</span> <span class="n">response</span> <span class="o">=</span> <span class="n">orderManager</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">orderSearch</span><span class="o">,</span> <span class="kc">false</span><span class="o">);</span>

    <span class="k">for</span> <span class="o">(</span><span class="n">OrderSearchResponse</span><span class="o">.</span><span class="na">Payment</span> <span class="n">payment</span> <span class="o">:</span> <span class="n">response</span><span class="o">.</span><span class="na">getPayments</span><span class="o">())</span> <span class="o">{</span>
        <span class="n">Gson</span> <span class="n">gson</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Gson</span><span class="o">();</span>
        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">gson</span><span class="o">.</span><span class="na">toJson</span><span class="o">(</span><span class="n">payment</span><span class="o">));</span>
    <span class="o">}</span>

    <span class="k">if</span> <span class="o">(</span><span class="n">response</span><span class="o">.</span><span class="na">getPayments</span><span class="o">().</span><span class="na">size</span><span class="o">()</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">for</span> <span class="o">(</span><span class="n">OrderSearchResponse</span><span class="o">.</span><span class="na">Payment</span> <span class="n">payment</span> <span class="o">:</span><span class="n">response</span><span class="o">.</span><span class="na">getPayments</span><span class="o">())</span> <span class="o">{</span>
            <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">payment</span><span class="o">.</span><span class="na">getTransactionTime</span><span class="o">());</span>
            <span class="n">SimpleDateFormat</span> <span class="n">sf</span>  <span class="o">=</span> <span class="k">new</span> <span class="n">SimpleDateFormat</span><span class="o">(</span><span class="s">&quot;dd/MM/yyyy hh:mm:ss&quot;</span><span class="o">);</span>
            <span class="n">SimpleDateFormat</span> <span class="n">sf2</span> <span class="o">=</span> <span class="k">new</span> <span class="n">SimpleDateFormat</span><span class="o">(</span><span class="s">&quot;dd/MM/yyyy&quot;</span><span class="o">);</span>
            <span class="n">Date</span>   <span class="n">paymentDate</span>   <span class="o">=</span> <span class="n">sf</span><span class="o">.</span><span class="na">parse</span><span class="o">(</span><span class="n">payment</span><span class="o">.</span><span class="na">getTransactionTime</span><span class="o">());</span>
            <span class="n">String</span> <span class="n">payDate</span> <span class="o">=</span> <span class="n">sf2</span><span class="o">.</span><span class="na">format</span><span class="o">(</span><span class="n">paymentDate</span><span class="o">);</span>
            <span class="n">String</span> <span class="n">nowDate</span> <span class="o">=</span> <span class="n">sf2</span><span class="o">.</span><span class="na">format</span><span class="o">(</span><span class="k">new</span> <span class="n">Date</span><span class="o">());</span>
            <span class="n">Assert</span><span class="o">.</span><span class="na">assertEquals</span><span class="o">(</span><span class="n">payDate</span><span class="o">,</span> <span class="n">nowDate</span><span class="o">);</span>
        <span class="o">}</span>
    <span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&quot;Didn't find orders with given date parameters&quot;</span><span class="o">);</span>
        <span class="n">Assert</span><span class="o">.</span><span class="na">assertEquals</span><span class="o">(</span><span class="n">response</span><span class="o">.</span><span class="na">getPayments</span><span class="o">().</span><span class="na">size</span><span class="o">(),</span> <span class="mi">0</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span>
</pre>
<p>Sample Code: Get list of orders which starts today and ends tomorrow for specific sub merchants</p>
<pre class="highlight java"><span class="nd">@Test</span>
<span class="kd">public</span> <span class="kt">void</span> <span class="nf">testGetByOrderParameterStartEndDateAToday</span><span class="p">(</span><span class="o">)</span> <span class="kd">throws</span> <span class="n">Exception</span>
<span class="o">{</span>
    <span class="n">OrderSearchParameter</span> <span class="n">orderSearch</span> <span class="o">=</span> <span class="k">new</span> <span class="n">OrderSearchParameter</span><span class="o">();</span>

    <span class="c1">//Set start date of when the order occurred, it will show the orders that that occurs after startDate value</span>
    <span class="c1">//Set start date from March 27 to March 29</span>
    <span class="c1">//Set end date of when the order occured, it will show the orders that that occurs before the endDate value</span>
    <span class="n">orderSearch</span><span class="o">.</span><span class="na">setSubMerchantId</span><span class="o">(</span><span class="s">&quot;A100000000000001000234&quot;</span><span class="o">);</span>
    <span class="n">orderSearch</span><span class="o">.</span><span class="na">setStartDate</span><span class="o">(</span><span class="k">new</span> <span class="n">Date</span><span class="o">());</span>
    <span class="n">orderSearch</span><span class="o">.</span><span class="na">setEndDate</span><span class="o">(</span><span class="k">new</span> <span class="n">Date</span><span class="o">());</span>
    <span class="n">orderSearch</span><span class="o">.</span><span class="na">setPage</span><span class="o">(</span><span class="mi">1</span><span class="o">);</span>

    <span class="n">OrderSearchResponse</span> <span class="n">response</span> <span class="o">=</span> <span class="n">orderManager</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">orderSearch</span><span class="o">,</span> <span class="kc">false</span><span class="o">);</span>

    <span class="k">for</span> <span class="o">(</span><span class="n">OrderSearchResponse</span><span class="o">.</span><span class="na">Payment</span> <span class="n">payment</span> <span class="o">:</span> <span class="n">response</span><span class="o">.</span><span class="na">getPayments</span><span class="o">())</span> <span class="o">{</span>
        <span class="n">Gson</span> <span class="n">gson</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Gson</span><span class="o">();</span>
        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">gson</span><span class="o">.</span><span class="na">toJson</span><span class="o">(</span><span class="n">payment</span><span class="o">));</span>
    <span class="o">}</span>

    <span class="k">if</span> <span class="o">(</span><span class="n">response</span><span class="o">.</span><span class="na">getPayments</span><span class="o">().</span><span class="na">size</span><span class="o">()</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">for</span> <span class="o">(</span><span class="n">OrderSearchResponse</span><span class="o">.</span><span class="na">Payment</span> <span class="n">payment</span> <span class="o">:</span><span class="n">response</span><span class="o">.</span><span class="na">getPayments</span><span class="o">())</span> <span class="o">{</span>
            <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">payment</span><span class="o">.</span><span class="na">getTransactionTime</span><span class="o">());</span>
            <span class="n">SimpleDateFormat</span> <span class="n">sf</span>  <span class="o">=</span> <span class="k">new</span> <span class="n">SimpleDateFormat</span><span class="o">(</span><span class="s">&quot;dd/MM/yyyy hh:mm:ss&quot;</span><span class="o">);</span>
            <span class="n">SimpleDateFormat</span> <span class="n">sf2</span> <span class="o">=</span> <span class="k">new</span> <span class="n">SimpleDateFormat</span><span class="o">(</span><span class="s">&quot;dd/MM/yyyy&quot;</span><span class="o">);</span>
            <span class="n">Date</span>   <span class="n">paymentDate</span>   <span class="o">=</span> <span class="n">sf</span><span class="o">.</span><span class="na">parse</span><span class="o">(</span><span class="n">payment</span><span class="o">.</span><span class="na">getTransactionTime</span><span class="o">());</span>
            <span class="n">String</span> <span class="n">payDate</span> <span class="o">=</span> <span class="n">sf2</span><span class="o">.</span><span class="na">format</span><span class="o">(</span><span class="n">paymentDate</span><span class="o">);</span>
            <span class="n">String</span> <span class="n">nowDate</span> <span class="o">=</span> <span class="n">sf2</span><span class="o">.</span><span class="na">format</span><span class="o">(</span><span class="k">new</span> <span class="n">Date</span><span class="o">());</span>
            <span class="n">Assert</span><span class="o">.</span><span class="na">assertEquals</span><span class="o">(</span><span class="n">payDate</span><span class="o">,</span> <span class="n">nowDate</span><span class="o">);</span>
        <span class="o">}</span>
    <span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&quot;Didn't find orders with given date parameters&quot;</span><span class="o">);</span>
        <span class="n">Assert</span><span class="o">.</span><span class="na">assertEquals</span><span class="o">(</span><span class="n">response</span><span class="o">.</span><span class="na">getPayments</span><span class="o">().</span><span class="na">size</span><span class="o">(),</span> <span class="mi">0</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span>
</pre>
<p>Sample Code: Get list of SETTLED credit card orders which starts today and ends tomorrow for a particular sub merchant</p>
<pre class="highlight java"><span class="nd">@Test</span>
<span class="kd">public</span> <span class="kt">void</span> <span class="nf">testGetByTransactionStatusSettlement</span><span class="p">(</span><span class="o">)</span> <span class="kd">throws</span> <span class="n">Exception</span>
<span class="o">{</span>
    <span class="n">VeritransGateway</span> <span class="n">veritransGateway</span> <span class="o">=</span> <span class="n">VeritransGatewayFactory</span><span class="o">.</span><span class="na">createInstance</span><span class="o">(</span><span class="n">username</span><span class="o">,</span> <span class="n">password</span><span class="o">);</span>
    <span class="n">OrderManager</span>     <span class="n">orderManager</span>     <span class="o">=</span> <span class="n">veritransGateway</span><span class="o">.</span><span class="na">getOrderManager</span><span class="o">();</span>

    <span class="n">OrderSearchParameter</span> <span class="n">orderSearch</span> <span class="o">=</span> <span class="k">new</span> <span class="n">OrderSearchParameter</span><span class="o">();</span>
    <span class="n">orderSearch</span><span class="o">.</span><span class="na">setTransactionStatus</span><span class="o">(</span><span class="n">TransactionStatus</span><span class="o">.</span><span class="na">SETTLEMENT</span><span class="o">);</span>
    <span class="n">orderSearch</span><span class="o">.</span><span class="na">setSubMerchantId</span><span class="o">(</span><span class="s">&quot;A100000000000001000234&quot;</span><span class="o">);</span>
    <span class="n">OrderSearchResponse</span> <span class="n">response</span> <span class="o">=</span> <span class="n">orderManager</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">orderSearch</span><span class="o">,</span> <span class="kc">false</span><span class="o">);</span>

    <span class="k">for</span> <span class="o">(</span><span class="n">OrderSearchResponse</span><span class="o">.</span><span class="na">Payment</span> <span class="n">payment</span> <span class="o">:</span><span class="n">response</span><span class="o">.</span><span class="na">getPayments</span><span class="o">())</span> <span class="o">{</span>
        <span class="n">Assert</span><span class="o">.</span><span class="na">assertEquals</span><span class="o">(</span><span class="n">payment</span><span class="o">.</span><span class="na">getTransactionStatus</span><span class="o">(),</span> <span class="n">TransactionStatus</span><span class="o">.</span><span class="na">SETTLEMENT</span><span class="o">);</span>
        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">payment</span><span class="o">.</span><span class="na">getOrderId</span><span class="o">());</span>
    <span class="o">}</span>
<span class="o">}</span>
</pre>
<p>Sample Code: Get list of CHALLENGED credit card orders which starts today and ends tomorrow for a particular sub merchant</p>
<pre class="highlight java"><span class="n">String</span> <span class="n">id</span> <span class="o">=</span> <span class="s">&quot;A100000000000001000233&quot;</span><span class="o">;</span>
<span class="n">String</span> <span class="n">username</span> <span class="o">=</span> <span class="s">&quot;A100000000000001000233cc&quot;</span><span class="o">;</span>
<span class="n">String</span> <span class="n">password</span> <span class="o">=</span> <span class="s">&quot;af757b7d932482672d78396539638e18ddb8510d8703a1972660f0a74d40b8fb&quot;</span><span class="o">;</span>
<span class="n">SubMerchant</span>  <span class="n">subMerchant</span><span class="o">;</span>
<span class="n">OrderManager</span> <span class="n">orderManager</span><span class="o">;</span>

<span class="kd">private</span> <span class="n">SubMerchant</span> <span class="nf">prepareSubmerchant</span><span class="p">(</span><span class="o">)</span>
<span class="o">{</span>
    <span class="n">subMerchant</span> <span class="o">=</span> <span class="k">new</span> <span class="n">SubMerchant</span><span class="o">();</span>
    <span class="n">subMerchant</span><span class="o">.</span><span class="na">setId</span><span class="o">(</span><span class="s">&quot;A100000000000001000234&quot;</span><span class="o">);</span>
    <span class="n">subMerchant</span><span class="o">.</span><span class="na">setUsername</span><span class="o">(</span><span class="s">&quot;A100000000000001000234cc&quot;</span><span class="o">);</span>
    <span class="n">subMerchant</span><span class="o">.</span><span class="na">setPassword</span><span class="o">(</span><span class="s">&quot;0a27524d58fb6394fd5586bcc6ebdf4938e36b8ba1868f2ee15b09d54e9ccb15&quot;</span><span class="o">);</span>
    <span class="k">return</span> <span class="n">subMerchant</span><span class="o">;</span>
<span class="o">}</span>

<span class="nd">@Before</span>
<span class="kd">public</span> <span class="kt">void</span> <span class="nf">before</span><span class="p">(</span><span class="o">)</span>
<span class="o">{</span>
    <span class="n">prepareSubmerchant</span><span class="o">();</span>
    <span class="n">VeritransGateway</span> <span class="n">veritransGateway</span> <span class="o">=</span> <span class="n">VeritransGatewayFactory</span><span class="o">.</span><span class="na">createInstance</span><span class="o">(</span><span class="n">username</span><span class="o">,</span> <span class="n">password</span><span class="o">);</span>
    <span class="n">orderManager</span> <span class="o">=</span> <span class="n">veritransGateway</span><span class="o">.</span><span class="na">getOrderManager</span><span class="o">();</span>
<span class="o">}</span>

<span class="nd">@Test</span>
<span class="kd">public</span> <span class="kt">void</span> <span class="nf">testGetByTransactionStatusChallenge</span><span class="p">(</span><span class="o">)</span> <span class="kd">throws</span> <span class="n">Exception</span>
<span class="o">{</span>
    <span class="n">OrderSearchParameter</span> <span class="n">orderSearch</span> <span class="o">=</span> <span class="k">new</span> <span class="n">OrderSearchParameter</span><span class="o">();</span>
    <span class="n">orderSearch</span><span class="o">.</span><span class="na">setTransactionStatus</span><span class="o">(</span><span class="n">TransactionStatus</span><span class="o">.</span><span class="na">CHALLENGE</span><span class="o">);</span>
    <span class="n">orderSearch</span><span class="o">.</span><span class="na">setSubMerchantId</span><span class="o">(</span><span class="s">&quot;A100000000000001000234&quot;</span><span class="o">);</span>
    <span class="n">OrderSearchResponse</span> <span class="n">response</span> <span class="o">=</span> <span class="n">orderManager</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">orderSearch</span><span class="o">,</span> <span class="kc">false</span><span class="o">);</span>

    <span class="k">for</span> <span class="o">(</span><span class="n">OrderSearchResponse</span><span class="o">.</span><span class="na">Payment</span> <span class="n">payment</span> <span class="o">:</span><span class="n">response</span><span class="o">.</span><span class="na">getPayments</span><span class="o">())</span> <span class="o">{</span>
        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">payment</span><span class="o">.</span><span class="na">getTransactionStatus</span><span class="o">());</span>
        <span class="n">Assert</span><span class="o">.</span><span class="na">assertEquals</span><span class="o">(</span><span class="n">payment</span><span class="o">.</span><span class="na">getTransactionStatus</span><span class="o">(),</span> <span class="n">TransactionStatus</span><span class="o">.</span><span class="na">CHALLENGE</span><span class="o">);</span>
        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">payment</span><span class="o">.</span><span class="na">getOrderId</span><span class="o">());</span>
    <span class="o">}</span>
<span class="o">}</span>
</pre>
<p>Sample Code: Get list of DENIED credit card orders  for a particular submerchants</p>
<pre class="highlight java"><span class="n">String</span> <span class="n">id</span> <span class="o">=</span> <span class="s">&quot;A100000000000001000233&quot;</span><span class="o">;</span>
<span class="n">String</span> <span class="n">username</span> <span class="o">=</span> <span class="s">&quot;A100000000000001000233cc&quot;</span><span class="o">;</span>
<span class="n">String</span> <span class="n">password</span> <span class="o">=</span> <span class="s">&quot;af757b7d932482672d78396539638e18ddb8510d8703a1972660f0a74d40b8fb&quot;</span><span class="o">;</span>
<span class="n">SubMerchant</span>  <span class="n">subMerchant</span><span class="o">;</span>
<span class="n">OrderManager</span> <span class="n">orderManager</span><span class="o">;</span>

<span class="kd">private</span> <span class="n">SubMerchant</span> <span class="nf">prepareSubmerchant</span><span class="p">(</span><span class="o">)</span>
<span class="o">{</span>
    <span class="n">subMerchant</span> <span class="o">=</span> <span class="k">new</span> <span class="n">SubMerchant</span><span class="o">();</span>
    <span class="n">subMerchant</span><span class="o">.</span><span class="na">setId</span><span class="o">(</span><span class="s">&quot;A100000000000001000234&quot;</span><span class="o">);</span>
    <span class="n">subMerchant</span><span class="o">.</span><span class="na">setUsername</span><span class="o">(</span><span class="s">&quot;A100000000000001000234cc&quot;</span><span class="o">);</span>
    <span class="n">subMerchant</span><span class="o">.</span><span class="na">setPassword</span><span class="o">(</span><span class="s">&quot;0a27524d58fb6394fd5586bcc6ebdf4938e36b8ba1868f2ee15b09d54e9ccb15&quot;</span><span class="o">);</span>
    <span class="k">return</span> <span class="n">subMerchant</span><span class="o">;</span>
<span class="o">}</span>

<span class="nd">@Before</span>
<span class="kd">public</span> <span class="kt">void</span> <span class="nf">before</span><span class="p">(</span><span class="o">)</span>
<span class="o">{</span>
    <span class="n">prepareSubmerchant</span><span class="o">();</span>
    <span class="n">VeritransGateway</span> <span class="n">veritransGateway</span> <span class="o">=</span> <span class="n">VeritransGatewayFactory</span><span class="o">.</span><span class="na">createInstance</span><span class="o">(</span><span class="n">username</span><span class="o">,</span> <span class="n">password</span><span class="o">);</span>
    <span class="n">orderManager</span> <span class="o">=</span> <span class="n">veritransGateway</span><span class="o">.</span><span class="na">getOrderManager</span><span class="o">();</span>
<span class="o">}</span>

<span class="nd">@Test</span>
<span class="kd">public</span> <span class="kt">void</span> <span class="nf">testGetByTransactionStatusDeny</span><span class="p">(</span><span class="o">)</span> <span class="kd">throws</span> <span class="n">Exception</span>
<span class="o">{</span>
    <span class="n">OrderSearchParameter</span> <span class="n">orderSearch</span> <span class="o">=</span> <span class="k">new</span> <span class="n">OrderSearchParameter</span><span class="o">();</span>
    <span class="n">orderSearch</span><span class="o">.</span><span class="na">setTransactionStatus</span><span class="o">(</span><span class="n">TransactionStatus</span><span class="o">.</span><span class="na">DENY</span><span class="o">);</span>
    <span class="n">orderSearch</span><span class="o">.</span><span class="na">setSubMerchantId</span><span class="o">(</span><span class="s">&quot;A100000000000001000234&quot;</span><span class="o">);</span>
    <span class="n">OrderSearchResponse</span> <span class="n">response</span> <span class="o">=</span> <span class="n">orderManager</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">orderSearch</span><span class="o">,</span> <span class="kc">false</span><span class="o">);</span>

    <span class="k">for</span> <span class="o">(</span><span class="n">OrderSearchResponse</span><span class="o">.</span><span class="na">Payment</span> <span class="n">payment</span> <span class="o">:</span><span class="n">response</span><span class="o">.</span><span class="na">getPayments</span><span class="o">())</span> <span class="o">{</span>
        <span class="n">Assert</span><span class="o">.</span><span class="na">assertEquals</span><span class="o">(</span><span class="n">payment</span><span class="o">.</span><span class="na">getTransactionStatus</span><span class="o">(),</span> <span class="n">TransactionStatus</span><span class="o">.</span><span class="na">DENY</span><span class="o">);</span>
        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">payment</span><span class="o">.</span><span class="na">getOrderId</span><span class="o">());</span>
    <span class="o">}</span>
<span class="o">}</span>
</pre>
<p>Sample Code: Get list of SETTLED internet banking orders for a particular sub merchant</p>
<pre class="highlight java"><span class="n">String</span> <span class="n">id</span> <span class="o">=</span> <span class="s">&quot;A100000000000001000233&quot;</span><span class="o">;</span>
<span class="n">String</span> <span class="n">username</span> <span class="o">=</span> <span class="s">&quot;A100000000000001000233cc&quot;</span><span class="o">;</span>
<span class="n">String</span> <span class="n">password</span> <span class="o">=</span> <span class="s">&quot;af757b7d932482672d78396539638e18ddb8510d8703a1972660f0a74d40b8fb&quot;</span><span class="o">;</span>
<span class="n">SubMerchant</span>  <span class="n">subMerchant</span><span class="o">;</span>
<span class="n">OrderManager</span> <span class="n">orderManager</span><span class="o">;</span>

<span class="kd">private</span> <span class="n">SubMerchant</span> <span class="nf">prepareSubmerchant</span><span class="p">(</span><span class="o">)</span>
<span class="o">{</span>
    <span class="n">subMerchant</span> <span class="o">=</span> <span class="k">new</span> <span class="n">SubMerchant</span><span class="o">();</span>
    <span class="n">subMerchant</span><span class="o">.</span><span class="na">setId</span><span class="o">(</span><span class="s">&quot;A100000000000001000234&quot;</span><span class="o">);</span>
    <span class="n">subMerchant</span><span class="o">.</span><span class="na">setUsername</span><span class="o">(</span><span class="s">&quot;A100000000000001000234cc&quot;</span><span class="o">);</span>
    <span class="n">subMerchant</span><span class="o">.</span><span class="na">setPassword</span><span class="o">(</span><span class="s">&quot;0a27524d58fb6394fd5586bcc6ebdf4938e36b8ba1868f2ee15b09d54e9ccb15&quot;</span><span class="o">);</span>
    <span class="k">return</span> <span class="n">subMerchant</span><span class="o">;</span>
<span class="o">}</span>

<span class="nd">@Before</span>
<span class="kd">public</span> <span class="kt">void</span> <span class="nf">before</span><span class="p">(</span><span class="o">)</span>
<span class="o">{</span>
    <span class="n">prepareSubmerchant</span><span class="o">();</span>
    <span class="n">VeritransGateway</span> <span class="n">veritransGateway</span> <span class="o">=</span> <span class="n">VeritransGatewayFactory</span><span class="o">.</span><span class="na">createInstance</span><span class="o">(</span><span class="n">username</span><span class="o">,</span> <span class="n">password</span><span class="o">);</span>
    <span class="n">orderManager</span> <span class="o">=</span> <span class="n">veritransGateway</span><span class="o">.</span><span class="na">getOrderManager</span><span class="o">();</span>
<span class="o">}</span>

<span class="nd">@Test</span>
<span class="kd">public</span> <span class="kt">void</span> <span class="nf">testGetOrderByIdInternetBankingSettlement</span><span class="p">(</span><span class="o">)</span>
<span class="o">{</span>
    <span class="c1">//    OrderResponse order = orderManager.get(&quot;3fc5065009452828&quot;, subMerchant);</span>
    <span class="n">OrderResponse</span> <span class="n">order</span> <span class="o">=</span> <span class="n">orderManager</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="s">&quot;3fd9735b61c8edc2&quot;</span><span class="o">,</span> <span class="n">subMerchant</span><span class="o">);</span>

    <span class="k">if</span> <span class="o">(</span><span class="n">order</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&quot;Got order with latest status&quot;</span> <span class="o">+</span> <span class="n">order</span><span class="o">.</span><span class="na">getTransactionDetail</span><span class="o">().</span><span class="na">getLatestStatus</span><span class="o">());</span>
    <span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&quot;Didn't find order with the particular order id&quot;</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="n">Assert</span><span class="o">.</span><span class="na">assertEquals</span><span class="o">(</span><span class="n">TransactionStatus</span><span class="o">.</span><span class="na">SETTLEMENT</span><span class="o">,</span> <span class="n">order</span><span class="o">.</span><span class="na">getTransactionDetail</span><span class="o">().</span><span class="na">getTransactionStatus</span><span class="o">());</span>
<span class="o">}</span>
</pre>
<p>Sample Code: Get list of internet banking orders particular sub merchant</p>
<pre class="highlight java"><span class="n">String</span> <span class="n">id</span> <span class="o">=</span> <span class="s">&quot;A100000000000001000233&quot;</span><span class="o">;</span>
<span class="n">String</span> <span class="n">username</span> <span class="o">=</span> <span class="s">&quot;A100000000000001000233cc&quot;</span><span class="o">;</span>
<span class="n">String</span> <span class="n">password</span> <span class="o">=</span> <span class="s">&quot;af757b7d932482672d78396539638e18ddb8510d8703a1972660f0a74d40b8fb&quot;</span><span class="o">;</span>
<span class="n">SubMerchant</span>  <span class="n">subMerchant</span><span class="o">;</span>
<span class="n">OrderManager</span> <span class="n">orderManager</span><span class="o">;</span>

<span class="kd">private</span> <span class="n">SubMerchant</span> <span class="nf">prepareSubmerchant</span><span class="p">(</span><span class="o">)</span>
<span class="o">{</span>
    <span class="n">subMerchant</span> <span class="o">=</span> <span class="k">new</span> <span class="n">SubMerchant</span><span class="o">();</span>
    <span class="n">subMerchant</span><span class="o">.</span><span class="na">setId</span><span class="o">(</span><span class="s">&quot;A100000000000001000234&quot;</span><span class="o">);</span>
    <span class="n">subMerchant</span><span class="o">.</span><span class="na">setUsername</span><span class="o">(</span><span class="s">&quot;A100000000000001000234cc&quot;</span><span class="o">);</span>
    <span class="n">subMerchant</span><span class="o">.</span><span class="na">setPassword</span><span class="o">(</span><span class="s">&quot;0a27524d58fb6394fd5586bcc6ebdf4938e36b8ba1868f2ee15b09d54e9ccb15&quot;</span><span class="o">);</span>
    <span class="k">return</span> <span class="n">subMerchant</span><span class="o">;</span>
<span class="o">}</span>

<span class="nd">@Before</span>
<span class="kd">public</span> <span class="kt">void</span> <span class="nf">before</span><span class="p">(</span><span class="o">)</span>
<span class="o">{</span>
    <span class="n">prepareSubmerchant</span><span class="o">();</span>
    <span class="n">VeritransGateway</span> <span class="n">veritransGateway</span> <span class="o">=</span> <span class="n">VeritransGatewayFactory</span><span class="o">.</span><span class="na">createInstance</span><span class="o">(</span><span class="n">username</span><span class="o">,</span> <span class="n">password</span><span class="o">);</span>
    <span class="n">orderManager</span> <span class="o">=</span> <span class="n">veritransGateway</span><span class="o">.</span><span class="na">getOrderManager</span><span class="o">();</span>
<span class="o">}</span>

<span class="nd">@Test</span>
<span class="kd">public</span> <span class="kt">void</span> <span class="nf">testGetByOrderParameterStartEndDateIB</span><span class="p">(</span><span class="o">)</span> <span class="kd">throws</span> <span class="n">Exception</span>
<span class="o">{</span>
    <span class="n">OrderSearchParameter</span> <span class="n">orderSearch</span> <span class="o">=</span> <span class="k">new</span> <span class="n">OrderSearchParameter</span><span class="o">();</span>

    <span class="c1">//Set criteria get orders from submerchantId</span>
    <span class="n">orderSearch</span><span class="o">.</span><span class="na">setSubMerchantId</span><span class="o">(</span><span class="s">&quot;A100000000000001000234&quot;</span><span class="o">);</span>

    <span class="n">OrderSearchResponse</span> <span class="n">responseList</span> <span class="o">=</span> <span class="n">orderManager</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">orderSearch</span><span class="o">,</span> <span class="kc">true</span><span class="o">);</span>

    <span class="k">for</span> <span class="o">(</span><span class="n">OrderSearchResponse</span><span class="o">.</span><span class="na">Payment</span> <span class="n">payment</span> <span class="o">:</span> <span class="n">responseList</span><span class="o">.</span><span class="na">getPayments</span><span class="o">())</span> <span class="o">{</span>
        <span class="n">Assert</span><span class="o">.</span><span class="na">assertEquals</span><span class="o">(</span><span class="n">payment</span><span class="o">.</span><span class="na">getServiceTypeCD</span><span class="o">(),</span> <span class="s">&quot;click&quot;</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span>
</pre>
<p>Sample Code: Get list of all Mandiri ClickPay orders for a particular submerchant</p>
<pre class="highlight java"><span class="nd">@Test</span>
<span class="kd">public</span> <span class="kt">void</span> <span class="nf">testGetOrderByParamMandiri</span><span class="p">(</span><span class="o">)</span>
<span class="o">{</span>
    <span class="n">OrderSearchParameter</span> <span class="n">orderSearch</span> <span class="o">=</span> <span class="k">new</span> <span class="n">OrderSearchParameter</span><span class="o">();</span>
    <span class="n">orderSearch</span><span class="o">.</span><span class="na">setTransactionStatus</span><span class="o">(</span><span class="n">TransactionStatus</span><span class="o">.</span><span class="na">AUTHORIZE</span><span class="o">);</span>
    <span class="n">orderSearch</span><span class="o">.</span><span class="na">setSubMerchantId</span><span class="o">(</span><span class="s">&quot;A100000000000001000234&quot;</span><span class="o">);</span>
    <span class="n">orderSearch</span><span class="o">.</span><span class="na">setTransactionType</span><span class="o">(</span><span class="n">TransactionType</span><span class="o">.</span><span class="na">MANDIRI_CLICKPAY</span><span class="o">);</span>

    <span class="n">OrderSearchResponse</span> <span class="n">response</span> <span class="o">=</span> <span class="n">orderManager</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">orderSearch</span><span class="o">,</span> <span class="kc">true</span><span class="o">);</span>

    <span class="k">for</span> <span class="o">(</span><span class="n">OrderSearchResponse</span><span class="o">.</span><span class="na">Payment</span> <span class="n">payment</span> <span class="o">:</span> <span class="n">response</span><span class="o">.</span><span class="na">getPayments</span><span class="o">())</span> <span class="o">{</span>
        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">payment</span><span class="o">.</span><span class="na">getTransactionStatus</span><span class="o">());</span>
        <span class="n">Assert</span><span class="o">.</span><span class="na">assertEquals</span><span class="o">(</span><span class="n">payment</span><span class="o">.</span><span class="na">getTransactionType</span><span class="o">(),</span> <span class="n">TransactionType</span><span class="o">.</span><span class="na">MANDIRI_CLICKPAY</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span>
</pre>
<p>Sample Code: Get list of all KlikBCA orders for a particular submerchant</p>
<pre class="highlight java"><span class="nd">@Test</span>
<span class="kd">public</span> <span class="kt">void</span> <span class="nf">testGetOrderByParamKlikBCA</span><span class="p">(</span><span class="o">)</span>
<span class="o">{</span>
    <span class="n">OrderSearchParameter</span> <span class="n">orderSearch</span> <span class="o">=</span> <span class="k">new</span> <span class="n">OrderSearchParameter</span><span class="o">();</span>
    <span class="n">orderSearch</span><span class="o">.</span><span class="na">setTransactionStatus</span><span class="o">(</span><span class="n">TransactionStatus</span><span class="o">.</span><span class="na">AUTHORIZE</span><span class="o">);</span>
    <span class="n">orderSearch</span><span class="o">.</span><span class="na">setSubMerchantId</span><span class="o">(</span><span class="s">&quot;A100000000000001000234&quot;</span><span class="o">);</span>
    <span class="n">orderSearch</span><span class="o">.</span><span class="na">setTransactionType</span><span class="o">(</span><span class="n">TransactionType</span><span class="o">.</span><span class="na">BCA_KLIKBCA</span><span class="o">);</span>

    <span class="n">OrderSearchResponse</span> <span class="n">response</span> <span class="o">=</span> <span class="n">orderManager</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">orderSearch</span><span class="o">,</span> <span class="kc">true</span><span class="o">);</span>

    <span class="k">for</span> <span class="o">(</span><span class="n">OrderSearchResponse</span><span class="o">.</span><span class="na">Payment</span> <span class="n">payment</span> <span class="o">:</span> <span class="n">response</span><span class="o">.</span><span class="na">getPayments</span><span class="o">())</span> <span class="o">{</span>
        <span class="n">Assert</span><span class="o">.</span><span class="na">assertEquals</span><span class="o">(</span><span class="n">payment</span><span class="o">.</span><span class="na">getTransactionType</span><span class="o">(),</span> <span class="n">TransactionType</span><span class="o">.</span><span class="na">BCA_KLIKBCA</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span>
</pre>
<h4>Response Object Parameters from Get Order List by Date Range, Transaction Status, and Merchant ID</h4>

<table><thead>
<tr>
<th>Class</th>
<th style="text-align: center">Property</th>
<th style="text-align: center">Data Type</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td>OrderSearchResponse</td>
<td style="text-align: center"></td>
<td style="text-align: center">Object</td>
<td style="text-align: left">Response containing orders related to certain sub-merchant, happened between certain date range, and have certain transaction status. Refer to OrderSearchResponse Object</td>
</tr>
</tbody></table>
</article></section><section><footer>&copy; Veritrans Documentation portal ^2014</footer></section><script src="../../assets/javascripts/app-b3406078.js" type="text/javascript"></script></body></html>