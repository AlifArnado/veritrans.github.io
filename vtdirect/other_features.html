<!DOCTYPE html>
<html lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Veritrans API Documentation. Payment Gateway Indonesia, transaksi online lebih aman, mudah, cepat! Veritrans memberi solusi sistem payment gateway terbaik untuk e-commerce di Indonesia.">
    <meta name="keywords" content="Veritrans, Veritrans Indonesia, payment gateway indonesia, Pembayaran Online Indonesia, online payment Indonesia, sistem transaksi online"> 
    <link href="../stylesheets/style.css" media="screen" rel="stylesheet" type="text/css" />
    <title>Docs - Veritrans Indonesia</title>
		<link rel="shortcut icon" href="/favicon.ico"/>

    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
      <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
    <![endif]-->
  </head>

  <body>
    <div class="header navbar navbar-default navbar-fixed-top">
      <div class="custom-container">
        <div class="col-md-3 navbar-header">
          <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <h2 class="logo"><a href="index.html" title="Home"><span>Veritrans</span></a></h2>
        </div>
        <div class="navbar-collapse collapse">
          <ul class="nav navbar-nav">
            <li><a href="http://veritrans.co.id/whatwedo.html" title="What We Do">what we do</a></li>
            <li><a href="http://veritrans.co.id/index.html#vt-products" title="Our Online Payment Products">products</a></li>
            <li><a href="http://veritrans.co.id/pricing.html" title="Check for Our Pricing">pricing</a></li>

            <li class="dropdown">
              <a href="" class="dropdown-toggle" data-toggle="dropdown">about <b class="caret"></b></a>
              <ul class="dropdown-menu">
                <li><a href="http://veritrans.co.id/about.html" title="About Veritrans">about us</a></li>
                <li><a href="http://docs.veritrans.co.id/faq/general.html" title="FAQ & How To">FAQ</a></li>
                <li><a href="http://veritrans.co.id/career.html" title="Career at Veritrans">career</a></li>
                <li><a href="http://veritrans.co.id/contact.html" title="Contact Us">contact</a></li>
              </ul>
            </li>
            <!-- <li><a href="http://docs.veritrans.co.id" title="Product Documentations">docs</a></li> -->
            <li class="dropdown">
              <a href="#" class="dropdown-toggle" data-toggle="dropdown">developer <b class="caret"></b></a>
              <ul class="dropdown-menu">
                <li><a href="http://veritrans.co.id/sandbox.html">sandbox</a></li>
                <li><a href="http://docs.veritrans.co.id/">documentation</a></li>
              </ul>
            </li>
            <li class="dropdown">
              <a href="#" class="dropdown-toggle" data-toggle="dropdown">community <b class="caret"></b></a>
              <ul class="dropdown-menu">
                <li><a href="http://veritrans.co.id/festivalbelanja.html" title="Festival Belanja Veritrans" target="_blank">events</a></li>
                <li><a href="http://blog.veritrans.co.id" title="Blog, News and Press Release">blog</a></li>
                <li><a href="http://veritrans.co.id/portfolio.html" title="Our Clients">our clients</a></li>
                <li><a href="http://veritrans.co.id/why-veritrans.html" title="Why Veritrans">why veritrans</a></li>
              </ul>
            </li>
          </ul>
          <ul class="nav navbar-nav navbar-right register-login">
            <li class="pull-left"><a href="https://my.veritrans.co.id/register" class="register">register</a></li>
            <li class="pull-left"><a href="https://my.veritrans.co.id/login">login</a></li>
          </ul>
        </div><!--/.nav-collapse -->
      </div>
    </div>

    <div class="custom-container">
      <div class="row row-offcanvas row-offcanvas-right">
        <div class="col-xs-6 col-sm-3 sidebar-offcanvas" id="sidebar" role="navigation">
	<div class="documentation-sidebar">
		<div class="docs-logo">
			<span>DOCS</span>
		</div>
		<div class="language-toggle"> English / <a href="../id/vtdirect/other_features.html">Bahasa Indonesia</a></div>
		<ul class="sidebar">
			<li><a class="parent">Payment API</a>
				<ul class="child-menu">
					
					<li class=""><a href="../payment_api/introduction.html">Introduction</a></li>
					
					<li class=""><a href="../payment_api/payment_type.html">Payment Methods</a></li>
					
					<li class=""><a href="../payment_api/payment_method.html">Payment Type</a></li>
					
				</ul>
			</li>
			<li><a class="parent">VT-Web</a>
				<ul class="child-menu">
					
					<li class=""><a href="../vtweb/introduction.html">Introduction</a></li>
					
					<li class=""><a href="../vtweb/getting_started.html">Getting Started</a></li>
					
					<li class=""><a href="../vtweb/get_redirect_url.html">Obtaining Redirect URL</a></li>
					
					<li class=""><a href="../vtweb/redirect.html">Redirect</a></li>
					
					<li class=""><a href="../vtweb/handle_notification.html">Handling Notification</a></li>
					
					<li class=""><a href="../vtweb/going_live.html">Going Live</a></li>
					
					<li class=""><a href="../vtweb/other_features.html">Other Features</a></li>
					
					<li class=""><a href="../vtweb/payment_options.html">payment Options</a></li>
					
					<li class=""><a href="../vtweb/sample_code.html">Sample Code</a></li>
					
				</ul>
			</li>
			<li><a class="parent">VT-Direct</a>
				<ul class="child-menu">
					
					<li class=""><a href="introduction.html">Introduction</a></li>
					
					<li class=""><a href="getting_started.html">Getting Started</a></li>
					
					<li class=""><a href="integration.html">Integration</a></li>
					
					<li class=""><a href="going_live.html">Going Live</a></li>
					
					<li class=""><a href="other_commands.html">Other Commands</a></li>
					
					<li class="active"><a href="other_features.html">Other Features</a></li>
					
					<li class=""><a href="payment_options.html">Payment Options</a></li>
					
					<li class=""><a href="examples.html">Examples</a></li>
					
				</ul>
			</li>
			<li><a class="parent">Sandbox</a>
				<ul class="child-menu">
					
					<li class=""><a href="../sandbox/difference.html">Sandbox and Production Differences</a></li>
					
					<li class=""><a href="../sandbox/testing_vtweb.html">Testing VTWeb on Sandbox</a></li>
					
					<li class=""><a href="../sandbox/card_list.html">Credit Card for Testing</a></li>
					
					<li class=""><a href="../sandbox/status_code.html">Status Code</a></li>
					
				</ul>
			</li>
			<li><a class="parent">How to</a>
				<ul class="child-menu">
					
					<li class=""><a href="../howto/fds.html">Fraud Detection System</a></li>
					
					<li class=""><a href="../howto/cancel.html">Cancel Transaction</a></li>
					
				</ul>
			</li>
			<li><a class="parent">FAQ</a>
				<ul class="child-menu">
					
					<li class=""><a href="../faq/general.html">General Information</a></li>
					
					<li class=""><a href="../faq/pricing.html">Pricing</a></li>
					
					<li class=""><a href="../faq/fraud_and_security.html">Fraud dan Security</a></li>
					
					<li class=""><a href="../faq/integration.html">Integrasi</a></li>
					
					<li class=""><a href="../faq/account_management.html">Manajemen Akun</a></li>
					
					<li class=""><a href="../faq/fds_response.html">Fraud Detection System (FDS) Response</a></li>
					
				</ul>
			</li>
		</ul>
	</div>
</div><!--/span-->
        <div class="col-xs-12 col-sm-9" id="bodier">
          <p class="pull-right visible-xs">
            <button type="button" class="btn btn-primary btn-xs" data-toggle="offcanvas">Menu</button>
          </p>
          <div class="vtdirect-other-features">
            <h2 id="other-feature">Other Feature</h2>

<p>Currently Veritrans has other features for credit card, namely :</p>

<ol>
  <li><a href="other_features.html#pre-authorization">Pre-Authorization</a></li>
  <li><a href="other_features.html#installment">Installment</a></li>
  <li><a href="other_features.html#binpromo">BIN Promo</a></li>
  <li><a href="other_features.html#oneclick">One Click</a></li>
  <li><a href="two_clicks.html">Two Click</a></li>
</ol>

<p>Here is a tutorial for doing integration using the features to suit your needs.</p>

<h3 id="a-namepre-authorizationapre-authorization"><a name="pre-authorization"></a>Pre-Authorization</h3>

<h4 id="pre-authorization-transaction">Pre-Authorization Transaction</h4>

<p>To conduct pre-authorization charge transaction <code>"type": authorize</code> should be added in JSON request in <code>"credit_card"</code> part. Sample in PHP:</p>

<pre class="highlight php">// Data to be sent to request charge transaction with a credit card
$transaction_data = array(
  'payment_type'    =&gt; 'credit_card', 
  'credit_card'     =&gt; array(
    'type'          =&gt; authorize,
    'token_id'      =&gt; $token_id,
    'bank'          =&gt; 'bni'
  ),
  'transaction_details'   =&gt; $transaction_details,
  'item_details'          =&gt; $items,
  'customer_details'      =&gt; $customer_details
);
</pre>

<h4 id="pre-authorization-response">Pre-Authorization Response</h4>

<p>Obtained response if charge transaction success:</p>

<pre class="highlight json"><span class="p">{</span><span class="w">
    </span><span class="s2">&quot;status_code&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;200&quot;</span><span class="p">,</span><span class="w">
    </span><span class="s2">&quot;status_message&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;OK, Credit Card transaction is successful&quot;</span><span class="p">,</span><span class="w">
    </span><span class="s2">&quot;transaction_id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;948996b4-9323-4ac3-b3ea-bd7035f9bf2b&quot;</span><span class="p">,</span><span class="w">
    </span><span class="s2">&quot;order_id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;201404211437&quot;</span><span class="p">,</span><span class="w">
    </span><span class="s2">&quot;payment_type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;credit_card&quot;</span><span class="p">,</span><span class="w">
    </span><span class="s2">&quot;transaction_time&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2014-04-21 14:35:32&quot;</span><span class="p">,</span><span class="w">
    </span><span class="s2">&quot;transaction_status&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;authorize&quot;</span><span class="p">,</span><span class="w">
    </span><span class="s2">&quot;fraud_status&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;noscore&quot;</span><span class="p">,</span><span class="w">
    </span><span class="s2">&quot;masked_card&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;401111-1112&quot;</span><span class="p">,</span><span class="w">
    </span><span class="s2">&quot;gross_amount&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;1000000.00&quot;</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></pre>

<h4 id="capture-transaction">Capture Transaction</h4>

<p>To capture transaction, URL endpoint should use /v2/capture. Sample JSON request:</p>

<pre class="highlight json"><span class="p">{</span><span class="w">
  </span><span class="s2">&quot;transaction_id&quot;</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;77e137c0-019b-40c9-95b2-76237773e449&quot;</span><span class="p">,</span><span class="w">
  </span><span class="s2">&quot;gross_amount&quot;</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">1000000</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></pre>

<p><code>"gross_amount"</code> element should not exceed the amount at authorize charge transactions. If <code>"gross_amount"</code> element is not listed, the total amount will be adjusted by the amount at authorize charge transactions.</p>

<p>Obtained response if charge transaction success:</p>

<pre class="highlight json"><span class="p">{</span><span class="w">
    </span><span class="s2">&quot;status_code&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;200&quot;</span><span class="p">,</span><span class="w">
    </span><span class="s2">&quot;status_message&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;OK, Credit Card capture transaction is successful&quot;</span><span class="p">,</span><span class="w">
    </span><span class="s2">&quot;transaction_id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;948996b4-9323-4ac3-b3ea-bd7035f9bf2b&quot;</span><span class="p">,</span><span class="w">
    </span><span class="s2">&quot;order_id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;201404211437&quot;</span><span class="p">,</span><span class="w">
    </span><span class="s2">&quot;payment_type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;credit_card&quot;</span><span class="p">,</span><span class="w">
    </span><span class="s2">&quot;transaction_time&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2014-04-21 14:35:32&quot;</span><span class="p">,</span><span class="w">
    </span><span class="s2">&quot;transaction_status&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;capture&quot;</span><span class="p">,</span><span class="w">
    </span><span class="s2">&quot;fraud_status&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;noscore&quot;</span><span class="p">,</span><span class="w">
    </span><span class="s2">&quot;masked_card&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;401111-1112&quot;</span><span class="p">,</span><span class="w">
    </span><span class="s2">&quot;gross_amount&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;1000000.00&quot;</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></pre>
<p>If <code>"gross_amount"</code> element is listed by a smaller amount than at authorize charge transaction, so when capture transaction, the amount will be used and obtained response will be adjusted. Examples of capture transactions and its response as follows:</p>

<pre class="highlight json"><span class="p">{</span><span class="w">
  </span><span class="s2">&quot;transaction_id&quot;</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;77e137c0-019b-40c9-95b2-76237773e449&quot;</span><span class="p">,</span><span class="w">
  </span><span class="s2">&quot;gross_amount&quot;</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">100000</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></pre>

<pre class="highlight json"><span class="p">{</span><span class="w">
    </span><span class="s2">&quot;status_code&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;200&quot;</span><span class="p">,</span><span class="w">
    </span><span class="s2">&quot;status_message&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;OK, Credit Card capture transaction is successful&quot;</span><span class="p">,</span><span class="w">
    </span><span class="s2">&quot;transaction_id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;948996b4-9323-4ac3-b3ea-bd7035f9bf2b&quot;</span><span class="p">,</span><span class="w">
    </span><span class="s2">&quot;order_id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;201404211437&quot;</span><span class="p">,</span><span class="w">
    </span><span class="s2">&quot;payment_type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;credit_card&quot;</span><span class="p">,</span><span class="w">
    </span><span class="s2">&quot;transaction_time&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2014-04-21 14:35:32&quot;</span><span class="p">,</span><span class="w">
    </span><span class="s2">&quot;transaction_status&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;capture&quot;</span><span class="p">,</span><span class="w">
    </span><span class="s2">&quot;fraud_status&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;noscore&quot;</span><span class="p">,</span><span class="w">
    </span><span class="s2">&quot;masked_card&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;401111-1112&quot;</span><span class="p">,</span><span class="w">
    </span><span class="s2">&quot;gross_amount&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;100000.00&quot;</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></pre>

<h3 id="a-nameinstallmentainstallment"><a name="installment"></a>Installment</h3>

<h4 id="charge-transaction">Charge Transaction</h4>

<p>Transaction installment can be done by use usual token or 3DS token.</p>

<p>To conduct installment charge transaction, <code>"installment_term": &lt; number &gt;</code> should be added in JSON request in <code>"credit_card</code> part. Number for <code>"installment_term"</code> must be greater than one.</p>

<p>Sample in PHP:</p>

<pre class="highlight php">// Data yang akan dikirim untuk request charge transaction dengan credit card.
$transaction_data = array(
  'payment_type'        =&gt; 'credit_card', 
  'credit_card'         =&gt; array(
    'installment_term'  =&gt; 3,
    'token_id'          =&gt; $token_id,
    'bank'              =&gt; 'bni'
  ),
  'transaction_details'   =&gt; $transaction_details,
  'item_details'          =&gt; $items,
  'customer_details'      =&gt; $customer_details
);
</pre>

<h4 id="charge-response">Charge Response</h4>

<p>Obtained response if charge transaction success:</p>

<pre class="highlight json"><span class="p">{</span><span class="w">
    </span><span class="s2">&quot;status_code&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;200&quot;</span><span class="p">,</span><span class="w">
    </span><span class="s2">&quot;status_message&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;OK, Credit Card Installment transaction is successful&quot;</span><span class="p">,</span><span class="w">
    </span><span class="s2">&quot;transaction_id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2a913000-4ed6-4c91-aff1-94e5ffb1b737&quot;</span><span class="p">,</span><span class="w">
    </span><span class="s2">&quot;order_id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;201404231811&quot;</span><span class="p">,</span><span class="w">
    </span><span class="s2">&quot;payment_type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;credit_card&quot;</span><span class="p">,</span><span class="w">
    </span><span class="s2">&quot;transaction_time&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2014-04-23 18:11:44&quot;</span><span class="p">,</span><span class="w">
    </span><span class="s2">&quot;transaction_status&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;capture&quot;</span><span class="p">,</span><span class="w">
    </span><span class="s2">&quot;masked_card&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;401111-1112&quot;</span><span class="p">,</span><span class="w">
    </span><span class="s2">&quot;gross_amount&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;10000.00&quot;</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></pre>

<h3 id="a-namebinpromoabin-promo"><a name="binpromo"></a>BIN Promo</h3>

<p>Bin promo adalah fitur yang memungkinkan merchant untuk menawarkan promosi atau melakukan limitasi berdasarkan bank penerbit kartu kredit tertentu yang dimiliki customer. Untuk melakukan identifikasi bank penerbit kartu, digunakan informasi BIN (Bank Identification Number) yang merupakan 6 digit pertama dari nomor kartu kredit.</p>

<p>Bila merchant ingin memproses transaksi dengan fitur BIN Promo, ada parameter tambahan perlu ditambahkan pada message JSON yang dikirim, hingga menjadi :</p>

<pre class="highlight json"><span class="p">{</span><span class="w">
    </span><span class="s2">&quot;payment_type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;credit_card&quot;</span><span class="p">,</span><span class="w">
    </span><span class="s2">&quot;credit_card&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">&quot;token_id&quot;</span><span class="p">:</span><span class="w">    </span><span class="s2">&quot;401111-1112-e9dc7213-8b2c-4353-93a4-b250680e57a5&quot;</span><span class="p">,</span><span class="w">
        </span><span class="s2">&quot;bank&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;bni&quot;</span><span class="p">,</span><span class="w">
        </span><span class="err">“credit_card_bins”</span><span class="p">:[</span><span class="err">“</span><span class="mi">4</span><span class="err">”</span><span class="p">,</span><span class="err">”</span><span class="mi">52</span><span class="err">”</span><span class="p">]</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">&quot;transaction_details&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">&quot;order_id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;order52&quot;</span><span class="p">,</span><span class="w">
        </span><span class="s2">&quot;gross_amount&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">200000</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">&quot;item_details&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
        </span><span class="s2">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;item1&quot;</span><span class="p">,</span><span class="w">
        </span><span class="s2">&quot;price&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">100000</span><span class="p">,</span><span class="w">
        </span><span class="s2">&quot;quantity&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="s2">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Adidas f50&quot;</span><span class="w">
    </span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;item2&quot;</span><span class="p">,</span><span class="w">
        </span><span class="s2">&quot;price&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">50000</span><span class="p">,</span><span class="w">
        </span><span class="s2">&quot;quantity&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
        </span><span class="s2">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Nike N90&quot;</span><span class="w">
    </span><span class="p">}],</span><span class="w">
    </span><span class="s2">&quot;customer_details&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">&quot;first_name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;John&quot;</span><span class="p">,</span><span class="w">
        </span><span class="s2">&quot;last_name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Customer&quot;</span><span class="p">,</span><span class="w">
        </span><span class="s2">&quot;email&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;jcustomer@example.com&quot;</span><span class="p">,</span><span class="w">
        </span><span class="s2">&quot;phone&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;08195010132&quot;</span><span class="p">,</span><span class="w">
        </span><span class="s2">&quot;billing_address&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">&quot;first_name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;John&quot;</span><span class="p">,</span><span class="w">
            </span><span class="s2">&quot;last_name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Customer&quot;</span><span class="p">,</span><span class="w">
            </span><span class="s2">&quot;address&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Karet&quot;</span><span class="p">,</span><span class="w">
            </span><span class="s2">&quot;city&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Jakarta&quot;</span><span class="p">,</span><span class="w">
            </span><span class="s2">&quot;postal_code&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;523112&quot;</span><span class="p">,</span><span class="w">
            </span><span class="s2">&quot;phone&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;08191231234&quot;</span><span class="p">,</span><span class="w">
            </span><span class="s2">&quot;country_code&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;IDN&quot;</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">&quot;shipping_address&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">&quot;first_name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;John&quot;</span><span class="p">,</span><span class="w">
            </span><span class="s2">&quot;last_name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Watson&quot;</span><span class="p">,</span><span class="w">
            </span><span class="s2">&quot;address&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Bakerstreet 221B&quot;</span><span class="p">,</span><span class="w">
            </span><span class="s2">&quot;city&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;London&quot;</span><span class="p">,</span><span class="w">
            </span><span class="s2">&quot;postal_code&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;12354&quot;</span><span class="p">,</span><span class="w">
            </span><span class="s2">&quot;phone&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;081323123123&quot;</span><span class="p">,</span><span class="w">
            </span><span class="s2">&quot;country_code&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;IDN&quot;</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></pre>
<h3 id="a-nameoneclickaone-click"><a name="oneclick"></a>One Click</h3>

<h4 id="obtaining-3dsecure-token">Obtaining 3DSecure Token</h4>

<p>3DSecure token must be activated to use One Click feature. See <a href="integration.html">Step 2: Charge Transaction - VT-Direct Integration</a> to request parameter that required for 3DSecure token.</p>

<h4 id="first-charge-request">First Charge Request</h4>

<p>For first charge request of One Click, <code>"save_token_id"</code>: true should be added in JSON request in <code>"credit_card"</code> part. So the token will be saved for future payments. Sample in PHP:</p>

<pre class="highlight php">// Data yang akan dikirim untuk request charge transaction dengan credit card.
$transaction_data = array(
  'payment_type'      =&gt; 'credit_card', 
  'credit_card'       =&gt; array(
    'save_token_id'   =&gt; true,
    'token_id'        =&gt; $token_id,
    'bank'            =&gt; 'bni'
  ),
  'transaction_details'   =&gt; $transaction_details,
  'item_details'          =&gt; $items,
  'customer_details'      =&gt; $customer_details
);
</pre>
<p>Response will be returned if transaction succeed as follows:</p>

<pre class="highlight json"><span class="p">{</span><span class="w">
    </span><span class="s2">&quot;transaction_id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;ca5e0ff5-4297-48ef-aa25-b3ab018d4ead&quot;</span><span class="p">,</span><span class="w">
    </span><span class="s2">&quot;order_id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;order52&quot;</span><span class="p">,</span><span class="w">
    </span><span class="s2">&quot;gross_amount&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;200000&quot;</span><span class="p">,</span><span class="w">
    </span><span class="s2">&quot;payment_type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;credit_card&quot;</span><span class="p">,</span><span class="w">
    </span><span class="s2">&quot;transaction_time&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2014-03-27 17:20:53&quot;</span><span class="p">,</span><span class="w">
    </span><span class="s2">&quot;transaction_status&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;capture&quot;</span><span class="p">,</span><span class="w">
    </span><span class="s2">&quot;fraud_status&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;accept&quot;</span><span class="p">,</span><span class="w">
    </span><span class="s2">&quot;masked_card&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;401111-1112&quot;</span><span class="p">,</span><span class="w">
    </span><span class="s2">&quot;saved_token_id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;4011117d16c884-2cc7-4624-b0a8-10273b7f6cc8&quot;</span><span class="p">,</span><span class="w">
    </span><span class="s2">&quot;saved_token_id_expired_at&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2024-03-27 17:20:53&quot;</span><span class="p">,</span><span class="w">
    </span><span class="s2">&quot;status_code&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;200&quot;</span><span class="p">,</span><span class="w">
    </span><span class="s2">&quot;status_message&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;OK, Credit Card 3D Secure transaction is successful&quot;</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></pre>
<p>Based on response above, <code>"save_token_id"</code> result needs to be stored by the merchant, for example in the database, so it can be used for future payments.</p>

<h4 id="next-charge-request">Next Charge Request</h4>

<p>For next charge request, merchant have to use token id that obtained from first response, <code>"save_token_id</code>. The token id is placed in <code>"credit_card"</code> part.</p>

<pre class="highlight json"><span class="s2">&quot;credit_card&quot;</span><span class="err">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">&quot;token_id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;save_token_id&quot;</span><span class="p">,</span><span class="w">
    </span><span class="s2">&quot;bank&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;bni&quot;</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></pre>
<p>JSON request format for charge transaction are same as usual. See <a href="integration.html">Charge Transaction</a> for more formats. If the response successfully will get the following results:</p>

<pre class="highlight json"><span class="p">{</span><span class="w">
    </span><span class="s2">&quot;transaction_id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;05dfbd23-b767-4748-8fe9-7e30769e1857&quot;</span><span class="p">,</span><span class="w">
    </span><span class="s2">&quot;order_id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;order53&quot;</span><span class="p">,</span><span class="w">
    </span><span class="s2">&quot;gross_amount&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;200000&quot;</span><span class="p">,</span><span class="w">
    </span><span class="s2">&quot;payment_type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;credit_card&quot;</span><span class="p">,</span><span class="w">
    </span><span class="s2">&quot;transaction_time&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2014-03-27 17:25:12&quot;</span><span class="p">,</span><span class="w">
    </span><span class="s2">&quot;transaction_status&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;capture&quot;</span><span class="p">,</span><span class="w">
    </span><span class="s2">&quot;status_code&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;200&quot;</span><span class="p">,</span><span class="w">
    </span><span class="s2">&quot;status_message&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;OK, Credit Card transaction is successful&quot;</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></pre>


			<div class="pagination">
				<ul><li class="left">« Previous: <a href="other_commands.html">VT-Direct: Other Commands</a></li><li class="right">Next: <a href="payment_options.html">VT-Direct: Payment Options</a> »</li></ul>
			</div>
          </div>
        </div><!--/span-->
      </div><!--/row-->

    </div><!--/.container-->
    <div class="custom-container footer">
  <div class="wrapper">
    <div class="row">
      <div class="col-md-12 footer-nav">
        <div class="content text-center">
          <a href="https://www.veritrans.co.id" title="">Home</a> <span class="divider">|</span>
          <a href="https://www.veritrans.co.id/whatwedo.html" title="">What We Do</a> <span class="divider">|</span>
          <a href="https://www.veritrans.co.id/pricing.html" title="">Pricing</a> <span class="divider">|</span>
          <a href="https://www.veritrans.co.id/about.html" title="">About</a> <span class="divider">|</span>
          <a href="http://blog.veritrans.co.id/" title="">Blog</a> <span class="divider">|</span>
          <a href="https://www.veritrans.co.id/career.html" title="">Career</a> <span class="divider">|</span>
          <a href="https://www.veritrans.co.id/contact.html" title="">Contact</a> <span class="divider">|</span>
          <a href="http://docs.veritrans.co.id/" title="">Docs</a> <span class="divider">|</span>
          <a href="https://www.veritrans.co.id/press.html" title="">Press</a> <span class="divider">|</span>
          <a href="https://www.veritrans.co.id/privacy.html" title="">Privacy Policy</a>
        </div>
      </div>
    </div>
    <div class="row">
      <div class="col-md-12 copyright">
        <div class="content text-center">
          <span>©2014 PT. Midtrans (Veritrans Indonesia). All Rights Reserved</span>
        </div>
      </div>
    </div>
  </div>
</div>

    <script src="../javascripts/jquery-1.10.2.min.js" type="text/javascript"></script>
<script src="../javascripts/bootstrap.min.js" type="text/javascript"></script>
    <script>
    $(document).ready(function() {
      $('[data-toggle=offcanvas]').click(function() {
        $('.row-offcanvas').toggleClass('active');
      });
    });
    </script>
  </body>
</html>
