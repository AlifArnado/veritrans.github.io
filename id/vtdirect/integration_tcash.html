<!DOCTYPE html>
<html lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Veritrans API Documentation. Payment Gateway Indonesia, transaksi online lebih aman, mudah, cepat! Veritrans memberi solusi sistem payment gateway terbaik untuk e-commerce di Indonesia.">
    <meta name="keywords" content="Veritrans, Veritrans Indonesia, payment gateway indonesia, Pembayaran Online Indonesia, online payment Indonesia, sistem transaksi online"> 
    <link href="../../stylesheets/style.css" media="screen" rel="stylesheet" type="text/css" />
    <title>Docs - Veritrans Indonesia</title>
		<link rel="shortcut icon" href="/favicon.ico"/>

    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
      <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
    <![endif]-->
  </head>

  <body>
    <div class="header navbar navbar-default navbar-fixed-top">
      <div class="custom-container">
        <div class="col-md-3 col-sm-12 navbar-header">
          <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <h2 class="logo"><a href="https://www.veritrans.co.id/" title="Home"><span>Veritrans</span></a></h2>
        </div>
        <div class="navbar-collapse collapse">
          <ul class="nav navbar-nav">
            <li><a href="https://www.veritrans.co.id/whatwedo.html" title="What We Do">what we do</a></li>
            <li><a href="https://www.veritrans.co.id/product.html" title="Our Online Payment Products">product</a></li>
            
            <li class="dropdown hidden-xs hidden-sm hidden-md">
              <a href="about.html">about <b class="caret"></b></a>
              <ul class="dropdown-menu">
                <li><a href="https://www.veritrans.co.id/team.html" title="Team">team</a></li>
                <li><a href="https://www.veritrans.co.id/press.html" title="Press">press</a></li>
                <li><a href="https://www.veritrans.co.id/career.html" title="Career at Veritrans">career</a></li>
                <li><a href="https://www.veritrans.co.id/contact.html" title="Contact Us">contact</a></li>
                <li><a href="http://support.veritrans.co.id/" title="FAQ & How To">FAQ</a></li>
              </ul>
            </li>
            <li class="dropdown hidden-lg">
              <a href="#">about <b class="caret"></b></a>
              <ul class="dropdown-menu">
                <li><a href="https://www.veritrans.co.id/about.html" title="Team">about us</a></li>
                <li><a href="https://www.veritrans.co.id/team.html" title="Team">team</a></li>
                <li><a href="https://www.veritrans.co.id/press.html" title="Press">press</a></li>
                <li><a href="https://www.veritrans.co.id/career.html" title="Career at Veritrans">career</a></li>
                <li><a href="https://www.veritrans.co.id/contact.html" title="Contact Us">contact</a></li>
                <li><a href="http://support.veritrans.co.id/" title="FAQ & How To">FAQ</a></li>
              </ul>
            </li>
            <!-- <li><a href="http://docs.veritrans.co.id" title="Product Documentations">docs</a></li> -->
            <li class="dropdown">
              <a href="#">developer <b class="caret"></b></a>
              <ul class="dropdown-menu">
                <li><a href="https://www.veritrans.co.id/sandbox.html">sandbox</a></li>
                <li><a href="http://docs.veritrans.co.id/">documentation</a></li>
              </ul>
            </li>
            <li class="dropdown">
              <a href="#">community <b class="caret"></b></a>
              <ul class="dropdown-menu">
                <li><a href="http://blog.veritrans.co.id" title="Blog, News and Press Release">blog</a></li>
                <li><a href="https://www.veritrans.co.id/merchants.html" title="Merchants">merchants</a></li>
                <li><a href="https://www.veritrans.co.id/why-veritrans.html" title="Why Veritrans">why veritrans</a></li>
              </ul>
            </li>
          </ul>
          <ul class="nav navbar-nav navbar-right register-login">
            <li class="pull-left"><a href="https://my.sandbox.veritrans.co.id/register" class="register">sign up</a></li>
            <li class="pull-left"><a href="https://my.veritrans.co.id/login">sign in</a></li>
          </ul>
        </div><!--/.nav-collapse -->
      </div>
    </div>

    <div class="custom-container">
      <div class="row row-offcanvas row-offcanvas-right">
        <div class="col-xs-6 col-sm-3 sidebar-offcanvas" id="sidebar" role="navigation">
	<div class="documentation-sidebar">
		<div class="docs-logo">
			<span>DOCS</span>
		</div>
		<div class="language-toggle"> <a href="../../vtdirect/integration_tcash.html">English</a> / Bahasa Indonesia</div>
		<ul class="sidebar">
			
			<li>
        
          <a class="parent" href="../welcome/welcome.html">Selamat Datang</a>
        
			</li>
			
			<li>
        
          <a class="parent">VT-Web</a>
          <b class="caret"></b>
          <ul class="child-menu">
            
            <li class=""><a href="../vtweb/introduction.html">Perkenalan</a></li>
            
            <li class=""><a href="../vtweb/getting_started.html">Langkah Awal</a></li>
            
            <li class=""><a href="../vtweb/integration.html">Integrasi</a></li>
            
            <li class=""><a href="../vtweb/other_features.html">Fitur Tambahan</a></li>
            
            <li class=""><a href="../vtweb/going_live.html">Going Live</a></li>
            
          </ul>
        
			</li>
			
			<li>
        
          <a class="parent">VT-Direct</a>
          <b class="caret"></b>
          <ul class="child-menu">
            
            <li class=""><a href="introduction.html">Perkenalan</a></li>
            
            <li class=""><a href="getting_started.html">Langkah Awal</a></li>
            
            <li class="active"><a href="integration.html">Integrasi</a></li>
            
            <li class=""><a href="other_features.html">Fitur Tambahan</a></li>
            
            <li class=""><a href="other_commands.html">Perintah Lain</a></li>
            
            <li class=""><a href="going_live.html">Going Live</a></li>
            
          </ul>
        
			</li>
			
			<li>
        
          <a class="parent">Referensi API</a>
          <b class="caret"></b>
          <ul class="child-menu">
            
            <li class=""><a href="../sandbox/introduction.html">Perkenalan</a></li>
            
            <li class=""><a href="../sandbox/charge.html">Charge Transaksi</a></li>
            
            <li class=""><a href="../sandbox/installment.html">Cicilan</a></li>
            
            <li class=""><a href="../sandbox/bin.html">BIN Promo</a></li>
            
            <li class=""><a href="../sandbox/other_features.html">Fitur Tambahan</a></li>
            
            <li class=""><a href="../sandbox/other_commands.html">Perintah Lain</a></li>
            
            <li class=""><a href="../sandbox/card_list.html">Daftar Kartu Uji Coba</a></li>
            
            <li class=""><a href="../sandbox/status_code.html">Status Kode</a></li>
            
          </ul>
        
			</li>
			
			<li>
        
          <a class="parent" href="../plugin/plugin.html">Plugin & Mobile Apps</a>
        
			</li>
			
			<li>
        
          <a class="parent" href="http://support.veritrans.co.id">FAQ</a>
        
			</li>
			
		</ul>
		<p class="question">
            Anda merasa ada yang kurang dari dokumentasi ini?<br>
            <a href="https://github.com/veritrans/veritrans.github.io">Buka issue atau ikut berkontribusi di Github</a>
        </p>
	</div>
</div><!--/span-->
        <div class="col-xs-12 col-sm-7" id="bodier">
          <p class="pull-right visible-xs">
            <button type="button" class="btn btn-primary btn-xs" data-toggle="offcanvas">Menu</button>
          </p>
          <div class="id-vtdirect-integration-tcash">
            <h2 id="integrasi-vt-direct-t-cash">Integrasi VT-Direct (T-Cash)</h2>
<hr />

<h5 id="setiap-metode-pembayaran-memiliki-tahapan-integrasi-yang-berbeda-dokumentasi-pada-halaman-ini-bertujuan-untuk-membantu-anda-melakukan-integrasi-vt-direct-dengan-metode-pembayaran-t-cash-apabila-butuh-bantuan-silahkan-hubungi-kami-di-supportveritranscoidmailtosupportveritranscoid-email-support-atau-kunjungi-halaman-support-kamihttpsupportveritranscoid-veritrans-support"><em>Setiap metode pembayaran memiliki tahapan integrasi yang berbeda. Dokumentasi pada halaman ini bertujuan untuk membantu anda melakukan integrasi VT-Direct dengan metode pembayaran T-Cash. Apabila butuh bantuan, silahkan hubungi kami di <a href="&#109;&#097;&#105;&#108;&#116;&#111;:&#115;&#117;&#112;&#112;&#111;&#114;&#116;&#064;&#118;&#101;&#114;&#105;&#116;&#114;&#097;&#110;&#115;&#046;&#099;&#111;&#046;&#105;&#100;">&#115;&#117;&#112;&#112;&#111;&#114;&#116;&#064;&#118;&#101;&#114;&#105;&#116;&#114;&#097;&#110;&#115;&#046;&#099;&#111;&#046;&#105;&#100;</a> atau kunjungi <a title="Veritrans Support" href="http://support.veritrans.co.id">halaman support kami</a>.</em></h5>
<hr />
<p><br /></p>

<div class="row">
  <div class="col-sm-2 col-xs-12">
    <div class="thumbnail">
    <a href="integration_cc.html"><img src="../../images/cc_icon_gray.jpg" /></a>
    </div>
  </div>
  <div class="col-sm-2 col-xs-12">
    <div class="thumbnail">
    <a href="integration_mandiri.html"><img src="../../images/mc_icon_gray.jpg" /></a>
    </div>
  </div>
  <div class="col-sm-2 col-xs-12">
    <div class="thumbnail">
    <a href="integration_cimb.html"><img src="../../images/cic_icon_gray.jpg" /></a>
    </div>
  </div>
  <div class="col-sm-2 col-xs-12">
    <div class="thumbnail">
    <a href="integration_va.html"><img src="../../images/va_icon_gray.png" /></a>
    </div>
  </div>
  <div class="col-sm-2 col-xs-12">
    <div class="thumbnail">
    <a href="integration_bripay.html"><img src="../../images/bri_icon_gray.jpg" /></a>
    </div>
  </div>
  <div class="col-sm-2 col-xs-12">
    <div class="thumbnail">
    <a href="integration_tcash.html"><img src="../../images/tcash_icon.jpg" /></a>
    </div>
  </div>
  <div class="col-sm-2 col-xs-12">
    <div class="thumbnail">
    <a href="integration_xltunai.html"><img src="../../images/xltunai_icon_gray.jpg" /></a>
    </div>
  </div>
</div>
<hr />

<p><br />
Telkomsel Cash (T-CASH) merupakan layanan uang elektronik (E­-money) yang memberikan kemudahan bagi Anda dalam melakukan transaksi keuangan melalui ponsel. Metode ini memungkinkan pelanggan melakukan transaksi pembayaran dengan memasukkan 10 digit token yang didapat dari Telkomsel sebagai validasi transaksi. Untuk info lebih lengkap dapat diperoleh di website <a href="http://www.telkomsel.com/services/t-cash">T-Cash</a>.</p>

<p>Untuk mengaktifkan metode pembayaran T-Cash (otomatis aktif pada mode Sandbox), anda perlu menghubungi sales representative Veritrans.
<br /><br /></p>

<h3 id="alur-proses-transaksi">Alur Proses Transaksi</h3>

<p><img alt="Tcash Flow" class="img-responsive img-thumbnail" src="../../images/tcash_flow.png" />
<br /><br /></p>

<h3 id="tahapan-integrasi-vt-direct-t-cash">Tahapan Integrasi VT-Direct T-Cash</h3>

<ol>
  <li>Membuat Form</li>
  <li>Charge Transaksi</li>
  <li>Status Transaksi
<br /><br /></li>
</ol>

<!-- Nav tabs -->
<ul class="nav nav-tabs">
  <li class="active"><a href="#form-tcash" data-toggle="tab"><span>Tahap 1</span>Membuat Form</a></li>
  <li><a href="#charge-tcash" data-toggle="tab"><span>Tahap 2</span>Charge Transaksi</a></li>
  <li><a href="#status-tcash" data-toggle="tab"><span>Tahap 3</span>Status Transaksi</a></li>
</ul>

<div class="tab-content">
  <div class="tab-pane active" id="form-tcash">
    <!-- step 1-->
    <!-- satu -->
    <p><br /></p>

    <h2 id="membuat-form">Membuat Form</h2>

    <p>Pada tahap ini, kita akan mencoba membuat form transaksi T-Cash pada file <code>form_vtdirect_tcash.html</code>. Form T-Cash yang akan dibuat harus memiliki <em>field</em> untuk memasukan token yang didapat dari Telkomsel.
<br /><br /></p>

    <table>
      <thead>
        <tr>
          <th>Nama Field</th>
          <th>Tipe Data</th>
          <th style="text-align: center">Nilai</th>
          <th>Keterangan</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>Token number</td>
          <td>Numeric</td>
          <td style="text-align: center">10</td>
          <td>Dimasukan di website merchant</td>
        </tr>
      </tbody>
    </table>

    <p><br />
Berikut adalah contoh form T-Cash di file <code>form_vtdirect_tcash.html</code>:
<br /><br /></p>

<pre><code class="highlight html"><span class="nt">&lt;html&gt;</span>
  <span class="nt">&lt;head&gt;</span>
    <span class="nt">&lt;title&gt;</span>VT­Direct Form Example for T­cash<span class="nt">&lt;/title&gt;</span>
  <span class="nt">&lt;/head&gt;</span>
  <span class="nt">&lt;body&gt;</span>
    <span class="nt">&lt;h1&gt;</span>T­Cash Transaction<span class="nt">&lt;/h1&gt;</span> <span class="nt">&lt;br&gt;</span>
      Insert your Token number
      <span class="nt">&lt;hr</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;form</span> <span class="na">action=</span><span class="s">"checkout_tcash.php"</span> <span class="na">method=</span><span class="s">"POST"</span> <span class="na">id=</span><span class="s">"payment­form"</span><span class="nt">&gt;</span>
      <span class="nt">&lt;label&gt;</span>T­Cash Token<span class="nt">&lt;/label&gt;</span>
      <span class="nt">&lt;input</span> <span class="na">id=</span><span class="s">"token­-number"</span> <span class="na">name=</span><span class="s">"token­-number"</span> <span class="na">size=</span><span class="s">"10"</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">value=</span><span class="s">"0811111111"</span><span class="nt">/&gt;</span>
      <span class="nt">&lt;br</span> <span class="nt">/&gt;</span>
      <span class="nt">&lt;button</span> <span class="na">id=</span><span class="s">"submit­button"</span> <span class="na">type=</span><span class="s">"submit"</span><span class="nt">&gt;</span>Pay<span class="nt">&lt;/button&gt;</span>
    <span class="nt">&lt;/form&gt;</span>
  <span class="nt">&lt;/body&gt;</span> 
<span class="nt">&lt;/html&gt;</span>
</code></pre>

    <p><br />
Pelanggan anda cukup menggunakan token yang didapat dari Telkomsel untuk mengisi field T-Cash token dan informasi akan disubmit ke <code>checkout_tcash.php</code>. File ini berisi implementasi charge transaksi menggunakan T-Cash yang akan dibahas selanjutnya.</p>

    <p>Untuk mempermudah proses transaksi, kami sangat menyarankan agar petunjuk transaksi T-Cash anda sampaikan dengan jelas pada halaman form.</p>
  </div>
  <div class="tab-pane" id="charge-tcash">
    <!-- step 2-->
    <!-- dua -->
    <p><br /></p>

    <h2 id="charge-transaksi">Charge Transaksi</h2>

    <p>Untuk melakukan charge transaksi menggunakan T-Cash, beberapa langkah harus dilakukan sebagai berikut:</p>

    <ul>
      <li><code>payment_type</code> harus di-set menjadi <code>telkomsel_cash</code></li>
      <li>
        <p>JSON object baru harus ditambahkan, dengan nama <code>telkomsel_cash</code>, dan mempunyai nama/value pasangan sebagai berikut:</p>

        <ul>
          <li>"customer" → token yang di isi oleh customer</li>
          <li>"promo" → di isi dengan nilai <code>false</code></li>
          <li>"is_reversal" → di isi dengan nilai <code>0</code></li>
        </ul>
      </li>
    </ul>

    <p>Untuk melakukan charge transaksi T-Cash, kita dapat menggunakan library Veritrans-PHP. Berikut adalah contoh implementasi charge transaksi pada file <code>checkout_tcash.php</code>:
<br /><br /></p>

<pre><code class="highlight php"><span class="cp">&lt;?php</span>

<span class="k">include_once</span><span class="p">(</span><span class="s1">'Veritrans.php'</span><span class="p">);</span>

<span class="c1">// TODO: change with your actual server_key that can be found on Merchant Administration Portal (MAP)
</span><span class="nx">Veritrans_Config</span><span class="o">::</span><span class="nv">$serverKey</span> <span class="o">=</span> <span class="s2">"&lt; Your Server Key&gt;"</span><span class="p">;</span>
<span class="nx">Veritrans_Config</span><span class="o">::</span><span class="nv">$isProduction</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>

<span class="nv">$token_number</span> <span class="o">=</span> <span class="nv">$_POST</span><span class="p">[</span><span class="s1">'token-number'</span><span class="p">];</span>

<span class="nv">$transaction_details</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span>
  <span class="s1">'order_id'</span>    <span class="o">=&gt;</span> <span class="nb">rand</span><span class="p">(),</span>
  <span class="s1">'gross_amount'</span>  <span class="o">=&gt;</span> <span class="mi">60000</span>
<span class="p">);</span>

<span class="nv">$customer_details</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">'first_name'</span>    <span class="o">=&gt;</span> <span class="s2">"Andri"</span><span class="p">,</span>
    <span class="s1">'last_name'</span>     <span class="o">=&gt;</span> <span class="s2">"Litani"</span><span class="p">,</span>
    <span class="s1">'email'</span>         <span class="o">=&gt;</span> <span class="s2">"andri@litani.com"</span><span class="p">,</span>
    <span class="s1">'phone'</span>         <span class="o">=&gt;</span> <span class="s2">"081122334455"</span>
    <span class="p">);</span>

<span class="c1">// Data yang akan dikirim untuk request charge transaction dengan T-Cash.
</span><span class="nv">$transaction_data</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span>
  <span class="s1">'payment_type'</span>      <span class="o">=&gt;</span> <span class="s1">'telkomsel_cash'</span><span class="p">,</span>
  <span class="s1">'telkomsel_cash'</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
      <span class="s1">'customer'</span> <span class="o">=&gt;</span> <span class="nv">$token_number</span><span class="p">,</span>
      <span class="s1">'promo'</span> <span class="o">=&gt;</span> <span class="kc">false</span><span class="p">,</span>
      <span class="s1">'is_reversal'</span> <span class="o">=&gt;</span> <span class="mi">0</span>
    <span class="p">),</span>
  <span class="s1">'transaction_details'</span> <span class="o">=&gt;</span> <span class="nv">$transaction_details</span><span class="p">,</span>
  <span class="s1">'customer_details'</span> <span class="o">=&gt;</span> <span class="nv">$customer_details</span>
  <span class="p">);</span>

<span class="nv">$result</span> <span class="o">=</span> <span class="nx">Veritrans_VtDirect</span><span class="o">::</span><span class="na">charge</span><span class="p">(</span><span class="nv">$transaction_data</span><span class="p">);</span>
<span class="cp">?&gt;</span>
</code></pre>

    <p><br />
Pada contoh di atas, kita menggunakan data T-Cash, transaksi, dan pelanggan sebagai parameter charge transaksi. Anda sebenarnya dapat menambahkan data lain saat charge transaksi, seperti: alamat pelanggan, alamat pengiriman, dan informasi barang. Untuk menambahkan data ini, anda dapat melihat <a href="../sandbox/charge.html#specification">Referensi API - Charge Transaksi</a>.</p>

    <p>Ketika transaksi selesai, pelanggan anda dapat kembali ke website anda. Untuk melakukan hal ini, anda perlu mengisi konfigurasi callback URL di MAP (Merchant Administration Portal), silahkan melihat menu <a href="getting_started.html">langkah awal</a> untuk informasi lebih lengkap.
<br /><br /></p>

    <h3 id="kesalahan-dalam-charge-transaksi">Kesalahan dalam Charge Transaksi</h3>

    <p>Pada beberapa kasus, charge transaksi VT-Direct bisa gagal. Veritrans akan mengembalikan pesan error ketika terjadi kegagalan. Penyebab gagalnya charge transaksi VT-Direct dapat dilihat dari status code yang ada di dalam pesan error, status code yang umumnya muncul adalah:</p>

    <table>
      <thead>
        <tr>
          <th>Kode Error</th>
          <th>Keterangan</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td><code>400</code> Validation error</td>
          <td>Format atau konten data transaksi tidak valid. Contoh: Salah tipe variabel, metode pembayaran tidak valid.</td>
        </tr>
        <tr>
          <td><code>401</code> Access Denied</td>
          <td>Client atau server key tidak valid.</td>
        </tr>
        <tr>
          <td><code>402</code> Access Denied</td>
          <td>Merchant tidak memiliki izin menggunakan metode pembayaran tertentu.</td>
        </tr>
        <tr>
          <td><code>406</code> Duplicate Order ID</td>
          <td>Order ID telah digunakan dan dibayar sebelumnya.</td>
        </tr>
        <tr>
          <td><code>410</code> Account Inactive</td>
          <td>Akun merchant tidak aktif dalam waktu lama</td>
        </tr>
      </tbody>
    </table>

    <p><br />
Daftar status code lengkap dapat dilihat di <a href="../sandbox/status_code.html">Referensi API - Status Code</a>.</p>

    <p>Ketika proses charge transaksi berhasil dilakukan, anda dapat melihat status transaksi. Cara melihat status transaksi akan dibahas pada <a href="integration_tcash.html#status-tcash">langkah selanjutnya</a>.</p>

  </div>
  <div class="tab-pane" id="status-tcash">
    <!-- step 3-->
    <!-- tiga -->
    <p><br /></p>

    <h2 id="status-transaksi">Status Transaksi</h2>

    <p>Server Veritrans akan mengembalikan respon untuk setiap charge transaksi dalam bentuk JSON. Library Veritrans-PHP akan melakukan konversi JSON menjadi object PHP secara otomatis. Contoh respon JSON yang dikembalikan oleh veritrans adalah sebagai berikut:
<br /><br /></p>

<pre><code class="highlight php">$result = array(
    "transaction_id" =&gt; "cddd6c1f-3b03-4c89-b0a8-0ea7dccf5217",
    "order_id" =&gt; "201404031721",
    "gross_amount" =&gt; "60000",
    "payment_type" =&gt; "telkomsel_cash",
    "transaction_time" =&gt; "2014-04-03 17:21:46",
    "transaction_status" =&gt; "settlement",
    "status_code" =&gt; "200",
    "status_message" =&gt; "Success, T-Cash transaction is successful"
);
</code></pre>

    <p><br />
Salah satu informasi yang paling penting dalam respon JSON adalah transaction status. Dua transaction status penting pada respon charge transaksi T-Cash:</p>

    <ul>
      <li><strong>settlement</strong>: Transaksi berhasil.</li>
      <li><strong>deny</strong>: Transaksi ditolak.</li>
    </ul>

    <p>Anda dapat menambahkan kode PHP berikut pada bagian akhir file <code>checkout_tcash.php</code> untuk menyampaikan status transaksi pada pelanggan anda:
<br /><br /></p>

<pre><code class="highlight php"><span class="cp">&lt;?php</span>
<span class="k">include_once</span><span class="p">(</span><span class="s1">'Veritrans.php'</span><span class="p">);</span>

<span class="o">...</span>

<span class="nv">$result</span> <span class="o">=</span> <span class="nx">Veritrans_VtDirect</span><span class="o">::</span><span class="na">charge</span><span class="p">(</span><span class="nv">$transaction_data</span><span class="p">);</span>

<span class="k">if</span><span class="p">(</span><span class="nv">$result</span><span class="o">-&gt;</span><span class="na">transaction_status</span> <span class="o">==</span> <span class="s2">"settlement"</span><span class="p">)</span>
<span class="p">{</span>
  <span class="c1">//success
</span>  <span class="k">echo</span> <span class="s2">"Transaksi T-Cash berhasil. &lt;br /&gt;"</span><span class="p">;</span>
  <span class="k">echo</span> <span class="s2">"Transaction status untuk order id "</span><span class="o">.</span><span class="nv">$result</span><span class="o">-&gt;</span><span class="na">order_id</span><span class="o">.</span><span class="s2">": "</span><span class="o">.</span><span class="nv">$result</span><span class="o">-&gt;</span><span class="na">transaction_status</span><span class="p">;</span>
  <span class="k">echo</span> <span class="s2">"&lt;h3&gt;Detail transaksi:&lt;/h3&gt;"</span><span class="p">;</span>
  <span class="nb">var_dump</span><span class="p">(</span><span class="nv">$result</span><span class="p">);</span>
<span class="p">}</span>
<span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nv">$result</span><span class="o">-&gt;</span><span class="na">transaction_status</span> <span class="o">==</span> <span class="s2">"deny"</span><span class="p">)</span>
<span class="p">{</span>
  <span class="c1">//deny
</span>  <span class="k">echo</span> <span class="s2">"Transaksi T-Cash Gagal. &lt;br /&gt;"</span><span class="p">;</span>
  <span class="k">echo</span> <span class="s2">"Transaction status untuk order id "</span><span class="o">.</span><span class="nv">$result</span><span class="o">-&gt;</span><span class="na">order_id</span><span class="o">.</span><span class="s2">": "</span><span class="o">.</span><span class="nv">$result</span><span class="o">-&gt;</span><span class="na">transaction_status</span><span class="p">;</span>
  <span class="k">echo</span> <span class="s2">"&lt;h3&gt;Detail transaksi:&lt;/h3&gt;"</span><span class="p">;</span>
  <span class="nb">var_dump</span><span class="p">(</span><span class="nv">$result</span><span class="p">);</span>
<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
  <span class="c1">//error
</span>  <span class="k">echo</span> <span class="s2">"Terjadi kesalahan pada data transaksi yang dikirim.&lt;br /&gt;"</span><span class="p">;</span>
  <span class="k">echo</span> <span class="s2">"&lt;h3&gt;Result:&lt;/h3&gt;"</span><span class="p">;</span>
  <span class="nb">var_dump</span><span class="p">(</span><span class="nv">$result</span><span class="p">);</span>
<span class="p">}</span>
<span class="cp">?&gt;</span>
</code></pre>

    <p><br />
Sampai di sini, proses pembayaran T-Cash telah selesai. Jika nilai <code>transaction_status</code> adalah <code>settlement</code>, nominal transaksi akan ditambahkan ke bagian settlement akun anda. Selain menyampaikan status transaksi ke pelanggan, anda juga dapat menambah kode di atas untuk meng-update database terkait, misalnya menandai bahwa transaksi dengan <code>order_id</code> tersebut telah terbayar. </p>

    <p>Status transaksi juga dapat anda ketahui di Merchant Administration Portal (MAP). Anda perlu login ke MAP untuk melihat detail informasi transaksi tersebut. Alternatif lain untuk melihat status transaksi adalah menggunakan perintah <a href="other_commands.html#status">VT-Direct – Mendapatkan Status Transaksi</a>.</p>

  </div>
</div>


			<div class="pagination">
				<ul><li class="left">« Sebelumnya: <a href="getting_started.html">VT-Direct : Langkah Awal</a></li><li class="right">Selanjutnya: <a href="other_features.html">VT-Direct : Fitur Tambahan</a> »</li></ul>
			</div>
          </div>
        </div><!--/span-->
      </div><!--/row-->

    </div><!--/.container-->

    
    <div class="custom-container footer">
      <div class="wrapper">
        <div class="row">
          <div class="col-md-12 copyright">
            <div class="content text-center">
              <span>&copy;2014 PT. Midtrans (Veritrans Indonesia). All Rights Reserved</span>
              <span class="divider">|</span>
              <a href="https://www.veritrans.co.id/privacy.html" title="Privacy Policy">Privacy Policy</a>
            </div>
          </div>
        </div>
      </div>
    </div>
    
    <script src="../../javascripts/jquery-1.10.2.min.js" type="text/javascript"></script>
    <script src="../../javascripts/bootstrap.min.js" type="text/javascript"></script>
    <script src="../../javascripts/dropdown.js" type="text/javascript"></script>
    <script src="../../javascripts/tab_custom.js" type="text/javascript"></script>
    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-32232768-1', 'veritrans.co.id');
      ga('send', 'pageview');

    </script>
    <script>
    $(document).ready(function() {
      $('[data-toggle=offcanvas]').click(function() {
        $('.row-offcanvas').toggleClass('active');
      });
      $(function () {
        $('[data-toggle="tooltip"]').tooltip();
      });
    });
    </script>
  </body>
</html>
