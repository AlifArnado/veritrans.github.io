<!DOCTYPE html>
<html lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <!-- Bing Validate -->
    <meta name="msvalidate.01" content="846642D2B12ABB4747D70776D2056651"/>
    <!-- Google Webmaster Validate -->
    <meta name="google-site-verification" content="uUeOdHBzl0nbyvdyeRHKGIHPxnIpJDTTnWv-QfgkxRs" />
    <!-- FB OG -->
    <meta property="og:title" content="Docs || Online Payment Gateway for Indonesia eCommerce"/>
    <meta property="og:site_name" content="Veritrans"/>
    <meta property="og:description" content="Payment Gateway Solution for eCommerce merchants in Indonesia to send and receive online payment with credit/debit card, internet and mobile banking"/>
    <meta property="fb:app_id" content="404252079606310"/>
    <meta property="og:image" content="http://veritrans.co.id/images/veritrans-og.png"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Veritrans API Documentation. Payment Gateway Indonesia, transaksi online lebih aman, mudah, cepat! Veritrans memberi solusi sistem payment gateway terbaik untuk e-commerce di Indonesia.">
    <meta name="keywords" content="Veritrans, Veritrans Indonesia, payment gateway indonesia, Pembayaran Online Indonesia, online payment Indonesia, sistem transaksi online"> 
    <meta name="google-site-verification" content="uUeOdHBzl0nbyvdyeRHKGIHPxnIpJDTTnWv-QfgkxRs" />
    <meta name="msvalidate.01" content="846642D2B12ABB4747D70776D2056651">
    
    <link href="../../stylesheets/style.css" media="screen" rel="stylesheet" type="text/css" />
    
    <title>Veritrans - API Documentation</title>
		<link rel="icon" type="image/x-icon" href="/favicon/veritrans.ico" />
    <script src="../../javascripts/jquery-1.10.2.min.js" type="text/javascript"></script>

    <!-- start Mixpanel -->
    <script type="text/javascript">(function(f,b){if(!b.__SV){var a,e,i,g;window.mixpanel=b;b._i=[];b.init=function(a,e,d){function f(b,h){var a=h.split(".");2==a.length&&(b=b[a[0]],h=a[1]);b[h]=function(){b.push([h].concat(Array.prototype.slice.call(arguments,0)))}}var c=b;"undefined"!==typeof d?c=b[d]=[]:d="mixpanel";c.people=c.people||[];c.toString=function(b){var a="mixpanel";"mixpanel"!==d&&(a+="."+d);b||(a+=" (stub)");return a};c.people.toString=function(){return c.toString(1)+".people (stub)"};i="disable track track_pageview track_links track_forms register register_once alias unregister identify name_tag set_config people.set people.set_once people.increment people.append people.union people.track_charge people.clear_charges people.delete_user".split(" ");
        for(g=0;g<i.length;g++)f(c,i[g]);b._i.push([a,e,d])};b.__SV=1.2;a=f.createElement("script");a.type="text/javascript";a.async=!0;a.src="undefined"!==typeof MIXPANEL_CUSTOM_LIB_URL?MIXPANEL_CUSTOM_LIB_URL:"//cdn.mxpnl.com/libs/mixpanel-2-latest.min.js";e=f.getElementsByTagName("script")[0];e.parentNode.insertBefore(a,e)}})(document,window.mixpanel||[]);
        mixpanel.init("f93e9c92cf8729b32c4491fb6794689b");
    </script>
    <!-- end mixpanel -->

    <!-- Optimizely -->
    <script src="//cdn.optimizely.com/js/2982491356.js"></script>
    <!-- end Optimizely -->
    
    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
      <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
    <![endif]-->
  </head>

  <body>
    <nav class="navbar navbar-fixed-top with-shadow">
  <div class="container">
    <!-- Brand and toggle get grouped for better mobile display -->
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#main-navbar">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand logo" href="https://veritrans.co.id"></a>
    </div>

    <!-- Collect the nav links, forms, and other content for toggling -->
    <div class="collapse navbar-collapse" id="main-navbar">
      <ul class="nav navbar-nav">
        <li><a class="uppercase" href="https://www.veritrans.co.id/payment_channels.html">Payments</a></li>
        <li><a class="uppercase" href="https://www.veritrans.co.id/product_pricing.html">Product & Pricing</a></li>
        <li><a class="uppercase" href="https://www.veritrans.co.id/promo.html">Promo</a></li>
      </ul>

      <ul class="nav navbar-nav navbar-right">
        <li class="active">
          <a href="http://docs.veritrans.co.id">Docs</a>
        </li>
        <li>
          <a href="https://www.veritrans.co.id/contact.html">Contact</a>
        </li>
        <li>
          <a href="https://blog.veritrans.co.id">Blog</a>
        </li>
        <li>
          <a href="https://veritrans.co.id/career.html">Career</a>
        </li>
        <li>
          <a id="logInHeader" class="uppercase text-bold" href="#" data-toggle="modal" data-target="#login-modal">
            Log In
          </a>
        </li>
        <li>
          <div>
            <a id="signUpHeader" href="https://my.sandbox.veritrans.co.id/register" class="btn btn-yellow">
               Sign Up
            </a>
            <!-- B -->
            <!-- <a id="signUpHeader" href="https://my.sandbox.veritrans.co.id/register" class="btn btn-yellow">
               Sign Up
            </a> -->
          </div>
        </li>
      </ul>
    </div><!-- /.navbar-collapse -->
  </div><!-- /.container-fluid -->
</nav>
<div class="nav-overlay visible-sm visible-xs"></div>
<!-- LOGIN MODAL -->
<div id="login-modal" class="modal fade">
  <div class="modal-dialog modal-lg">
    <div class="modal-content">
      <div class="modal-body">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        <div class="row">
          <div class="col-sm-6 col-xs-12">
            <div class="production-box">
              <!-- <img src="images/banner-about.png"> -->
              <h5>PRODUCTION</h5>
              <p class="text-left">Jika Anda sudah terintegrasi dengan Veritrans. Log In untuk masuk ke Merchant Administration Portal Anda.</p>
              <a class="btn btn-trans-blue btn-med" href="https://my.veritrans.co.id">LOG IN<span class="arr-out">→</span></a>
            </div>
          </div>
          <div class="col-sm-6 col-xs-12">
            <div class="sandbox-box">
              <!-- <img src="images/banner-sandbox.png"> -->
              <h5>SANDBOX</h5>
              <p>Environment testing Veritrans untuk keperluan development dan uji coba Merchant Administration Portal. <a href="https://my.sandbox.veritrans.co.id" class="text-blue">Log In<span class="arr-out">→</span></a></p>
            </div>
          </div>
        </div>
        <br/><br/>
        <div class="row">
          <div class="col-xs-12 text-left">
            <div class="register-box">
              Belum terdaftar? <a id="signUpModal" href="https://my.sandbox.veritrans.co.id/register" class="text-blue signup-modal">Sign Up<span class="arr-out">→</span></a>
            </div>
          </div>
        </div>  
      </div>
    </div>
  </div>
</div>

    <div class="custom-container container">
      <div class="row row-offcanvas row-offcanvas-right">
        <div class="col-xs-6 col-sm-4 col-md-3 sidebar-offcanvas" id="sidebar" role="navigation">
  <div class="documentation-sidebar affix">
    <div class="docs-logo">
      <span>DOCS</span>
    </div>
    <div class="language-toggle"> <a href="../../en/vtdirect/integration_mbill.html">English</a> / Bahasa Indonesia</div>
    <ul class="sidebar">
      
        <li>
          
            <a class="parent">Langkah Awal</a>
            <b class="caret"></b>
            <ul class="child-menu">
              
                <li class=""><a href="../welcome/index.html">Perkenalan</a></li>
              
                <li class=""><a href="../welcome/preparation.html">Persiapan Awal</a></li>
              
                <li class=""><a href="../welcome/pluginlibrary.html">Library & Plugin</a></li>
              
            </ul>
          
        </li>
      
        <li>
          
            <a class="parent">VT-Web</a>
            <b class="caret"></b>
            <ul class="child-menu">
              
                <li class=""><a href="../vtweb/integration.html">Integrasi</a></li>
              
                <li class=""><a href="../vtweb/other_features.html">Fitur Tambahan</a></li>
              
                <li class=""><a href="../vtweb/going_live.html">Going Live</a></li>
              
            </ul>
          
        </li>
      
        <li>
          
            <a class="parent">VT-Direct</a>
            <b class="caret"></b>
            <ul class="child-menu">
              
                <li class="active"><a href="integration.html">Integrasi</a></li>
              
                <li class=""><a href="other_features.html">Fitur Tambahan</a></li>
              
                <li class=""><a href="other_commands.html">Perintah Lain</a></li>
              
                <li class=""><a href="going_live.html">Going Live</a></li>
              
            </ul>
          
        </li>
      
        <li>
          
            <a class="parent" href="../vtlink/index.html">VT-Link</a>
          
        </li>
      
        <li>
          
            <a class="parent" href="../mobile/index.html">Mobile</a>
          
        </li>
      
        <li>
          
            <a class="parent">Referensi API</a>
            <b class="caret"></b>
            <ul class="child-menu">
              
                <li class=""><a href="../api/introduction.html">Perkenalan</a></li>
              
                <li class=""><a href="../api/methods.html">API Methods</a></li>
              
                <li class=""><a href="../api/status_code.html">Status Kode</a></li>
              
            </ul>
          
        </li>
      
        <li>
          
            <a class="parent" href="../api/test_credentials.html">Testing</a>
          
        </li>
      
        <li>
          
            <a class="parent" href="../dashboard/index.html">Dashboard</a>
          
        </li>
      
        <li>
          
            <a class="parent" href="http://support.veritrans.co.id">FAQ</a>
          
        </li>
      
    </ul>
    <p class="question">
      Anda merasa ada yang kurang dari dokumentasi ini?<br>
      <a href="https://github.com/veritrans/veritrans.github.io">Buka issue atau ikut berkontribusi di Github</a>
    </p>
  </div>
</div><!--/span-->
        <div class="col-xs-12 col-sm-8 col-md-9" id="bodier">
          <p class="pull-right visible-xs">
            <button type="button" class="btn btn-primary btn-xs" data-toggle="offcanvas">Menu</button>
          </p>
          <div class="id-vtdirect-integration-mbill">
            <h2 id="integrasi-vt-direct-mandiri-bill-payment">Integrasi VT-Direct (Mandiri Bill Payment)</h2>
<hr />

<h5 id="setiap-metode-pembayaran-memiliki-tahapan-integrasi-yang-berbeda-dokumentasi-pada-halaman-ini-bertujuan-untuk-membantu-anda-melakukan-integrasi-vt-direct-dengan-metode-pembayaran-mandiri-bill-payment-apabila-butuh-bantuan-silahkan-hubungi-kami-di-supportveritranscoidmailtosupportveritranscoid-email-support-atau-kunjungi-halaman-support-kamihttpsupportveritranscoid-veritrans-support"><em>Setiap metode pembayaran memiliki tahapan integrasi yang berbeda. Dokumentasi pada halaman ini bertujuan untuk membantu anda melakukan integrasi VT-Direct dengan metode pembayaran Mandiri Bill Payment. Apabila butuh bantuan, silahkan hubungi kami di <a href="&#109;&#097;&#105;&#108;&#116;&#111;:&#115;&#117;&#112;&#112;&#111;&#114;&#116;&#064;&#118;&#101;&#114;&#105;&#116;&#114;&#097;&#110;&#115;&#046;&#099;&#111;&#046;&#105;&#100;">&#115;&#117;&#112;&#112;&#111;&#114;&#116;&#064;&#118;&#101;&#114;&#105;&#116;&#114;&#097;&#110;&#115;&#046;&#099;&#111;&#046;&#105;&#100;</a> atau kunjungi <a title="Veritrans Support" href="http://support.veritrans.co.id">halaman support kami</a>.</em></h5>
<hr />
<p><br /></p>

<div class="row">
  <div class="col-md-2 col-sm-3 col-xs-12">
    <div class="thumbnail">
    <a href="integration_cc.html"><img src="../../images/cc_icon_gray.jpg" /></a>
    </div>
  </div>
  <div class="col-md-2 col-sm-3 col-xs-12">
    <div class="thumbnail">
    <a href="integration_mandiri.html"><img src="../../images/mc_icon_gray.jpg" /></a>
    </div>
  </div>
  <div class="col-md-2 col-sm-3 col-xs-12">
    <div class="thumbnail">
    <a href="integration_cimb.html"><img src="../../images/cic_icon_gray.jpg" /></a>
    </div>
  </div>
  <div class="col-md-2 col-sm-3 col-xs-12">
    <div class="thumbnail">
    <a href="integration_va.html"><img src="../../images/va_icon_gray.png" /></a>
    </div>
  </div>
  <div class="col-md-2 col-sm-3 col-xs-12">
    <div class="thumbnail">
    <a href="integration_bripay.html"><img src="../../images/bri_icon_gray.jpg" /></a>
    </div>
  </div>
  <div class="col-md-2 col-sm-3 col-xs-12">
    <div class="thumbnail">
    <a href="integration_tcash.html"><img src="../../images/tcash_icon_gray.jpg" /></a>
    </div>
  </div>
  <div class="col-md-2 col-sm-3 col-xs-12">
    <div class="thumbnail">
    <a href="integration_xltunai.html"><img src="../../images/xltunai_icon_gray.jpg" /></a>
    </div>
  </div>
  <div class="col-md-2 col-sm-3 col-xs-12">
    	<div class="thumbnail">
    	<a href="integration_mbill.html"><img src="../../images/mbill_icon.jpg" /></a>
    	</div>
  </div>
  <div class="col-md-2 col-sm-3 col-xs-12">
    <div class="thumbnail">
    <a href="integration_bbmmoney.html"><img src="../../images/icon_bbmmoney_gray.png" /></a>
    </div>
  </div>
  <div class="col-sm-2 col-xs-12">
      <div class="thumbnail">
      <a href="integration_indomrt.html"><img src="../../images/indomrt_icon_grey.png" /></a>
      </div>
  </div>
  <div class="col-md-2 col-sm-3 col-xs-12">
      <div class="thumbnail">
        <a href="integration_dompetku.html"><img src="../../images/dompetku_icon_gray.png" /></a>
      </div>
  </div>
</div>

<hr />
<p><br /></p>

<p>Mandiri bill payment adalah fitur yang disediakan oleh Bank Mandiri agar nasabah mereka lebih mudah melakukan pembayaran dengan menggunakan akun debit. Fitur ini dibuka untuk semua Mandiri e-channel seperti ATM, Internet Banking, dan mobile Banking. Dengan menggunakan e-channel ini, pelanggan dapat membayar tagihan kapan saja (24 jam).</p>

<p>Untuk mengaktifkan metode pembayaran Mandiri Bill Payment (otomatis aktif pada mode Sandbox), anda perlu menghubungi sales representative Veritrans.</p>

<h3 id="tahapan-integrasi-vt-direct-mandiri-bill-payment">Tahapan Integrasi VT-Direct Mandiri Bill Payment.</h3>

<ol>
  <li>Membuat Form</li>
  <li>Charge Transaksi</li>
  <li>Menampilkan Bill Key</li>
  <li>Status Transaksi</li>
</ol>

<p>Berbeda dengan metode pembayaran kartu kredit, proses utama pembayaran Mandiri Bill Payment tidak dilakukan di halaman anda. Pelanggan melakukan pembayaran melalui Mandiri e-channel.
<br /><br /></p>

<!-- Nav tabs -->
<ul class="nav nav-tabs">
  <li class="active"><a href="#form-mbill" data-toggle="tab"><span>Tahap 1</span>Membuat Form</a></li>
  <li><a href="#charge-transaction-mbill" data-toggle="tab"><span>Tahap 2</span>Charge Transaksi</a></li>
  <li><a href="#response-transaction-mbill" data-toggle="tab"><span>Tahap 3</span>Menampilkan Bill Key</a></li>
  <li><a href="#transaction-status-mbill" data-toggle="tab"><span>Tahap 4</span>Status Transaksi</a></li>
</ul>

<div class="tab-content">
  <div class="tab-pane active" id="form-mbill">
    <!-- step 1-->
    <!-- satu -->
    <p><br /></p>

    <h2 id="membuat-form">Membuat Form</h2>

    <p>Form pembayaran Mandiri Bill Payment akan kita buat di file <code>form_vtdirect_mbill.html</code>. Karena sebagian besar proses pembayaran tidak dilakukan di halaman merchant, form yang akan kita buat hanya berisi petunjuk pembayaran dan tombol bayar menggunakan Mandiri Bill Payment. Ketika pelanggan anda menekan tombol ini, proses charge transaksi dilakukan pada tahap selanjutnya.</p>

    <p>Berikut adalah contoh form pada file <code>form_vtdirect_mbill.html</code>:
<br /><br /></p>

<pre><code class="highlight html"><span class="nt">&lt;head&gt;</span>
	<span class="nt">&lt;title&gt;</span>Mandiri Bill Payment<span class="nt">&lt;/title&gt;</span>
<span class="nt">&lt;/head&gt;</span>
<span class="nt">&lt;body&gt;</span>
	<span class="nt">&lt;h1&gt;</span>Mandiri Bill Payment<span class="nt">&lt;/h1&gt;</span>
	<span class="nt">&lt;b&gt;</span>Saya akan melakukan pembayaran dengan metode Mandiri Bill Payment<span class="nt">&lt;/b&gt;</span>
	<span class="nt">&lt;form</span> <span class="na">action=</span><span class="s">"checkout_mbill.php"</span> <span class="na">method=</span><span class="s">"POST"</span> <span class="na">id=</span><span class="s">"payment-form"</span><span class="nt">&gt;</span>
      <span class="nt">&lt;button</span> <span class="na">id=</span><span class="s">"submit-button"</span> <span class="na">type=</span><span class="s">"submit"</span><span class="nt">&gt;</span>Pay<span class="nt">&lt;/button&gt;</span>
    <span class="nt">&lt;/form&gt;</span>
<span class="nt">&lt;/body&gt;</span>
</code></pre>

  </div>
  <div class="tab-pane" id="charge-transaction-mbill">
    <!-- step 2-->
    <!-- dua -->
    <p><br /></p>

    <h2 id="charge-transaksi">Charge Transaksi</h2>

    <p>Untuk melakukan charge transaction menggunakan Mandiri Bill Payment, beberapa langkah harus dilakukan sebagai berikut:</p>

    <ul>
      <li><code>payment_type</code> harus di-set menjadi <code>echannel</code>.</li>
      <li>
        <p>JSON object baru harus ditambahkan, dengan nama <code>echannel</code>,dan mempunyai nama/value pasangan sebagai berikut:</p>

        <ul>
          <li><code>bill_info1</code> → Label keterangan 1</li>
          <li><code>bill_info2</code> → Nilai keterangan 1</li>
        </ul>
      </li>
    </ul>

    <p>Tahap ini membahas cara charge transaksi Mandiri Bill Payment di file <code>checkout_mbill.php</code>. Untuk melakukan charge transaksi, kita dapat menggunakan library Veritrans-PHP. Berikut adalah contoh implementasi charge transaksi pada file <code>checkout_mbill.php</code>:
<br /><br /></p>

<pre><code class="highlight php"><span class="cp">&lt;?php</span>
<span class="k">include_once</span><span class="p">(</span><span class="s1">'Veritrans.php'</span><span class="p">);</span>

<span class="c1">// TODO: change with your actual server_key that can be found on Merchant Administration Portal (MAP)
</span><span class="nx">Veritrans_Config</span><span class="o">::</span><span class="nv">$serverKey</span> <span class="o">=</span> <span class="s2">"&lt; Your Server Key &gt;"</span><span class="p">;</span>
<span class="nx">Veritrans_Config</span><span class="o">::</span><span class="nv">$isProduction</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>

<span class="nv">$transaction_details</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span>
  <span class="s1">'order_id'</span>    <span class="o">=&gt;</span> <span class="nb">rand</span><span class="p">(),</span>
  <span class="s1">'gross_amount'</span>  <span class="o">=&gt;</span> <span class="mi">145000</span><span class="p">,</span>
<span class="p">);</span>

<span class="nv">$item1_details</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">'id'</span> <span class="o">=&gt;</span> <span class="s1">'a1'</span><span class="p">,</span>
    <span class="s1">'price'</span> <span class="o">=&gt;</span> <span class="mi">50000</span><span class="p">,</span>
    <span class="s1">'quantity'</span> <span class="o">=&gt;</span> <span class="mi">2</span><span class="p">,</span>
    <span class="s1">'name'</span> <span class="o">=&gt;</span> <span class="s1">'Apel'</span>
    <span class="p">);</span>

<span class="nv">$item2_details</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">'id'</span> <span class="o">=&gt;</span> <span class="s1">'a2'</span><span class="p">,</span>
    <span class="s1">'price'</span> <span class="o">=&gt;</span> <span class="mi">45000</span><span class="p">,</span>
    <span class="s1">'quantity'</span> <span class="o">=&gt;</span> <span class="mi">1</span><span class="p">,</span>
    <span class="s1">'name'</span> <span class="o">=&gt;</span> <span class="s1">'Jeruk'</span>
    <span class="p">);</span>

<span class="nv">$item_details</span> <span class="o">=</span> <span class="k">array</span> <span class="p">(</span><span class="nv">$item1_details</span><span class="p">,</span> <span class="nv">$item2_details</span><span class="p">);</span>

<span class="nv">$customer_details</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">'first_name'</span>    <span class="o">=&gt;</span> <span class="s2">"Andri"</span><span class="p">,</span>
    <span class="s1">'last_name'</span>     <span class="o">=&gt;</span> <span class="s2">"Litani"</span><span class="p">,</span>
    <span class="s1">'email'</span>         <span class="o">=&gt;</span> <span class="s2">"andri@litani.com"</span><span class="p">,</span>
    <span class="s1">'phone'</span>         <span class="o">=&gt;</span> <span class="s2">"081122334455"</span>
    <span class="p">);</span>


<span class="c1">// Data yang akan dikirim untuk request charge transaction dengan Mandiri Bill.
</span><span class="nv">$transaction_data</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span>
  <span class="s1">'payment_type'</span> <span class="o">=&gt;</span> <span class="s1">'echannel'</span><span class="p">,</span>
  <span class="s1">'echannel'</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
      <span class="s1">'bill_info1'</span> <span class="o">=&gt;</span> <span class="s2">"Payment for"</span><span class="p">,</span>
      <span class="s1">'bill_info2'</span> <span class="o">=&gt;</span> <span class="s2">"debt"</span>
    <span class="p">),</span>
  <span class="s1">'transaction_details'</span> <span class="o">=&gt;</span> <span class="nv">$transaction_details</span><span class="p">,</span>
  <span class="s1">'item_details'</span>        <span class="o">=&gt;</span> <span class="nv">$item_details</span><span class="p">,</span>
  <span class="s1">'customer_details'</span> <span class="o">=&gt;</span> <span class="nv">$customer_details</span>
  <span class="p">);</span>

<span class="nv">$result</span> <span class="o">=</span> <span class="nx">Veritrans_VtDirect</span><span class="o">::</span><span class="na">charge</span><span class="p">(</span><span class="nv">$transaction_data</span><span class="p">);</span>
<span class="cp">?&gt;</span>
</code></pre>

    <p><br />
Pada contoh di atas, kita menggunakan data Mandiri Bill Payment, transaksi, informasi barang dan pelanggan sebagai parameter charge transaksi. Anda sebenarnya dapat menambahkan data lain saat charge transaksi, seperti: alamat pelanggan, dan alamat pengiriman. Untuk menambahkan data ini, anda dapat melihat <a href="../api/methods.html">Referensi API - API Methods</a>.</p>

  </div>
  <div class="tab-pane" id="response-transaction-mbill">
    <!-- step 3-->
    <!-- tiga -->
    <p><br /></p>

    <h2 id="menampilkan-bill-key">Menampilkan Bill Key</h2>

    <p>Server Veritrans akan mengembalikan respon untuk setiap charge transaksi dalam bentuk JSON. Library Veritrans-PHP akan melakukan konversi JSON menjadi object PHP secara otomatis. Contoh respon JSON yang dikembalikan oleh veritrans adalah sebagai berikut:
<br /><br /></p>

<pre><code class="highlight php">$result = array(
  "status_code" =&gt; "201",
  "status_message" =&gt; "Success, Mandiri Bill transaction is successful",
  "transaction_id" =&gt; "ff05337c-6c94-4f70-8e81-35acd89b688e",
  "order_id" =&gt; "201404141421",
  "payment_type" =&gt; "echannel",
  "transaction_time" =&gt; "2014-04-14 16:03:51",
  "transaction_status" =&gt; "pending",
  "bill_key" =&gt; "000182",
  "biller_code" =&gt; "70012",
  "gross_amount" =&gt; "145000.00"
);
</code></pre>

    <p><br />
Beberapa informasi penting dalam respon JSON diatas adalah <code>status_code</code>, <code>biller_code</code> dan <code>bill_key</code>. Jika nilai <code>status_code</code> adalah <code>201</code>, maka proses charge transaksi berhasil disimpan pada server Veritrans dengan status pending. Anda selanjutnya harus menampilkan <code>biller_code</code> dan <code>bill_key</code> ke pelanggan anda, agar pelanggan anda dapat melakukan pembayaran. Untuk melakukan hal tersebut, anda dapat menambahkan kode PHP berikut pada bagian akhir file <code>checkout_mbill.php</code>:
<br /><br /></p>

<pre><code class="highlight php"><span class="cp">&lt;?php</span>
<span class="k">include_once</span><span class="p">(</span><span class="s1">'Veritrans.php'</span><span class="p">);</span>

<span class="o">...</span>

<span class="nv">$result</span> <span class="o">=</span> <span class="nx">Veritrans_VtDirect</span><span class="o">::</span><span class="na">charge</span><span class="p">(</span><span class="nv">$transaction_data</span><span class="p">);</span>

<span class="k">if</span><span class="p">(</span><span class="nv">$result</span><span class="o">-&gt;</span><span class="na">status_code</span> <span class="o">==</span> <span class="s2">"201"</span><span class="p">)</span>
<span class="p">{</span>
  <span class="c1">//success
</span>  <span class="k">echo</span> <span class="s2">"&lt;b&gt;Mandiri Bill Payment&lt;/b&gt; &lt;br /&gt;&lt;br /&gt;"</span><span class="p">;</span>
  <span class="k">echo</span> <span class="s2">"&lt;b&gt;Silahkan melakukan pembayaran melalui Mandiri echannel dengan data berikut:&lt;/b&gt;"</span><span class="p">;</span>
  <span class="k">echo</span> <span class="s2">"&lt;b&gt;Company Code:&lt;/b&gt; "</span><span class="o">.</span><span class="nv">$result</span><span class="o">-&gt;</span><span class="na">biller_code</span><span class="p">;</span>
  <span class="k">echo</span> <span class="s2">"&lt;b&gt;Bill Key:&lt;/b&gt; "</span><span class="o">.</span><span class="nv">$result</span><span class="o">-&gt;</span><span class="na">bill_key</span><span class="p">;</span>
  <span class="k">echo</span> <span class="s2">"&lt;br /&gt;&lt;br /&gt;"</span><span class="p">;</span>
  <span class="k">echo</span> <span class="s2">"1. Anda memiliki waktu 24 jam untuk melakukan pembayaran, sebelum transaksi tersebut dibatalkan &lt;br /&gt;"</span><span class="p">;</span>
  <span class="k">echo</span> <span class="s2">"2. Jika anda menemui kendala, silahkan hubungi kami di 021-22334456"</span><span class="p">;</span>

<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
  <span class="c1">//error
</span>  <span class="k">echo</span> <span class="s2">"Terjadi kesalahan pada data transaksi yang dikirim.&lt;br /&gt;"</span><span class="p">;</span>
  <span class="k">echo</span> <span class="s2">"&lt;h3&gt;Result:&lt;/h3&gt;"</span><span class="p">;</span>
  <span class="nb">var_dump</span><span class="p">(</span><span class="nv">$result</span><span class="p">);</span>
<span class="p">}</span>
<span class="cp">?&gt;</span>
</code></pre>

    <p><br />
Sampai tahap ini, transaksi sudah tersimpan di MAP dengan status <em>pending</em>. Status transaksi akan berubah menjadi <em>sukses</em> saat pelanggan anda selesai melakukan pembayaran.</p>

    <div class="alert alert-info" role="alert">
      <p><span class="glyphicon glyphicon-info-sign" aria-hidden="true"></span>
  <span class="sr-only">Info:</span>
<strong>Note</strong>:<br /> 
Untuk memudahkan proses pembayaran, kami menyediakan <a href="https://api.sandbox.veritrans.co.id:7676/mandiri/bill/index">simulator pembayaran</a> untuk mode sandbox.</p>
    </div>

    <p><br /></p>

    <h3 id="kesalahan-dalam-charge-transaksi">Kesalahan dalam Charge Transaksi</h3>

    <p>Pada beberapa kasus, charge transaksi bisa gagal. Hal ini menyebabkan anda tidak mendapatkan nomor bill key dan biller code. Veritrans akan mengembalikan pesan error ketika terjadi kegagalan, penyebab gagalnya charge transaksi dapat dilihat dari status code yang ada di dalam pesan error. Status code yang umumnya muncul adalah:
<br /><br /></p>

    <table>
      <thead>
        <tr>
          <th>Kode Error</th>
          <th>Keterangan</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td><code>400</code> validation error</td>
          <td>Format atau konten data transaksi tidak valid. Contoh: Salah tipe variabel, metode pembayaran tidak valid.</td>
        </tr>
        <tr>
          <td><code>401</code> Access Denied</td>
          <td>Client atau server key tidak valid.</td>
        </tr>
        <tr>
          <td><code>402</code> Access Denied</td>
          <td>Merchant tidak memiliki izin menggunakan metode pembayaran tertentu.</td>
        </tr>
        <tr>
          <td><code>406</code> Duplicate Order ID</td>
          <td>Order ID telah digunakan dan dibayar sebelumnya.</td>
        </tr>
        <tr>
          <td><code>410</code> Account Inactive</td>
          <td>Akun merchant tidak aktif dalam waktu lama</td>
        </tr>
      </tbody>
    </table>

    <p><br />
Daftar status code lengkap dapat dilihat di <a href="../api/status_code.html">Referensi API - Status Code</a>.</p>

    <p>Jika charge transaksi berhasil, anda dapat mengetahui status transaksi melalui beberapa cara. Cara untuk melihat status transaksi Mandiri Bill Payment akan dibahas pada bagian selanjutnya.</p>

  </div>
  <div class="tab-pane" id="transaction-status-mbill">
    <!-- step 4-->
    <!-- empat -->
    <p><br /></p>

    <h2 id="status-transaksi">Status Transaksi</h2>

    <p>Pada saat charge transaksi berhasil, status transaksi tersebut masih pending. Pelanggan anda dapat menyelesaikan transaksi dengan melakukan pembayaran di ATM Mandiri atau internet banking Mandiri. Begitu proses ini selesai, status transaksi akan berubah menjadi <code>success</code>. Anda dapat mengetahui perubahan status transaksi melalui MAP.</p>

    <p>Status pada MAP saat pembayaran belum selesai dilakukan di Mandiri adalah seperti gambar berikut:
<br /><br />
  <img alt="Mandiri Bill MAP Pending" class="img-responsive img-thumbnail" src="../../images/mbill-pending.png" />
<br /><br />
Status pada MAP saat pembayaran sudah selesai dilakukan di Mandiri adalah seperti gambar berikut:
<br /><br />
  <img alt="Mandiri Bill MAP Sukses" class="img-responsive img-thumbnail" src="../../images/mbill-settlement.png" />
<br /><br /></p>

    <h3 id="https-post">HTTP(S) POST</h3>

    <p>Server Veritrans akan memberikan respon kepada server anda saat pelanggan anda telah melakukan pembayaran. Contoh respon JSON yang dikirimkan oleh Veritrans adalah sebagai berikut:
<br /><br /></p>

<pre><code class="highlight php">{
  "status_code":"200”,
  "status_message":"Veritrans payment notification”,
  "transaction_id":"ff05337c-6c94-4f70-8e81-35acd89b688e”,
  "order_id":"201404141421”,
  "payment_type":"echannel”,
  "transaction_time":"2014-04-14 16:03:51”,
  "transaction_status":"settlement”,
  "approval_code":"1435562115673”,
  "signature_key":"ff115bc364ca9b52a9e44a2232057dcc17425a71bb6585cb9e5adbe7877a0a01a03ad91fb5efe6ab2c85d3abdb2b2e7b45ad1308a63e6c5d2729a9e054855b54”,
  "bill_key":"000182”,
  "gross_amount":”145000.00"
}
</code></pre>

    <p><br />
Alternatif lain untuk melihat status transaksi adalah menggunakan perintah <a href="other_commands.html">get status</a>.</p>

  </div>
</div>


            <div class="pagination">
              <ul><li class="left">« Sebelumnya: <a href="../vtweb/going_live.html">VT-Web : Going Live</a></li><li class="right">Selanjutnya: <a href="other_features.html">VT-Direct : Fitur Tambahan</a> »</li></ul>
            </div>
          </div>
        </div><!--/span-->
      </div><!--/row-->
    </div><!--/.container-->

    <footer>
  <div class="container">
    <div class="row footer-content">
      <div class="col-lg-3 col-md-3 col-sm-4 col-xs-6">
        <h4 class="text-gray">Veritrans</h4>
        <ul>
          <li>
            <a href="https://www.veritrans.co.id/">Home</a>
          </li>
          <li>
            <a href="https://www.veritrans.co.id/payment_channels.html">Payment Channels</a>
          </li>
          <li>
            <a href="https://www.veritrans.co.id/product_pricing.html">Product &amp; Pricing</a>
          </li>
          <li>
            <a href="https://www.veritrans.co.id/promo.html">Promo</a>
          </li>
          <li>
            <a href="https://www.veritrans.co.id/case_study.html">Case Study</a>
          </li>
          <li>
            <a href="https://www.veritrans.co.id/aegis.html">Aegis</a>
          </li>
        </ul>
        <!-- <h4 class="text-gray">Shopping</h4>
        <ul>
          <li>
            <a href="event.html">Promo</a>
          </li>
          <li>
            <a href="directory.html">Directory</a>
          </li>
        </ul> -->
      </div>
      <div class="col-lg-2 col-md-3 col-sm-4 col-xs-6">
        <h4 class="text-gray">Devs</h4>
        <ul>
          <li>
            <a href="http://docs.veritrans.co.id">Documentations</a>
          </li>
        </ul>
        <h4 class="text-gray about-footer">About</h4>
        <ul>
          <li>
            <a href="https://www.veritrans.co.id/about.html">Team</a>
          </li>
          <li>
            <a href="https://www.veritrans.co.id/career.html">Career</a>
          </li>
          <li>
            <a href="https://www.veritrans.co.id/press.html">Press</a>
          </li>
        </ul>
      </div>
      <div class="col-lg-2 col-md-3 col-sm-4 col-xs-6">
        <h4 class="text-gray">Help</h4>
        <ul>
          <li>
            <a href="https://blog.veritrans.co.id">Blog</a>
          </li>
          <li>
            <a href="http://support.veritrans.co.id">FAQ</a>
          </li>
          <li>
            <a href="https://www.veritrans.co.id/contact.html">Contact</a>
          </li>
          <li>
            <a href="https://www.veritrans.co.id/privacy_policy.html">Privacy Policy</a>
          </li>
        </ul>
      </div>
      <div class="col-lg-2 col-md-3 col-sm-4 col-xs-6 find-us-footer">
        <h4 class="text-gray">Find Us</h4>
        <ul>
          <li>
            <a href="https://www.facebook.com/veritransID">Facebook</a>
          </li>
          <li>
            <a href="https://twitter.com/veritransid">Twitter</a>
          </li>
          <li>
            <a href="https://instagram.com/veritransid">Instagram</a>
          </li>
          <li>
            <a href="https://www.linkedin.com/company/pt-midtrans">LinkedIn</a>
          </li>
          <li>
            <a href="https://www.youtube.com/channel/UCtPNqTFgR1aXpEFA9B_djnw">YouTube</a>
          </li>
        </ul>
      </div>
      <div class="col-lg-3 col-md-4 col-sm-6 col-xs-12">
        <h4 class="text-gray with-subtitle">
          Subscribe
        </h4>
        <small>
          tips &amp; berita terbaru seputar eCommerce
        </small>
        <div id="mc_embed_signup">
          <form action="//veritrans.us9.list-manage.com/subscribe/post?u=4ed5f88335112571098a4a51c&amp;id=12315939d2" method="post" id="mc-embedded-subscribe-form" name="mc-embedded-subscribe-form" class="validate" target="_blank" novalidate>
            <div id="mc_embed_signup_scroll">
              <div class="mc-field-group">
                  <input type="email" value="" name="EMAIL" class="required email search-input" id="mce-EMAIL" placeholder="EMAIL" pattern="/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/" required/>
              </div>
              <div id="mce-responses" class="clear">
                  <div class="response" id="mce-error-response" style="display:none"></div>
                  <div class="response" id="mce-success-response" style="display:none"></div>
            </div>   
              <div style="position: absolute; left: -5000px;"><input type="text" name="b_4ed5f88335112571098a4a51c_12315939d2" tabindex="-1" value=""></div>
              <div class="clear"><input type="submit" value="submit" name="subscribe" id="mc-embedded-subscribe" class="btn btn-search"/></div>
              </div>
          </form>
        </div>
      </div>
    </div>
    <div class="copyright text-center">
      <br/>
      &copy; 2015 PT Midtrans
      <br/>
      <br/>
    </div>
  </div>
</footer>
<div class="modal fade" id="underConstruction" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        <h4 class="modal-title text-center" id="myModalLabel">Sorry!</h4>
      </div>
      <div class="modal-body text-center">
        We're still building this web page.<br/>
        Be the first to know when it's done by <a class="dotted" href="https://veritrans.us9.list-manage.com/subscribe/post?u=4ed5f88335112571098a4a51c&id=12315939d2">subscribing</a> to our newsletter.
      </div>
    </div>
  </div>
</div>
<script language="javascript" type="text/javascript">
  function popitup(url) {
    newwindow=window.open(url,'name','height=430,width=540');
    if (window.focus) {newwindow.focus()}
    return false;
  }
</script>
    <script src="../../javascripts/bootstrap.min.js" type="text/javascript"></script>
<script src="../../javascripts/dropdown.js" type="text/javascript"></script>
<script src="../../javascripts/tab_custom.js" type="text/javascript"></script>
<script src="../../javascripts/useragent.js" type="text/javascript"></script>
<script src="../../javascripts/mixpanel_tracking.js" type="text/javascript"></script>
    
    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-32232768-12', 'auto');
      ga('send', 'pageview');
    </script>
    <script>
      $(document).ready(function() {
        $('[data-toggle=offcanvas]').click(function() {
          $('.row-offcanvas').toggleClass('active');
        });
        $(function () {
          $('[data-toggle="tooltip"]').tooltip();
        });

        mixpanel.track('id docs page viewed',{
          'url' : location.href
        });
      });
    </script>
  </body>
</html><!-- Veritrans.3.0-20150423 -->
