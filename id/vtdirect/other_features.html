<!DOCTYPE html>
<html lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Veritrans API Documentation. Payment Gateway Indonesia, transaksi online lebih aman, mudah, cepat! Veritrans memberi solusi sistem payment gateway terbaik untuk e-commerce di Indonesia.">
    <meta name="keywords" content="Veritrans, Veritrans Indonesia, payment gateway indonesia, Pembayaran Online Indonesia, online payment Indonesia, sistem transaksi online"> 
    <link href="../../stylesheets/style.css" media="screen" rel="stylesheet" type="text/css" />
    <title>Docs - Veritrans Indonesia</title>
		<link rel="shortcut icon" href="/favicon.ico"/>

    <!-- Start Alexa Certify Javascript -->
    <script type="text/javascript">
    _atrk_opts = { atrk_acct:"0VtQk1a4SBe05T", domain:"veritrans.co.id",dynamic: true};
    (function() { var as = document.createElement('script'); as.type = 'text/javascript'; as.async = true; as.src = "https://d31qbv1cthcecs.cloudfront.net/atrk.js"; var s = document.getElementsByTagName('script')[0];s.parentNode.insertBefore(as, s); })();
    </script>
    <noscript><img src="https://d5nxst8fruw4z.cloudfront.net/atrk.gif?account=0VtQk1a4SBe05T" style="display:none" height="1" width="1" alt="" /></noscript>
    <!-- End Alexa Certify Javascript -->

    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
      <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
    <![endif]-->
  </head>

  <body>
    <div class="header navbar navbar-default navbar-fixed-top">
      <div class="custom-container">
        <div class="col-md-3 col-sm-12 navbar-header">
          <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <h2 class="logo"><a href="https://www.veritrans.co.id/" title="Home"><span>Veritrans</span></a></h2>
        </div>
        <div class="navbar-collapse collapse">
          <ul class="nav navbar-nav">
            <li><a href="https://www.veritrans.co.id/whatwedo.html" title="What We Do">what we do</a></li>
            <li><a href="https://www.veritrans.co.id/product.html" title="Our Online Payment Products">product</a></li>
            
            <li class="dropdown hidden-xs hidden-sm hidden-md">
              <a href="about.html">about <b class="caret"></b></a>
              <ul class="dropdown-menu">
                <li><a href="https://www.veritrans.co.id/team.html" title="Team">team</a></li>
                <li><a href="https://www.veritrans.co.id/press.html" title="Press">press</a></li>
                <li><a href="https://www.veritrans.co.id/career.html" title="Career at Veritrans">career</a></li>
                <li><a href="https://www.veritrans.co.id/contact.html" title="Contact Us">contact</a></li>
                <li><a href="http://support.veritrans.co.id/" title="FAQ & How To">FAQ</a></li>
              </ul>
            </li>
            <li class="dropdown hidden-lg">
              <a href="#">about <b class="caret"></b></a>
              <ul class="dropdown-menu">
                <li><a href="https://www.veritrans.co.id/about.html" title="Team">about us</a></li>
                <li><a href="https://www.veritrans.co.id/team.html" title="Team">team</a></li>
                <li><a href="https://www.veritrans.co.id/press.html" title="Press">press</a></li>
                <li><a href="https://www.veritrans.co.id/career.html" title="Career at Veritrans">career</a></li>
                <li><a href="https://www.veritrans.co.id/contact.html" title="Contact Us">contact</a></li>
                <li><a href="http://support.veritrans.co.id/" title="FAQ & How To">FAQ</a></li>
              </ul>
            </li>
            <!-- <li><a href="http://docs.veritrans.co.id" title="Product Documentations">docs</a></li> -->
            <li class="dropdown">
              <a href="#">developer <b class="caret"></b></a>
              <ul class="dropdown-menu">
                <li><a href="https://www.veritrans.co.id/sandbox.html">sandbox</a></li>
                <li><a href="http://docs.veritrans.co.id/">documentation</a></li>
              </ul>
            </li>
            <li class="dropdown">
              <a href="#">community <b class="caret"></b></a>
              <ul class="dropdown-menu">
                <li><a href="http://blog.veritrans.co.id" title="Blog, News and Press Release">blog</a></li>
                <li><a href="https://www.veritrans.co.id/merchants.html" title="Merchants">merchants</a></li>
                <li><a href="https://www.veritrans.co.id/why-veritrans.html" title="Why Veritrans">why veritrans</a></li>
              </ul>
            </li>
          </ul>
          <ul class="nav navbar-nav navbar-right register-login">
            <li class="pull-left"><a href="https://my.sandbox.veritrans.co.id/register" class="register">sign up</a></li>
            <li class="pull-left"><a href="https://my.veritrans.co.id/login">sign in</a></li>
          </ul>
        </div><!--/.nav-collapse -->
      </div>
    </div>

    <div class="custom-container">
      <div class="row row-offcanvas row-offcanvas-right">
        <div class="col-xs-6 col-sm-3 sidebar-offcanvas" id="sidebar" role="navigation">
	<div class="documentation-sidebar">
		<div class="docs-logo">
			<span>DOCS</span>
		</div>
		<div class="language-toggle"> <a href="../../vtdirect/other_features.html">English</a> / Bahasa Indonesia</div>
		<ul class="sidebar">
			
			<li>
        
          <a class="parent" href="../welcome/welcome.html">Selamat Datang</a>
        
			</li>
			
			<li>
        
          <a class="parent">VT-Web</a>
          <b class="caret"></b>
          <ul class="child-menu">
            
            <li class=""><a href="../vtweb/introduction.html">Perkenalan</a></li>
            
            <li class=""><a href="../vtweb/getting_started.html">Langkah Awal</a></li>
            
            <li class=""><a href="../vtweb/integration.html">Integrasi</a></li>
            
            <li class=""><a href="../vtweb/other_features.html">Fitur Tambahan</a></li>
            
            <li class=""><a href="../vtweb/going_live.html">Going Live</a></li>
            
          </ul>
        
			</li>
			
			<li>
        
          <a class="parent">VT-Direct</a>
          <b class="caret"></b>
          <ul class="child-menu">
            
            <li class=""><a href="introduction.html">Perkenalan</a></li>
            
            <li class=""><a href="getting_started.html">Langkah Awal</a></li>
            
            <li class=""><a href="integration.html">Integrasi</a></li>
            
            <li class="active"><a href="other_features.html">Fitur Tambahan</a></li>
            
            <li class=""><a href="other_commands.html">Perintah Lain</a></li>
            
            <li class=""><a href="going_live.html">Going Live</a></li>
            
          </ul>
        
			</li>
			
			<li>
        
          <a class="parent">Referensi API</a>
          <b class="caret"></b>
          <ul class="child-menu">
            
            <li class=""><a href="../sandbox/introduction.html">Perkenalan</a></li>
            
            <li class=""><a href="../sandbox/charge.html">Charge Transaksi</a></li>
            
            <li class=""><a href="../sandbox/installment.html">Cicilan</a></li>
            
            <li class=""><a href="../sandbox/bin.html">BIN Promo</a></li>
            
            <li class=""><a href="../sandbox/other_features.html">Fitur Tambahan</a></li>
            
            <li class=""><a href="../sandbox/other_commands.html">Perintah Lain</a></li>
            
            <li class=""><a href="../sandbox/card_list.html">Daftar Kartu Uji Coba</a></li>
            
            <li class=""><a href="../sandbox/status_code.html">Status Kode</a></li>
            
          </ul>
        
			</li>
			
			<li>
        
          <a class="parent" href="../plugin/plugin.html">Plugin & Mobile Apps</a>
        
			</li>
			
			<li>
        
          <a class="parent" href="http://support.veritrans.co.id">FAQ</a>
        
			</li>
			
		</ul>
		<p class="question">
            Anda merasa ada yang kurang dari dokumentasi ini?<br>
            <a href="https://github.com/veritrans/veritrans.github.io">Buka issue atau ikut berkontribusi di Github</a>
        </p>
	</div>
</div><!--/span-->
        <div class="col-xs-12 col-sm-7" id="bodier">
          <p class="pull-right visible-xs">
            <button type="button" class="btn btn-primary btn-xs" data-toggle="offcanvas">Menu</button>
          </p>
          <div class="id-vtdirect-other-features">
            <h2 id="fitur-tambahan">Fitur Tambahan</h2>
<hr />

<h5 id="tutorial-berikut-akan-membantu-anda-meng-implementasikan-fitur-tambahan-di-vt-direct-apabila-butuh-bantuan-silahkan-hubungi-kami-di-supportveritranscoidmailtosupportveritranscoid-email-support-atau-kunjungi-halaman-support-kamihttpsupportveritranscoid-veritrans-support"><em>Tutorial berikut akan membantu anda meng-implementasikan fitur tambahan di VT-Direct. Apabila butuh bantuan, silahkan hubungi kami di <a href="&#109;&#097;&#105;&#108;&#116;&#111;:&#115;&#117;&#112;&#112;&#111;&#114;&#116;&#064;&#118;&#101;&#114;&#105;&#116;&#114;&#097;&#110;&#115;&#046;&#099;&#111;&#046;&#105;&#100;">&#115;&#117;&#112;&#112;&#111;&#114;&#116;&#064;&#118;&#101;&#114;&#105;&#116;&#114;&#097;&#110;&#115;&#046;&#099;&#111;&#046;&#105;&#100;</a> atau kunjungi <a title="Veritrans Support" href="http://support.veritrans.co.id">halaman support kami</a>.</em></h5>
<hr />

<p><br />
Saat ini VT-Direct memiliki fitur tambahan untuk metode pembayaran dengan kartu kredit, yaitu:</p>

<ol>
  <li>Pre-Authorization &amp; Capture</li>
  <li>Cicilan/Installment</li>
  <li>BIN Promo</li>
  <li>One Click</li>
  <li>Two Clicks</li>
</ol>

<p>Berikut adalah tutorial untuk melakukan integrasi menggunakan fitur - fitur sesuai dengan kebutuhan anda.
<br /><br /></p>

<!-- Nav tabs -->
<ul class="nav nav-tabs">
  <li class="active"><a href="#pre-authorization" data-toggle="tab">Pre-Authorization &amp; Capture</a></li>
  <li><a href="#installment" data-toggle="tab">Cicilan/Installment</a></li>
  <li><a href="#bin-promo" data-toggle="tab">BIN Promo</a></li>
  <li><a href="#one-click" data-toggle="tab">One Click</a></li>
  <li><a href="#two-click" data-toggle="tab">Two Clicks</a></li>
</ul>
<div class="tab-content">
  <div class="tab-pane active" id="pre-authorization">
    <!-- step 1-->
    <p><br /></p>

    <h2 id="pre-authorization--capture">Pre-Authorization &amp; Capture</h2>

    <p>Pre-authorization berfungsi untuk mengecek apakah suatu kartu kredit mampu melakukan transaksi dengan nilai tertentu. Saat pre-authorization selesai dilakukan, anda dapat mengetahui status kartu kredit dan transaksi <strong>belum</strong> terjadi. Transaksi baru terjadi ketika operasi capture dilakukan. Capture hanya dapat dilakukan setelah proses pre-authorization berhasil.</p>

    <p>Secara default, operasi <a href="integration_cc.html#step2">charge transaksi</a> yang Veritrans lakukan adalah kombinasi pre-authorization &amp; capture. Jika anda ingin melakukan kedua hal ini secara terpisah, silahkan ikuti petunjuk berikut.
<br /><br /></p>

    <h3 id="pre-authorization-transaction">Pre-Authorization Transaction</h3>

    <p>Secara umum, proses pre-authorization mirip dengan <a href="integration_cc.html#step2">charge transaksi</a>. Perbedaannya ada pada parameter request token dan charge transaksi. Anda perlu menambahkan atribut <code>'type'</code> dengan nilai <code>'authorize'</code> pada kedua proses tersebut.</p>

    <p>Menggunakan contoh yang sama dengan <a href="integration.html">charge transaksi</a>, modifikasi script tambahan saat request token adalah sebagai berikut:
<br /><br /></p>

<pre><code class="highlight html"><span class="nt">&lt;script </span><span class="na">type=</span><span class="s">"text/javascript"</span><span class="nt">&gt;</span>

<span class="nx">$</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span>
  
  <span class="p">...</span>

  <span class="kd">var</span> <span class="nx">card</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(){</span>
    <span class="k">return</span> <span class="p">{</span>
      <span class="s1">'card_number'</span>   <span class="p">:</span> <span class="nx">$</span><span class="p">(</span><span class="s2">"#card-number"</span><span class="p">).</span><span class="nx">val</span><span class="p">(),</span>
      <span class="s1">'card_exp_month'</span>  <span class="p">:</span> <span class="nx">$</span><span class="p">(</span><span class="s2">"#card-expiry-month"</span><span class="p">).</span><span class="nx">val</span><span class="p">(),</span>
      <span class="s1">'card_exp_year'</span>   <span class="p">:</span> <span class="nx">$</span><span class="p">(</span><span class="s2">"#card-expiry-year"</span><span class="p">).</span><span class="nx">val</span><span class="p">(),</span>
      <span class="s1">'card_cvv'</span>      <span class="p">:</span> <span class="nx">$</span><span class="p">(</span><span class="s2">"#card-cvv"</span><span class="p">).</span><span class="nx">val</span><span class="p">(),</span>
      <span class="s1">'secure'</span>       <span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
      <span class="s1">'bank'</span>       <span class="p">:</span> <span class="s1">'bni'</span><span class="p">,</span>
      <span class="s1">'gross_amount'</span>   <span class="p">:</span> <span class="nx">$</span><span class="p">(</span><span class="s2">"#price"</span><span class="p">).</span><span class="nx">val</span><span class="p">(),</span> <span class="c1">// no decimal allowed for creditcard</span>

      <span class="c1">// Ask for pre-authorization token id</span>
      <span class="s1">'type'</span> <span class="p">:</span> <span class="s1">'authorize'</span><span class="p">,</span>
    <span class="p">}</span>
  <span class="p">};</span>

  <span class="p">...</span>

<span class="nt">&lt;/script&gt;</span>
</code></pre>

    <p><br />
Token yang diperoleh dapat anda simpan dan gunakan untuk melakukan pre-authorization saat charge transaksi. Modifikasi parameter pada saat charge transaksi adalah sebagai berikut:
<br /><br /></p>

<pre><code class="highlight php"><span class="cp">&lt;?php</span>
<span class="k">include_once</span><span class="p">(</span><span class="s1">'Veritrans.php'</span><span class="p">);</span>

<span class="o">...</span>

<span class="nv">$transaction_data</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span>
  <span class="s1">'payment_type'</span>      <span class="o">=&gt;</span> <span class="s1">'credit_card'</span><span class="p">,</span> 
  <span class="s1">'credit_card'</span>       <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">'token_id'</span>  <span class="o">=&gt;</span> <span class="nv">$token_id</span><span class="p">,</span>
    <span class="s1">'bank'</span>    <span class="o">=&gt;</span> <span class="s1">'bni'</span><span class="p">,</span>

    <span class="c1">// Authorize instead of normal charge operation
</span>    <span class="s1">'type'</span> <span class="o">=&gt;</span> <span class="s1">'authorize'</span>
    <span class="p">),</span>
  <span class="s1">'transaction_details'</span>   <span class="o">=&gt;</span> <span class="nv">$transaction_details</span><span class="p">,</span>
  <span class="s1">'customer_details'</span> <span class="o">=&gt;</span> <span class="nv">$customer_details</span>
  <span class="p">);</span>

<span class="nv">$result</span> <span class="o">=</span> <span class="nx">Veritrans_VtDirect</span><span class="o">::</span><span class="na">charge</span><span class="p">(</span><span class="nv">$transaction_data</span><span class="p">);</span>

<span class="cp">?&gt;</span>
</code></pre>

    <p><br />
Pada contoh di atas, pre-authorization response disimpan pada variable <code>$result</code>. Struktur dan contoh <em>state</em> <code>$result</code> ketika proses pre-authorization berhasil adalah sebagai berikut:
<br /><br /></p>

<pre><code class="highlight php">$result = array(
    "status_code" =&gt; "200",
    "status_message" =&gt; "Success, Credit Card transaction is successful",
    "transaction_id" =&gt; "b505b192-f202-41ad-b82a-18678d0571a9",
    "order_id" =&gt; "201404211437",
    "payment_type" =&gt; "credit_card",
    "transaction_time" =&gt; "2014-04-21 14:35:32",
    "transaction_status" =&gt; "authorize",
    "fraud_status" =&gt; "noscore",
    "masked_card" =&gt; "481111-1114",
    "bank" =&gt; "bni",
    "gross_amount" =&gt; "150000.00"
);
</code></pre>

    <p><br />
Atribut penting pada respon pre-authorization adalah <code>transaction_id</code>. Anda perlu menggunakan nilai atribut ini untuk melakukan capture transaksi.</p>

    <p><br /></p>

    <h3 id="capture-transaction">Capture Transaction</h3>

    <p>Untuk melakukan capture transaksi, anda cukup mempersiapkan atribut <code>transaction_id</code> dan <code>gross_amount</code>. Kedua nilai atribut berelasi dengan proses pre-authorization yang telah dilakukan sebelumnya. Nilai <code>gross_amount</code> tidak boleh melebihi nilai <code>gross_amount</code> saat pre-authorization. Jika atribut <code>gross_amount</code> tidak diberikan saat capture, nilai <code>gross_amoount</code> saat pre-authorization akan digunakan.</p>

    <p>Berikut adalah contoh kode PHP untuk melakukan capture transaksi:
<br /><br /></p>

<pre><code class="highlight php">
<span class="cp">&lt;?php</span>
<span class="k">include_once</span><span class="p">(</span><span class="s1">'Veritrans.php'</span><span class="p">);</span>

<span class="c1">// TODO: change with your actual server_key that can be found on Merchant Administration Portal (MAP)
</span><span class="nx">Veritrans_Config</span><span class="o">::</span><span class="nv">$serverKey</span> <span class="o">=</span> <span class="s2">"&lt; Your Server Key &gt;"</span><span class="p">;</span>
<span class="nx">Veritrans_Config</span><span class="o">::</span><span class="nv">$isProduction</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>

<span class="c1">// Use transaction_id from Pre-authorization process
</span><span class="nv">$transaction_id</span> <span class="o">=</span> <span class="s1">'b505b192-f202-41ad-b82a-18678d0571a9'</span><span class="p">;</span>
<span class="nv">$amount</span> <span class="o">=</span> <span class="mi">150000</span><span class="p">;</span>

<span class="nv">$result</span> <span class="o">=</span> <span class="nx">Veritrans_VtDirect</span><span class="o">::</span><span class="na">capture</span><span class="p">(</span><span class="nv">$transaction_id</span><span class="p">,</span> <span class="nv">$amount</span><span class="p">);</span>
<span class="cp">?&gt;</span>
</code></pre>

    <p><br />
Pada contoh di atas, capture response disimpan pada variable <code>$result</code>. Struktur dan contoh <em>state</em> <code>$result</code> ketika proses capture berhasil adalah sebagai berikut:
<br /><br /></p>

<pre><code class="highlight php">$result = array(
    "status_code" =&gt; "200",
    "status_message" =&gt; "Success, Credit Card capture transaction is successful",
    "transaction_id" =&gt; "b505b192-f202-41ad-b82a-18678d0571a9",
    "order_id" =&gt; "201404211437",
    "payment_type" =&gt; "credit_card",
    "transaction_time" =&gt; "2014-04-21 14:35:32",
    "transaction_status" =&gt; "capture",
    "fraud_status" =&gt; "noscore",
    "masked_card" =&gt; "481111-1114",
    "bank" =&gt; "bni",
    "approval_code" =&gt; "140540",
    "gross_amount" =&gt; "150000.00"
);
</code></pre>

  </div>
  <div class="tab-pane" id="installment">
    <!-- step 2-->
    <p><br /></p>

    <h2 id="cicilaninstallment">Cicilan/Installment</h2>

    <p>Untuk mengaktifkan fitur cicilan, merchant harus memiliki kesepakatan dengan acquiring bank terlebih dahulu. Merchant juga perlu menanyakan kepada sales representative Veritrans apakah MID untuk cicilan sudah siap. Fitur cicilan/installment dapat dilakukan menggunakan token biasa atau token 3DS. </p>

    <p>Implementasi fitur cicilan mirip dengan <a href="integration_cc.html#step2">charge transaksi</a>. Perbedaan ada pada parameter request token dan charge transaksi. Pada saat melakukan request token, anda perlu menambahkan atribut <code>installment</code> dan <code>installment_term</code>. Deskripsi atribut installment beserta nilai yang dapat digunakan pada environment Sandbox:
<br /><br /></p>

    <table>
      <tbody>
        <tr>
          <td>Atribut</td>
          <td>Tipe Data</td>
          <td>Required</td>
          <td>Keterangan</td>
        </tr>
        <tr>
          <td><code>installment</code></td>
          <td>Boolean</td>
          <td>Ya</td>
          <td>Status transaksi akan dibayar menggunakan fitur cicilan</td>
        </tr>
        <tr>
          <td><code>installment_term</code></td>
          <td>Integer</td>
          <td>Ya</td>
          <td>Masa cicilan. Saat ini, nilai yang valid adalah <code>6</code> atau <code>12</code>.</td>
        </tr>
      </tbody>
    </table>

    <p><br />
Menggunakan contoh yang sama dengan <a href="integration_cc.html#step2">charge transaksi</a>, modifikasi script tambahan saat request token adalah sebagai berikut:
<br /><br /></p>

<pre><code class="highlight html"><span class="nt">&lt;script </span><span class="na">type=</span><span class="s">"text/javascript"</span><span class="nt">&gt;</span>

<span class="nx">$</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span>
  
  <span class="p">...</span>

  <span class="kd">var</span> <span class="nx">card</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(){</span>
    <span class="k">return</span> <span class="p">{</span>
      <span class="s1">'card_number'</span>   <span class="p">:</span> <span class="nx">$</span><span class="p">(</span><span class="s2">"#card-number"</span><span class="p">).</span><span class="nx">val</span><span class="p">(),</span>
      <span class="s1">'card_exp_month'</span>  <span class="p">:</span> <span class="nx">$</span><span class="p">(</span><span class="s2">"#card-expiry-month"</span><span class="p">).</span><span class="nx">val</span><span class="p">(),</span>
      <span class="s1">'card_exp_year'</span>   <span class="p">:</span> <span class="nx">$</span><span class="p">(</span><span class="s2">"#card-expiry-year"</span><span class="p">).</span><span class="nx">val</span><span class="p">(),</span>
      <span class="s1">'card_cvv'</span>      <span class="p">:</span> <span class="nx">$</span><span class="p">(</span><span class="s2">"#card-cvv"</span><span class="p">).</span><span class="nx">val</span><span class="p">(),</span>
      <span class="s1">'secure'</span>       <span class="p">:</span> <span class="kc">true</span><span class="p">,</span>

      <span class="c1">// Ask for 12 months installment token_id</span>
      <span class="s1">'installment'</span> <span class="p">:</span> <span class="kc">true</span><span class="p">,</span> 
      <span class="s1">'installment_term'</span> <span class="p">:</span> <span class="mi">12</span><span class="p">,</span>
      
      <span class="s1">'bank'</span>       <span class="p">:</span> <span class="s1">'bni'</span><span class="p">,</span>
      <span class="s1">'gross_amount'</span>   <span class="p">:</span> <span class="nx">$</span><span class="p">(</span><span class="s2">"#price"</span><span class="p">).</span><span class="nx">val</span><span class="p">(),</span> <span class="c1">// no decimal allowed for creditcard</span>
    <span class="p">}</span>
  <span class="p">};</span>

  <span class="p">...</span>

<span class="nt">&lt;/script&gt;</span>
</code></pre>

    <p><br />
Token yang diperoleh dapat anda simpan dan gunakan untuk melakukan charge transaksi. Atribut yang harus ditambahkan untuk melakukan installment adalah <code>installment_term</code>. Modifikasi parameter pada saat charge transaksi adalah sebagai berikut:
<br /><br /></p>

<pre><code class="highlight php"><span class="cp">&lt;?php</span>
<span class="k">include_once</span><span class="p">(</span><span class="s1">'Veritrans.php'</span><span class="p">);</span>

<span class="o">...</span>

<span class="nv">$transaction_data</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span>
  <span class="s1">'payment_type'</span>      <span class="o">=&gt;</span> <span class="s1">'credit_card'</span><span class="p">,</span> 
  <span class="s1">'credit_card'</span>       <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">'token_id'</span>  <span class="o">=&gt;</span> <span class="nv">$token_id</span><span class="p">,</span>
    <span class="s1">'bank'</span>    <span class="o">=&gt;</span> <span class="s1">'bni'</span><span class="p">,</span>
    <span class="s1">'installment_term'</span> <span class="o">=&gt;</span> <span class="mi">12</span>
    <span class="p">),</span>
  <span class="s1">'transaction_details'</span>   <span class="o">=&gt;</span> <span class="nv">$transaction_details</span><span class="p">,</span>
  <span class="s1">'customer_details'</span> <span class="o">=&gt;</span> <span class="nv">$customer_details</span><span class="p">,</span>
  <span class="p">);</span>

<span class="nv">$result</span> <span class="o">=</span> <span class="nx">Veritrans_VtDirect</span><span class="o">::</span><span class="na">charge</span><span class="p">(</span><span class="nv">$transaction_data</span><span class="p">);</span>

<span class="o">...</span>

<span class="cp">?&gt;</span>
</code></pre>

    <p><br />
Pada contoh di atas, installment response disimpan pada variable <code>$result</code>. Struktur dan contoh <em>state</em> <code>$result</code> ketika proses installment berhasil adalah sebagai berikut:
<br /><br /></p>

<pre><code class="highlight php">$result = array(
    "status_code" =&gt; "200",
    "status_message" =&gt; "Success, Credit Card Installment transaction is successful",
    "transaction_id" =&gt; "2a913000-4ed6-4c91-aff1-94e5ffb1b737",
    "order_id" =&gt; "201404231811",
    "payment_type" =&gt; "credit_card",
    "transaction_time" =&gt; "2014-04-23 18:11:44",
    "transaction_status" =&gt; "capture",
    "masked_card" =&gt; "481111-1114",
    "bank" =&gt; "bni",
    "approval_code" =&gt; "140540",
    "gross_amount" =&gt; "10000.00"
    );

</code></pre>

  </div>
  <div class="tab-pane" id="bin-promo">
    <!-- step 3-->
    <p><br /></p>

    <h2 id="bin-promo">BIN Promo</h2>

    <p>BIN (Bank Identification Number) promo adalah fitur yang memungkinkan anda untuk menawarkan promosi berdasarkan bank penerbit kartu kredit tertentu yang dimiliki pelanggan anda. Bank penerbit kartu kredit dapat ditentukan dengan menggunakan BIN, BIN merupakan <strong>6 digit</strong> pertama dari kartu kredit. Sebagai alternatif, anda bisa menggunakan <strong>1-8</strong> digit pertama kartu kredit yang akan digunakan pada fitur BIN Promo.</p>

    <p>Untuk menggunakan fitur ini, anda terlebih dahulu mengumpulkan daftar BIN yang menerima promo. Daftar BIN tersebut menjadi parameter transaksi <code>bins</code>, transaksi hanya dapat dilakukan oleh kartu kredit yang termasuk dalam daftar BIN.  Gunakan daftar BIN yang anda miliki sebagai nilai dari atribut <code>bins</code> saat charge transaksi.</p>

    <p>Menggunakan transaksi yang sama dengan bagian <a href="integration_cc.html#step2">Integrasi</a>, contoh kode PHP yang dapat digunakan adalah sebagai berikut:
<br /><br /></p>

<pre><code class="highlight php"><span class="cp">&lt;?php</span>
<span class="k">include_once</span><span class="p">(</span><span class="s1">'Veritrans.php'</span><span class="p">);</span>

<span class="o">...</span>

<span class="nv">$transaction_data</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span>
  <span class="s1">'payment_type'</span>      <span class="o">=&gt;</span> <span class="s1">'credit_card'</span><span class="p">,</span> 
  <span class="s1">'credit_card'</span>       <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">'token_id'</span>  <span class="o">=&gt;</span> <span class="nv">$token_id</span><span class="p">,</span>
    <span class="s1">'bank'</span>    <span class="o">=&gt;</span> <span class="s1">'bni'</span><span class="p">,</span>
    <span class="s1">'bins'</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span><span class="s2">"48111111"</span><span class="p">,</span> <span class="s2">"3111"</span><span class="p">,</span> <span class="s2">"5"</span><span class="p">)</span>
    <span class="p">),</span>
  <span class="s1">'transaction_details'</span>   <span class="o">=&gt;</span> <span class="nv">$transaction_details</span><span class="p">,</span>
  <span class="s1">'customer_details'</span> <span class="o">=&gt;</span> <span class="nv">$customer_details</span><span class="p">,</span>
  <span class="p">);</span>
<span class="k">try</span><span class="p">{</span>
  <span class="nv">$result</span> <span class="o">=</span> <span class="nx">Veritrans_VtDirect</span><span class="o">::</span><span class="na">charge</span><span class="p">(</span><span class="nv">$transaction_data</span><span class="p">);</span>
<span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="nx">Exception</span> <span class="nv">$e</span><span class="p">){</span>
  <span class="k">echo</span> <span class="nv">$e</span><span class="o">-&gt;</span><span class="na">getMessage</span><span class="p">();</span>
<span class="p">}</span>

<span class="o">...</span>

<span class="cp">?&gt;</span>
</code></pre>

    <p><br />
Pada contoh di atas, BIN yang didaftarkan adalah <code>48111111</code>, <code>3111</code>, dan <code>5</code>. Jika kartu kredit dengan BIN "411111" coba digunakan, charge transaksi akan gagal dan terjadi <em>exception</em>.</p>

  </div>
  <div class="tab-pane" id="one-click">
    <!-- step 4-->
    <p><br /></p>

    <h2 id="one-click">One Click</h2>

    <p>Fitur one click memungkinkan anda untuk menggunakan satu token pada beberapa transaksi. Token mewakili informasi nomor, expiry date, CVV, dan autentikasi 3D Secure pelanggan anda. Hal ini akan mempermudah pelanggan anda dalam melakukan transaksi karena informasi kartu kredit hanya perlu diisi sekali saja.</p>

    <p>Perlu diperhatikan bahwa token baru aktif setelah transaksi pertama berhasil dilakukan. Untuk menggunakan one click, fitur 3D Secure harus digunakan.</p>

    <p>Secara umum, ada dua tahapan dalam menggunakan fitur one click:</p>

    <ol>
      <li>Transaksi Pertama
        <ul>
          <li>Pelanggan anda memasukkan nomor, CVV, expiry date kartu kredit dan autentikasi 3D Secure</li>
          <li>Anda menerima token</li>
          <li>Anda menggunakan token untuk charge transaksi</li>
          <li>Jika transaksi berhasil, Anda menyimpan token pelanggan di database. Kita namakan token ini sebagai <code>saved_token</code></li>
        </ul>
      </li>
      <li>Transaksi Selanjutnya
        <ul>
          <li>Anda mengambil <code>saved_token</code> pelanggan tersebut dari database</li>
          <li>Anda menggunakan <code>saved_token</code> baru untuk charge transaksi</li>
        </ul>
      </li>
    </ol>

    <p><br /></p>

    <h3 id="transaksi-pertama">Transaksi Pertama</h3>

    <p>Untuk mengimplementasikan one click, anda hanya perlu menambahkan atribut <code>save_token_id</code> pada saat charge transaksi pertama dilakukan. Menggunakan contoh yang sama dengan <a href="integration_cc.html#step2">charge transaksi</a>, modifikasi script PHP saat charge transaksi dilakukan adalah sebagai berikut:
<br /><br /></p>

<pre><code class="highlight php"><span class="cp">&lt;?php</span>
<span class="k">include_once</span><span class="p">(</span><span class="s1">'Veritrans.php'</span><span class="p">);</span>

<span class="o">...</span>

<span class="nv">$transaction_data</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span>
  <span class="s1">'payment_type'</span>      <span class="o">=&gt;</span> <span class="s1">'credit_card'</span><span class="p">,</span> 
  <span class="s1">'credit_card'</span>       <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">'token_id'</span>  <span class="o">=&gt;</span> <span class="nv">$token_id</span><span class="p">,</span>
    <span class="s1">'bank'</span>    <span class="o">=&gt;</span> <span class="s1">'bni'</span><span class="p">,</span>
    <span class="s1">'save_token_id'</span> <span class="o">=&gt;</span> <span class="kc">true</span>
    <span class="p">),</span>
  <span class="s1">'transaction_details'</span>   <span class="o">=&gt;</span> <span class="nv">$transaction_details</span><span class="p">,</span>
  <span class="s1">'customer_details'</span> <span class="o">=&gt;</span> <span class="nv">$customer_details</span><span class="p">,</span>
  <span class="p">);</span>

<span class="nv">$result</span> <span class="o">=</span> <span class="nx">Veritrans_VtDirect</span><span class="o">::</span><span class="na">charge</span><span class="p">(</span><span class="nv">$transaction_data</span><span class="p">);</span>

<span class="o">...</span>

<span class="cp">?&gt;</span>
</code></pre>

    <p><br />
Pada contoh di atas, one click response disimpan pada variable <code>$result</code>. Struktur dan contoh <em>state</em> <code>$result</code> ketika proses one click berhasil adalah sebagai berikut:
<br /><br /></p>

<pre><code class="highlight php">array(
  "transaction_id" =&gt; "ca5e0ff5-4297-48ef-aa25-b3ab018d4ead",
  "order_id" =&gt; "order52",
  "gross_amount" =&gt; "200000.00",
  "payment_type" =&gt; "credit_card",
  "transaction_time" =&gt; "2014-03-27 17:20:53",
  "transaction_status" =&gt; "capture",
  "fraud_status" =&gt; "accept",
  "masked_card" =&gt; "481111-1114",
  "saved_token_id" =&gt; "4011117d16c884-2cc7-4624-b0a8-10273b7f6cc8",
  "saved_token_id_expired_at" =&gt; "2024-03-27 17:20:53",
  "status_code" =&gt; "200",
  "bank" =&gt; "bni",
  "approval_code" =&gt; "140540",
  "status_message" =&gt; "Success, Credit Card 3D Secure transaction is successful"
);
</code></pre>

    <p><br />
Dua atribut penting pada one click response yang sukses adalah <code>saved_token_id</code> dan <code>saved_token_id_expired</code>. Atribut <code>saved_token_id</code> adalah token yang dapat anda simpan jika pelanggan anda melakukan transaksi lagi. Atribut ini kita sebut sebagai <code>saved_token</code> pada penjelasan tahapan one click sebelumnya. Nilai dari <code>saved_token</code> dapat terus digunakan hingga <code>saved_token_id_expired</code>.</p>

    <p><br /></p>

    <h3 id="transaksi-selanjutnya">Transaksi Selanjutnya</h3>

    <p>Pada transaksi selanjutnya, pelanggan anda tidak perlu mengisi informasi kartu kredit lagi dan proses charge transaksi dapat langsung dilakukan menggunakan <code>saved token</code>.</p>

    <p>Berikut adalah contoh charge transaksi selanjutnya menggunakan <code>saved_token_id</code>.
<br /><br /></p>

<pre><code class="highlight php"><span class="cp">&lt;?php</span>
<span class="k">include_once</span><span class="p">(</span><span class="s1">'Veritrans.php'</span><span class="p">);</span>

<span class="o">...</span>

<span class="c1">//Retrieve saved token id for this customer from database
</span><span class="nv">$saved_token_id</span> <span class="o">=</span> <span class="s2">"&lt;saved token id&gt;"</span><span class="p">;</span>

<span class="nv">$transaction_data</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span>
  <span class="s1">'payment_type'</span>      <span class="o">=&gt;</span> <span class="s1">'credit_card'</span><span class="p">,</span> 
  <span class="s1">'credit_card'</span>       <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">'token_id'</span>  <span class="o">=&gt;</span> <span class="nv">$saved_token_id</span><span class="p">,</span>
    <span class="s1">'bank'</span>    <span class="o">=&gt;</span> <span class="s1">'bni'</span><span class="p">,</span>
    <span class="p">),</span>
  <span class="s1">'transaction_details'</span>   <span class="o">=&gt;</span> <span class="nv">$transaction_details</span><span class="p">,</span>
  <span class="s1">'customer_details'</span> <span class="o">=&gt;</span> <span class="nv">$customer_details</span><span class="p">,</span>
  <span class="p">);</span>

<span class="nv">$result</span> <span class="o">=</span> <span class="nx">Veritrans_VtDirect</span><span class="o">::</span><span class="na">charge</span><span class="p">(</span><span class="nv">$transaction_data</span><span class="p">);</span>

<span class="o">...</span>

<span class="cp">?&gt;</span>
</code></pre>

    <p><br />
Struktur dan contoh state <code>$result</code> sama dengan dengan proses <a href="integration_cc.html#step2">charge transaksi</a> biasa.
<br /><br /></p>

<pre><code class="highlight php">array(
    "transaction_id" =&gt; "05dfbd23-b767-4748-8fe9-7e30769e1857",
    "order_id" =&gt; "order53",
    "gross_amount" =&gt; "200000.00",
    "payment_type" =&gt; "credit_card",
    "transaction_time" =&gt; "2014-03-27 17:25:12",
    "transaction_status" =&gt; "capture",
    "status_code" =&gt; "200",
    "bank" =&gt; "bni",
    "approval_code" =&gt; "140540",
    "status_message" =&gt; "Success, Credit Card transaction is successful"
);
</code></pre>

  </div>
  <div class="tab-pane" id="two-click">
    <p><br /></p>

    <h2 id="two-clicks">Two Clicks</h2>

    <p>Mirip dengan fitur one click, two clicks memungkinkan pelanggan anda untuk melakukan beberapa transaksi lebih mudah dan cepat. Setelah transaksi pertama berhasil, anda dapat menyimpan token untuk transaksi berikutnya. </p>

    <p>Token pada two clicks mewakili nomor dan expiry date kartu kredit pelanggan anda. Pelanggan anda cukup mengisi CVV dan autentikasi 3D Secure pada saat transaksi kedua dan selanjutnya dilakukan. Berbeda dengan one click, fitur two clicks <strong>dapat</strong> digunakan pada transaksi kartu kredit biasa maupun 3D Secure.</p>

    <p>Secara umum, ada dua tahapan dalam menggunakan fitur two clicks:</p>

    <ol>
      <li>Transaksi Pertama
        <ul>
          <li>Pelanggan memasukkan nomor, CVV, dan expiry date kartu kredit</li>
          <li>Autentikasi 3D Secure jika digunakan</li>
          <li>Anda menerima token</li>
          <li>Anda menggunakan token untuk charge transaksi</li>
          <li>Jika transaksi berhasil, Anda menyimpan token pelanggan di database. Kita namakan token ini sebagai <code>saved_token</code></li>
        </ul>
      </li>
      <li>Transaksi Selanjutnya
        <ul>
          <li>Anda mengambil <code>saved_token</code> pelanggan tersebut dari database</li>
          <li>Pelanggan memasukkan CVV kartu kredit</li>
          <li>Autentikasi 3D Secure jika digunakan</li>
          <li>Anda menggunakan <code>saved_token</code> dan CVV untuk memperoleh token baru</li>
          <li>Anda menggunakan token baru untuk charge transaksi </li>
        </ul>
      </li>
    </ol>

    <p><br /></p>

    <h3 id="transaksi-pertama-1">Transaksi Pertama</h3>

    <p>Implementasi transaksi pertama mirip dengan <a href="integration_cc.html#step2">charge transaksi</a> biasa. Anda cukup menambahkan atribut <code>saved_token_id</code> saat charge transaksi. Jika transaksi berhasil, token dapat disimpan untuk transaksi pelanggan tersebut selanjutnya.
<br /><br /></p>

<pre><code class="highlight php"><span class="cp">&lt;?php</span>
<span class="k">include_once</span><span class="p">(</span><span class="s1">'Veritrans.php'</span><span class="p">);</span>

<span class="o">...</span>

<span class="nv">$transaction_data</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span>
  <span class="s1">'payment_type'</span>      <span class="o">=&gt;</span> <span class="s1">'credit_card'</span><span class="p">,</span> 
  <span class="s1">'credit_card'</span>       <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">'token_id'</span>  <span class="o">=&gt;</span> <span class="nv">$token_id</span><span class="p">,</span>
    <span class="s1">'bank'</span>    <span class="o">=&gt;</span> <span class="s1">'bni'</span><span class="p">,</span>
    <span class="s1">'save_token_id'</span> <span class="o">=&gt;</span> <span class="kc">true</span>
    <span class="p">),</span>
  <span class="s1">'transaction_details'</span>   <span class="o">=&gt;</span> <span class="nv">$transaction_details</span><span class="p">,</span>
  <span class="s1">'customer_details'</span> <span class="o">=&gt;</span> <span class="nv">$customer_details</span><span class="p">,</span>
  <span class="p">);</span>

<span class="nv">$result</span> <span class="o">=</span> <span class="nx">Veritrans_VtDirect</span><span class="o">::</span><span class="na">charge</span><span class="p">(</span><span class="nv">$transaction_data</span><span class="p">);</span>
<span class="nv">$status</span> <span class="o">=</span> <span class="nv">$result</span><span class="o">-&gt;</span><span class="na">transaction_status</span><span class="p">;</span>

<span class="k">if</span><span class="p">(</span><span class="nv">$status</span> <span class="o">==</span> <span class="s1">'capture'</span><span class="p">){</span>
  <span class="c1">// save 'token_id' for this customer in database
</span><span class="p">}</span>
<span class="o">...</span>

<span class="cp">?&gt;</span>
</code></pre>

    <p><br />
Pada contoh di atas, two clicks response disimpan pada <em>variable</em> <code>$result</code>. Struktur dan contoh <em>state</em> <code>$result</code> ketika proses two clicks berhasil adalah sebagai berikut:
<br /><br /></p>

<pre><code class="highlight php">array(
  "transaction_id" =&gt; "ca5e0ff5-4297-48ef-aa25-b3ab018d4ead",
  "order_id" =&gt; "order52",
  "gross_amount" =&gt; "200000.00",
  "payment_type" =&gt; "credit_card",
  "transaction_time" =&gt; "2014-03-27 17:20:53",
  "transaction_status" =&gt; "capture",
  "fraud_status" =&gt; "accept",
  "masked_card" =&gt; "481111-1114",
  "saved_token_id" =&gt; "4011117d16c884-2cc7-4624-b0a8-10273b7f6cc8",
  "saved_token_id_expired_at" =&gt; "2024-03-27 17:20:53",
  "status_code" =&gt; "200",
  "bank" =&gt; "bni",
  "approval_code" =&gt; "140540",
  "status_message" =&gt; "Success, Credit Card 3D Secure transaction is successful"
);
</code></pre>

    <p><br />
Dua atribut penting pada two clicks response yang sukses adalah <code>saved_token_id</code> dan <code>saved_token_id_expired</code>. Atribut <code>saved_token_id</code> adalah yang kita sebut sebagai <code>saved_token</code> pada bagian tahapan two clicks. Nilai <code>saved_token</code> ini dapat terus digunakan hingga <code>saved_token_id_expired</code>.</p>

    <p><br /></p>

    <h3 id="transaksi-selanjutnya-1">Transaksi Selanjutnya</h3>

    <p>Pada transaksi selanjutnya, kita menggunakan <code>saved_token</code> dan CVV yang dimasukkan oleh pelanggan untuk mendapatkan token baru. Atribut <code>two_click</code> juga perlu ditambahkan saat request token baru dilakukan. Token baru kemudian anda gunakan untuk melakukan charge transaksi berikutnya. Nilai token baru otomatis akan dimasukkan ke dalam <code>&lt;input id="token-id" name="token-id" type="hidden" /&gt;</code> oleh <code>veritrans.min.js</code>.</p>

    <p>Perlu diperhatikan bahwa anda <strong>tidak</strong> menggunakan <code>saved_token</code> untuk melakukan charge transaksi. Anda menggunakan <code>saved_token</code> sebagai salah satu syarat untuk memperoleh token baru. Anda <strong>tidak</strong> menyimpan token baru dari pelanggan tersebut ke database.</p>

    <p>Field nomor dan expiry date pada form dapat dihilangkan karena pelanggan anda cukup mengisi CVV dan melakukan autentikasi 3D Secure saja. Menggunakan kasus yang sama dengan <a href="integration_cc.html#step2">charge transaksi</a>, Berikut adalah contoh request token baru menggunakan atribut <code>saved_token</code> dan CVV yang dimasukkan pelanggan:
<br /><br /></p>

<pre><code class="highlight html"><span class="nt">&lt;script </span><span class="na">type=</span><span class="s">"text/javascript"</span><span class="nt">&gt;</span>

<span class="nx">$</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span>
  
  <span class="p">...</span>

  <span class="kd">var</span> <span class="nx">card</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(){</span>
    <span class="k">return</span> <span class="p">{</span>
      <span class="s1">'card_cvv'</span> <span class="p">:</span> <span class="nx">$</span><span class="p">(</span><span class="s2">"#card-cvv"</span><span class="p">).</span><span class="nx">val</span><span class="p">(),</span>
      <span class="s1">'token_id'</span> <span class="p">:</span> <span class="s1">'&lt;retrieve this customer saved_token from your database&gt;'</span><span class="p">,</span>


      <span class="s1">'two_click'</span> <span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
      <span class="s1">'secure'</span> <span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
      <span class="s1">'bank'</span> <span class="p">:</span> <span class="s1">'bni'</span><span class="p">,</span>
      <span class="s1">'gross_amount'</span> <span class="p">:</span> <span class="nx">$</span><span class="p">(</span><span class="s2">"#price"</span><span class="p">).</span><span class="nx">val</span><span class="p">(),</span> <span class="c1">// no decimal allowed for creditcard</span>
    <span class="p">}</span>
  <span class="p">};</span>

  <span class="p">...</span>

<span class="nt">&lt;/script&gt;</span>
</code></pre>

    <p><br />
Tahap charge transaksi kedua dan selanjutnya pada two clicks sama dengan proses <a href="integration_cc.html#step2">charge transaksi</a> biasa. Anda cukup menggunakan token baru sebagai token_id.
<br /><br /></p>

<pre><code class="highlight php"><span class="cp">&lt;?php</span>
<span class="k">include_once</span><span class="p">(</span><span class="s1">'Veritrans.php'</span><span class="p">);</span>

<span class="o">...</span>

<span class="nv">$token_id</span> <span class="o">=</span> <span class="nv">$_POST</span><span class="p">[</span><span class="s1">'token-id'</span><span class="p">];</span>

<span class="nv">$transaction_data</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span>
  <span class="s1">'payment_type'</span>      <span class="o">=&gt;</span> <span class="s1">'credit_card'</span><span class="p">,</span> 
  <span class="s1">'credit_card'</span>       <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">'token_id'</span>  <span class="o">=&gt;</span> <span class="nv">$token_id</span><span class="p">,</span>
    <span class="s1">'bank'</span>    <span class="o">=&gt;</span> <span class="s1">'bni'</span><span class="p">,</span>
    <span class="p">),</span>
  <span class="s1">'transaction_details'</span>   <span class="o">=&gt;</span> <span class="nv">$transaction_details</span><span class="p">,</span>
  <span class="s1">'customer_details'</span> <span class="o">=&gt;</span> <span class="nv">$customer_details</span><span class="p">,</span>
  <span class="p">);</span>

<span class="nv">$result</span> <span class="o">=</span> <span class="nx">Veritrans_VtDirect</span><span class="o">::</span><span class="na">charge</span><span class="p">(</span><span class="nv">$transaction_data</span><span class="p">);</span>

<span class="o">...</span>

<span class="cp">?&gt;</span>
</code></pre>

    <p><br />
Struktur dan contoh <em>state</em> <code>$result</code> sama dengan dengan proses <a href="integration_cc.html#step2">charge transaksi</a> biasa.
<br /><br /></p>

<pre><code class="highlight php">array(
    "transaction_id" =&gt; "05dfbd23-b767-4748-8fe9-7e30769e1857",
    "order_id" =&gt; "order53",
    "gross_amount" =&gt; "200000.00",
    "payment_type" =&gt; "credit_card",
    "transaction_time" =&gt; "2014-03-27 17:25:12",
    "transaction_status" =&gt; "capture",
    "status_code" =&gt; "200",
    "bank" =&gt; "bni",
    "approval_code" =&gt; "140540",
    "status_message" =&gt; "Success, Credit Card transaction is successful"
);
</code></pre>

  </div>
</div>


			<div class="pagination">
				<ul><li class="left">« Sebelumnya: <a href="integration.html">VT-Direct : Integrasi</a></li><li class="right">Selanjutnya: <a href="other_commands.html">VT-Direct : Perintah Lain</a> »</li></ul>
			</div>
          </div>
        </div><!--/span-->
      </div><!--/row-->

    </div><!--/.container-->

    <script src="../../javascripts/jquery-1.10.2.min.js" type="text/javascript"></script>
<script src="../../javascripts/bootstrap.min.js" type="text/javascript"></script>
<script src="../../javascripts/dropdown.js" type="text/javascript"></script>
<script src="../../javascripts/tab_custom.js" type="text/javascript"></script>
    <div class="custom-container footer">
  <div class="wrapper">
    <div class="row">
      <div class="col-md-12 copyright">
        <div class="content text-center">
          <span>&copy;2014 PT. Midtrans (Veritrans Indonesia). All Rights Reserved</span>
          <span class="divider">|</span>
          <a href="https://www.veritrans.co.id/privacy.html" title="Privacy Policy">Privacy Policy</a>
        </div>
      </div>
    </div>
  </div>
</div>
    
    </script>
    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-32232768-1', 'veritrans.co.id');
      ga('send', 'pageview');

    </script>
    <script>
    $(document).ready(function() {
      $('[data-toggle=offcanvas]').click(function() {
        $('.row-offcanvas').toggleClass('active');
      });
      $(function () {
        $('[data-toggle="tooltip"]').tooltip();
      });
    });
    </script>
  </body>
</html>
