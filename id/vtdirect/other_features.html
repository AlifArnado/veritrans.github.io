<!DOCTYPE html>
<html lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <!-- Bing Validate -->
    <meta name="msvalidate.01" content="846642D2B12ABB4747D70776D2056651"/>
    <!-- Google Webmaster Validate -->
    <meta name="google-site-verification" content="uUeOdHBzl0nbyvdyeRHKGIHPxnIpJDTTnWv-QfgkxRs" />
    <!-- FB OG -->
    <meta property="og:title" content="Docs || Online Payment Gateway for Indonesia eCommerce"/>
    <meta property="og:site_name" content="Veritrans"/>
    <meta property="og:description" content="Payment Gateway Solution for eCommerce merchants in Indonesia to send and receive online payment with credit/debit card, internet and mobile banking"/>
    <meta property="fb:app_id" content="404252079606310"/>
    <meta property="og:image" content="http://veritrans.co.id/images/veritrans-og.png"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Veritrans API Documentation. Payment Gateway Indonesia, transaksi online lebih aman, mudah, cepat! Veritrans memberi solusi sistem payment gateway terbaik untuk e-commerce di Indonesia.">
    <meta name="keywords" content="Veritrans, Veritrans Indonesia, payment gateway indonesia, Pembayaran Online Indonesia, online payment Indonesia, sistem transaksi online"> 
    <meta name="google-site-verification" content="uUeOdHBzl0nbyvdyeRHKGIHPxnIpJDTTnWv-QfgkxRs" />
    <meta name="msvalidate.01" content="846642D2B12ABB4747D70776D2056651">
    
    <link href="../../stylesheets/style.css" media="screen" rel="stylesheet" type="text/css" />
    
    <title>Veritrans - API Documentation</title>
		<link rel="icon" type="image/x-icon" href="/favicon/veritrans.ico" />
    <script src="../../javascripts/jquery-1.10.2.min.js" type="text/javascript"></script>

    <!-- start Mixpanel -->
    <script type="text/javascript">(function(f,b){if(!b.__SV){var a,e,i,g;window.mixpanel=b;b._i=[];b.init=function(a,e,d){function f(b,h){var a=h.split(".");2==a.length&&(b=b[a[0]],h=a[1]);b[h]=function(){b.push([h].concat(Array.prototype.slice.call(arguments,0)))}}var c=b;"undefined"!==typeof d?c=b[d]=[]:d="mixpanel";c.people=c.people||[];c.toString=function(b){var a="mixpanel";"mixpanel"!==d&&(a+="."+d);b||(a+=" (stub)");return a};c.people.toString=function(){return c.toString(1)+".people (stub)"};i="disable track track_pageview track_links track_forms register register_once alias unregister identify name_tag set_config people.set people.set_once people.increment people.append people.union people.track_charge people.clear_charges people.delete_user".split(" ");
        for(g=0;g<i.length;g++)f(c,i[g]);b._i.push([a,e,d])};b.__SV=1.2;a=f.createElement("script");a.type="text/javascript";a.async=!0;a.src="undefined"!==typeof MIXPANEL_CUSTOM_LIB_URL?MIXPANEL_CUSTOM_LIB_URL:"//cdn.mxpnl.com/libs/mixpanel-2-latest.min.js";e=f.getElementsByTagName("script")[0];e.parentNode.insertBefore(a,e)}})(document,window.mixpanel||[]);
        mixpanel.init("f93e9c92cf8729b32c4491fb6794689b");
    </script>
    <!-- end mixpanel -->

    <!-- Optimizely -->
    <script src="//cdn.optimizely.com/js/2982491356.js"></script>
    <!-- end Optimizely -->
    
    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
      <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
    <![endif]-->
  </head>

  <body>
    <nav class="navbar navbar-fixed-top with-shadow">
  <div class="container">
    <!-- Brand and toggle get grouped for better mobile display -->
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#main-navbar">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand logo" href="https://veritrans.co.id"></a>
    </div>

    <!-- Collect the nav links, forms, and other content for toggling -->
    <div class="collapse navbar-collapse" id="main-navbar">
      <ul class="nav navbar-nav">
        <li><a class="uppercase" href="https://www.veritrans.co.id/payment_channels.html">Payments</a></li>
        <li><a class="uppercase" href="https://www.veritrans.co.id/product_pricing.html">Product & Pricing</a></li>
        <li><a class="uppercase" href="https://www.veritrans.co.id/promo.html">Promo</a></li>
      </ul>

      <ul class="nav navbar-nav navbar-right">
        <li class="active">
          <a href="http://docs.veritrans.co.id">Docs</a>
        </li>
        <li>
          <a href="https://www.veritrans.co.id/contact.html">Contact</a>
        </li>
        <li>
          <a href="https://blog.veritrans.co.id">Blog</a>
        </li>
        <li>
          <a href="https://veritrans.co.id/career.html">Career</a>
        </li>
        <li>
          <a id="logInHeader" class="uppercase text-bold" href="#" data-toggle="modal" data-target="#login-modal">
            Log In
          </a>
        </li>
        <li>
          <div>
            <a id="signUpHeader" href="https://my.sandbox.veritrans.co.id/register" class="btn btn-yellow">
               Sign Up
            </a>
            <!-- B -->
            <!-- <a id="signUpHeader" href="https://my.sandbox.veritrans.co.id/register" class="btn btn-yellow">
               Sign Up
            </a> -->
          </div>
        </li>
      </ul>
    </div><!-- /.navbar-collapse -->
  </div><!-- /.container-fluid -->
</nav>
<div class="nav-overlay visible-sm visible-xs"></div>
<!-- LOGIN MODAL -->
<div id="login-modal" class="modal fade">
  <div class="modal-dialog modal-lg">
    <div class="modal-content">
      <div class="modal-body">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        <div class="row">
          <div class="col-sm-6 col-xs-12">
            <div class="production-box">
              <!-- <img src="images/banner-about.png"> -->
              <h5>PRODUCTION</h5>
              <p class="text-left">Jika Anda sudah terintegrasi dengan Veritrans. Log In untuk masuk ke Merchant Administration Portal Anda.</p>
              <a class="btn btn-trans-blue btn-med" href="https://my.veritrans.co.id">LOG IN<span class="arr-out">→</span></a>
            </div>
          </div>
          <div class="col-sm-6 col-xs-12">
            <div class="sandbox-box">
              <!-- <img src="images/banner-sandbox.png"> -->
              <h5>SANDBOX</h5>
              <p>Environment testing Veritrans untuk keperluan development dan uji coba Merchant Administration Portal. <a href="https://my.sandbox.veritrans.co.id" class="text-blue">Log In<span class="arr-out">→</span></a></p>
            </div>
          </div>
        </div>
        <br/><br/>
        <div class="row">
          <div class="col-xs-12 text-left">
            <div class="register-box">
              Belum terdaftar? <a id="signUpModal" href="https://my.sandbox.veritrans.co.id/register" class="text-blue signup-modal">Sign Up<span class="arr-out">→</span></a>
            </div>
          </div>
        </div>  
      </div>
    </div>
  </div>
</div>

    <div class="custom-container container">
      <div class="row row-offcanvas row-offcanvas-right">
        <div class="col-xs-6 col-sm-4 col-md-3 sidebar-offcanvas" id="sidebar" role="navigation">
  <div class="documentation-sidebar affix">
    <div class="docs-logo">
      <span>DOCS</span>
    </div>
    <div class="language-toggle"> <a href="../../en/vtdirect/other_features.html">English</a> / Bahasa Indonesia</div>
    <ul class="sidebar">
      
        <li>
          
            <a class="parent">Langkah Awal</a>
            <b class="caret"></b>
            <ul class="child-menu">
              
                <li class=""><a href="../welcome/index.html">Perkenalan</a></li>
              
                <li class=""><a href="../welcome/preparation.html">Persiapan Awal</a></li>
              
                <li class=""><a href="../welcome/pluginlibrary.html">Library & Plugin</a></li>
              
            </ul>
          
        </li>
      
        <li>
          
            <a class="parent">VT-Web</a>
            <b class="caret"></b>
            <ul class="child-menu">
              
                <li class=""><a href="../vtweb/integration.html">Integrasi</a></li>
              
                <li class=""><a href="../vtweb/other_features.html">Fitur Tambahan</a></li>
              
                <li class=""><a href="../vtweb/going_live.html">Going Live</a></li>
              
            </ul>
          
        </li>
      
        <li>
          
            <a class="parent">VT-Direct</a>
            <b class="caret"></b>
            <ul class="child-menu">
              
                <li class=""><a href="integration.html">Integrasi</a></li>
              
                <li class="active"><a href="other_features.html">Fitur Tambahan</a></li>
              
                <li class=""><a href="other_commands.html">Perintah Lain</a></li>
              
                <li class=""><a href="going_live.html">Going Live</a></li>
              
            </ul>
          
        </li>
      
        <li>
          
            <a class="parent" href="../vtlink/index.html">VT-Link</a>
          
        </li>
      
        <li>
          
            <a class="parent" href="../mobile/index.html">Mobile</a>
          
        </li>
      
        <li>
          
            <a class="parent">Referensi API</a>
            <b class="caret"></b>
            <ul class="child-menu">
              
                <li class=""><a href="../api/introduction.html">Perkenalan</a></li>
              
                <li class=""><a href="../api/methods.html">API Methods</a></li>
              
                <li class=""><a href="../api/status_code.html">Status Kode</a></li>
              
            </ul>
          
        </li>
      
        <li>
          
            <a class="parent" href="../api/test_credentials.html">Testing</a>
          
        </li>
      
        <li>
          
            <a class="parent" href="../dashboard/index.html">Dashboard</a>
          
        </li>
      
        <li>
          
            <a class="parent" href="http://support.veritrans.co.id">FAQ</a>
          
        </li>
      
    </ul>
    <p class="question">
      Anda merasa ada yang kurang dari dokumentasi ini?<br>
      <a href="https://github.com/veritrans/veritrans.github.io">Buka issue atau ikut berkontribusi di Github</a>
    </p>
  </div>
</div><!--/span-->
        <div class="col-xs-12 col-sm-8 col-md-9" id="bodier">
          <p class="pull-right visible-xs">
            <button type="button" class="btn btn-primary btn-xs" data-toggle="offcanvas">Menu</button>
          </p>
          <div class="id-vtdirect-other-features">
            <h2 id="vt-direct-fitur-tambahan">VT-Direct: Fitur Tambahan</h2>
<hr />

<h5 id="tutorial-berikut-akan-membantu-anda-meng-implementasikan-fitur-tambahan-di-vt-direct-apabila-butuh-bantuan-silahkan-hubungi-kami-di-supportveritranscoidmailtosupportveritranscoid-email-support-atau-kunjungi-halaman-support-kamihttpsupportveritranscoid-veritrans-support"><em>Tutorial berikut akan membantu anda meng-implementasikan fitur tambahan di VT-Direct. Apabila butuh bantuan, silahkan hubungi kami di <a href="&#109;&#097;&#105;&#108;&#116;&#111;:&#115;&#117;&#112;&#112;&#111;&#114;&#116;&#064;&#118;&#101;&#114;&#105;&#116;&#114;&#097;&#110;&#115;&#046;&#099;&#111;&#046;&#105;&#100;">&#115;&#117;&#112;&#112;&#111;&#114;&#116;&#064;&#118;&#101;&#114;&#105;&#116;&#114;&#097;&#110;&#115;&#046;&#099;&#111;&#046;&#105;&#100;</a> atau kunjungi <a title="Veritrans Support" href="http://support.veritrans.co.id">halaman support kami</a>.</em></h5>
<hr />

<p><br />
Saat ini VT-Direct memiliki fitur tambahan untuk metode pembayaran dengan kartu kredit, yaitu:</p>

<ol>
  <li>Pre-Authorization &amp; Capture</li>
  <li>Cicilan/Installment</li>
  <li>BIN Promo</li>
  <li>One Click</li>
  <li>Two Clicks</li>
  <li>Transaksi Point</li>
</ol>

<p>VT-Direct juga menawarkan beberapa fitur untuk charge, antara lain:</p>

<ol>
  <li>Set Custom Field</li>
  <li>Set Custom Expiration</li>
</ol>

<p>Berikut adalah tutorial untuk melakukan integrasi menggunakan fitur - fitur sesuai dengan kebutuhan anda.
<br /><br /></p>

<!-- Nav tabs -->
<ul class="nav nav-tabs">
  <li class="active"><a href="#pre-authorization" data-toggle="tab">Pre-Authorization &amp; Capture</a></li>
  <li><a href="#installment" data-toggle="tab">Cicilan/Installment</a></li>
  <li><a href="#bin-promo" data-toggle="tab">BIN Promo</a></li>
  <li><a href="#one-click" data-toggle="tab">One Click</a></li>
  <li><a href="#two-click" data-toggle="tab">Two Clicks</a></li>
  <li><a href="#custom-field" data-toggle="tab">Custom Fields</a></li>  
  <li><a href="#custom-expiry" data-toggle="tab">Custom Expiry</a></li>
  <li><a href="#point-inquiry" data-toggle="tab">Transaksi Point</a></li>
</ul>
<div class="tab-content">
  <div class="tab-pane active" id="pre-authorization">
    <!-- step 1-->
    <p><br /></p>

    <h2 id="pre-authorization--capture">Pre-Authorization &amp; Capture</h2>

    <p>Pre-authorization berfungsi untuk mengecek apakah suatu kartu kredit mampu melakukan transaksi dengan nilai tertentu. Saat pre-authorization selesai dilakukan, anda dapat mengetahui status kartu kredit dan transaksi <strong>belum</strong> terjadi. Transaksi baru terjadi ketika operasi capture dilakukan. Capture hanya dapat dilakukan setelah proses pre-authorization berhasil.</p>

    <p>Secara default, operasi charge transaksi yang Veritrans lakukan adalah kombinasi pre-authorization &amp; capture. Jika anda ingin melakukan kedua hal ini secara terpisah, silahkan ikuti petunjuk berikut.
<br /><br /></p>

    <h3 id="transaksi-pre-authorization">Transaksi Pre-Authorization</h3>

    <p>Secara umum, proses pre-authorization mirip dengan charge transaksi kartu kredit biasa. Perbedaannya ada pada parameter request token dan charge transaksi, anda perlu menambahkan atribut <code>'type'</code> dengan nilai <code>'authorize'</code> pada kedua proses tersebut.</p>

    <p>Menggunakan contoh yang sama dengan charge transaksi kartu kredit, modifikasi script tambahan saat request token adalah sebagai berikut:
<br /><br /></p>

<pre><code class="highlight html"><span class="nt">&lt;script </span><span class="na">type=</span><span class="s">"text/javascript"</span><span class="nt">&gt;</span>

<span class="nx">$</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span>
  
  <span class="p">...</span>

  <span class="kd">var</span> <span class="nx">card</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(){</span>
    <span class="k">return</span> <span class="p">{</span>
      <span class="s1">'card_number'</span>   <span class="p">:</span> <span class="nx">$</span><span class="p">(</span><span class="s2">"#card-number"</span><span class="p">).</span><span class="nx">val</span><span class="p">(),</span>
      <span class="s1">'card_exp_month'</span>  <span class="p">:</span> <span class="nx">$</span><span class="p">(</span><span class="s2">"#card-expiry-month"</span><span class="p">).</span><span class="nx">val</span><span class="p">(),</span>
      <span class="s1">'card_exp_year'</span>   <span class="p">:</span> <span class="nx">$</span><span class="p">(</span><span class="s2">"#card-expiry-year"</span><span class="p">).</span><span class="nx">val</span><span class="p">(),</span>
      <span class="s1">'card_cvv'</span>      <span class="p">:</span> <span class="nx">$</span><span class="p">(</span><span class="s2">"#card-cvv"</span><span class="p">).</span><span class="nx">val</span><span class="p">(),</span>
      <span class="s1">'secure'</span>       <span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
      <span class="s1">'bank'</span>       <span class="p">:</span> <span class="s1">'bni'</span><span class="p">,</span>
      <span class="s1">'gross_amount'</span>   <span class="p">:</span> <span class="nx">$</span><span class="p">(</span><span class="s2">"#price"</span><span class="p">).</span><span class="nx">val</span><span class="p">(),</span> <span class="c1">// no decimal allowed for creditcard</span>

      <span class="c1">// Ask for pre-authorization token id</span>
      <span class="s1">'type'</span> <span class="p">:</span> <span class="s1">'authorize'</span><span class="p">,</span>
    <span class="p">}</span>
  <span class="p">};</span>

  <span class="p">...</span>

<span class="nt">&lt;/script&gt;</span>
</code></pre>

    <p><br />
Token yang diperoleh dapat anda simpan dan gunakan untuk melakukan pre-authorization saat charge transaksi. Modifikasi parameter pada saat charge transaksi adalah sebagai berikut:
<br /><br /></p>

<pre><code class="highlight php"><span class="cp">&lt;?php</span>
<span class="k">include_once</span><span class="p">(</span><span class="s1">'Veritrans.php'</span><span class="p">);</span>

<span class="o">...</span>

<span class="nv">$transaction_data</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span>
  <span class="s1">'payment_type'</span>      <span class="o">=&gt;</span> <span class="s1">'credit_card'</span><span class="p">,</span> 
  <span class="s1">'credit_card'</span>       <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">'token_id'</span>  <span class="o">=&gt;</span> <span class="nv">$token_id</span><span class="p">,</span>
    <span class="s1">'bank'</span>    <span class="o">=&gt;</span> <span class="s1">'bni'</span><span class="p">,</span>

    <span class="c1">// Authorize instead of normal charge operation
</span>    <span class="s1">'type'</span> <span class="o">=&gt;</span> <span class="s1">'authorize'</span>
    <span class="p">),</span>
  <span class="s1">'transaction_details'</span>   <span class="o">=&gt;</span> <span class="nv">$transaction_details</span><span class="p">,</span>
  <span class="s1">'customer_details'</span> <span class="o">=&gt;</span> <span class="nv">$customer_details</span>
  <span class="p">);</span>

<span class="nv">$result</span> <span class="o">=</span> <span class="nx">Veritrans_VtDirect</span><span class="o">::</span><span class="na">charge</span><span class="p">(</span><span class="nv">$transaction_data</span><span class="p">);</span>

<span class="cp">?&gt;</span>
</code></pre>

    <p><br />
Pada contoh di atas, pre-authorization response disimpan pada variable <code>$result</code>. Struktur dan contoh <em>state</em> <code>$result</code> ketika proses pre-authorization berhasil adalah sebagai berikut:
<br /><br /></p>

<pre><code class="highlight php">$result = array(
    "status_code" =&gt; "200",
    "status_message" =&gt; "Success, Credit Card transaction is successful",
    "transaction_id" =&gt; "b505b192-f202-41ad-b82a-18678d0571a9",
    "order_id" =&gt; "201404211437",
    "payment_type" =&gt; "credit_card",
    "transaction_time" =&gt; "2014-04-21 14:35:32",
    "transaction_status" =&gt; "authorize",
    "fraud_status" =&gt; "accept",
    "masked_card" =&gt; "481111-1114",
    "bank" =&gt; "bni",
    "eci" =&gt; "05",
    "approval_code" =&gt; "140540",
    "gross_amount" =&gt; "150000.00"
);
</code></pre>

    <p><br />
Atribut penting pada respon pre-authorization adalah <code>transaction_id</code>. Anda perlu menggunakan nilai atribut ini untuk melakukan capture transaksi.</p>

    <p><br /></p>

    <h3 id="transaksi-capture">Transaksi Capture</h3>

    <p>Untuk melakukan transaksi capture, anda cukup mempersiapkan atribut <code>transaction_id</code> dan <code>gross_amount</code>. Kedua nilai atribut berelasi dengan proses pre-authorization yang telah dilakukan sebelumnya. Nilai <code>gross_amount</code> tidak boleh melebihi nilai <code>gross_amount</code> saat pre-authorization. Jika atribut <code>gross_amount</code> tidak diberikan saat capture, nilai <code>gross_amoount</code> saat pre-authorization akan digunakan.</p>

    <p>Berikut adalah contoh kode PHP untuk melakukan capture transaksi:
<br /><br /></p>

<pre><code class="highlight php">
<span class="cp">&lt;?php</span>
<span class="k">include_once</span><span class="p">(</span><span class="s1">'Veritrans.php'</span><span class="p">);</span>

<span class="c1">// TODO: change with your actual server_key that can be found on Merchant Administration Portal (MAP)
</span><span class="nx">Veritrans_Config</span><span class="o">::</span><span class="nv">$serverKey</span> <span class="o">=</span> <span class="s2">"&lt; Your Server Key &gt;"</span><span class="p">;</span>
<span class="nx">Veritrans_Config</span><span class="o">::</span><span class="nv">$isProduction</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>

<span class="c1">// Use transaction_id from Pre-authorization process
</span><span class="nv">$transaction_id</span> <span class="o">=</span> <span class="s1">'b505b192-f202-41ad-b82a-18678d0571a9'</span><span class="p">;</span>
<span class="nv">$amount</span> <span class="o">=</span> <span class="mi">150000</span><span class="p">;</span>

<span class="nv">$result</span> <span class="o">=</span> <span class="nx">Veritrans_VtDirect</span><span class="o">::</span><span class="na">capture</span><span class="p">(</span><span class="nv">$transaction_id</span><span class="p">,</span> <span class="nv">$amount</span><span class="p">);</span>
<span class="cp">?&gt;</span>
</code></pre>

    <p><br />
Pada contoh di atas, capture response disimpan pada variable <code>$result</code>. Struktur dan contoh <em>state</em> <code>$result</code> ketika proses capture berhasil adalah sebagai berikut:
<br /><br /></p>

<pre><code class="highlight php">$result = array(
    "status_code" =&gt; "200",
    "status_message" =&gt; "Success, Credit Card capture transaction is successful",
    "transaction_id" =&gt; "b505b192-f202-41ad-b82a-18678d0571a9",
    "order_id" =&gt; "201404211437",
    "payment_type" =&gt; "credit_card",
    "transaction_time" =&gt; "2014-04-21 14:35:32",
    "transaction_status" =&gt; "capture",
    "fraud_status" =&gt; "noscore",
    "masked_card" =&gt; "481111-1114",
    "bank" =&gt; "bni",
    "gross_amount" =&gt; "150000.00"
);
</code></pre>

  </div>
  <div class="tab-pane" id="installment">
    <!-- step 2-->
    <p><br /></p>

    <h2 id="cicilaninstallment">Cicilan/Installment</h2>

    <h3 id="cicilan-onlineonline-installment">Cicilan Online/Online Installment</h3>

    <p>Untuk mengaktifkan fitur cicilan, merchant harus memiliki kesepakatan dengan acquiring bank terlebih dahulu. Acquiring Bank akan mengeluarkan MID installment yang memungkinkan transaksi diubah menjadi cicilan secara otomatis. Merchant juga perlu menanyakan kepada sales representative Veritrans apakah MID untuk cicilan sudah siap. Fitur cicilan/installment dapat dilakukan menggunakan token biasa atau token 3DS. </p>

    <p>Implementasi fitur cicilan mirip dengan charge transaksi kartu kredit biasa, perbedaan ada pada parameter request token dan charge transaksi. Pada saat melakukan request token, anda perlu menambahkan atribut <code>installment</code> dan <code>installment_term</code>. Deskripsi atribut installment beserta nilai yang dapat digunakan pada environment Sandbox:
<br /><br /></p>

    <table>
      <tbody>
        <tr>
          <td>Atribut</td>
          <td>Tipe Data</td>
          <td>Required</td>
          <td>Keterangan</td>
        </tr>
        <tr>
          <td><code>installment</code></td>
          <td>Boolean</td>
          <td>Ya</td>
          <td>Status transaksi akan dibayar menggunakan fitur cicilan</td>
        </tr>
        <tr>
          <td><code>installment_term</code></td>
          <td>Integer</td>
          <td>Ya</td>
          <td>Masa cicilan. Saat ini, nilai yang valid adalah <code>6</code> atau <code>12</code>.</td>
        </tr>
      </tbody>
    </table>

    <p><br />
Menggunakan contoh yang sama dengan charge transaksi kartu kredit, modifikasi script tambahan saat request token adalah sebagai berikut:
<br /><br /></p>

<pre><code class="highlight html"><span class="nt">&lt;script </span><span class="na">type=</span><span class="s">"text/javascript"</span><span class="nt">&gt;</span>

<span class="nx">$</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span>
  
  <span class="p">...</span>

  <span class="kd">var</span> <span class="nx">card</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(){</span>
    <span class="k">return</span> <span class="p">{</span>
      <span class="s1">'card_number'</span>   <span class="p">:</span> <span class="nx">$</span><span class="p">(</span><span class="s2">"#card-number"</span><span class="p">).</span><span class="nx">val</span><span class="p">(),</span>
      <span class="s1">'card_exp_month'</span>  <span class="p">:</span> <span class="nx">$</span><span class="p">(</span><span class="s2">"#card-expiry-month"</span><span class="p">).</span><span class="nx">val</span><span class="p">(),</span>
      <span class="s1">'card_exp_year'</span>   <span class="p">:</span> <span class="nx">$</span><span class="p">(</span><span class="s2">"#card-expiry-year"</span><span class="p">).</span><span class="nx">val</span><span class="p">(),</span>
      <span class="s1">'card_cvv'</span>      <span class="p">:</span> <span class="nx">$</span><span class="p">(</span><span class="s2">"#card-cvv"</span><span class="p">).</span><span class="nx">val</span><span class="p">(),</span>
      <span class="s1">'secure'</span>       <span class="p">:</span> <span class="kc">true</span><span class="p">,</span>

      <span class="c1">// Ask for 12 months installment token_id</span>
      <span class="s1">'installment'</span> <span class="p">:</span> <span class="kc">true</span><span class="p">,</span> 
      <span class="s1">'installment_term'</span> <span class="p">:</span> <span class="mi">12</span><span class="p">,</span>
      
      <span class="s1">'bank'</span>       <span class="p">:</span> <span class="s1">'bni'</span><span class="p">,</span>
      <span class="s1">'gross_amount'</span>   <span class="p">:</span> <span class="nx">$</span><span class="p">(</span><span class="s2">"#price"</span><span class="p">).</span><span class="nx">val</span><span class="p">(),</span> <span class="c1">// no decimal allowed for creditcard</span>
    <span class="p">}</span>
  <span class="p">};</span>

  <span class="p">...</span>

<span class="nt">&lt;/script&gt;</span>
</code></pre>

    <p><br />
Token yang diperoleh dapat anda simpan dan gunakan untuk melakukan charge transaksi. Atribut yang harus ditambahkan untuk melakukan installment adalah <code>installment_term</code>. Modifikasi parameter pada saat charge transaksi adalah sebagai berikut:
<br /><br /></p>

<pre><code class="highlight php"><span class="cp">&lt;?php</span>
<span class="k">include_once</span><span class="p">(</span><span class="s1">'Veritrans.php'</span><span class="p">);</span>

<span class="o">...</span>

<span class="nv">$transaction_data</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span>
  <span class="s1">'payment_type'</span>      <span class="o">=&gt;</span> <span class="s1">'credit_card'</span><span class="p">,</span> 
  <span class="s1">'credit_card'</span>       <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">'token_id'</span>  <span class="o">=&gt;</span> <span class="nv">$token_id</span><span class="p">,</span>
    <span class="s1">'bank'</span>    <span class="o">=&gt;</span> <span class="s1">'bni'</span><span class="p">,</span>
    <span class="s1">'installment_term'</span> <span class="o">=&gt;</span> <span class="mi">12</span>
    <span class="p">),</span>
  <span class="s1">'transaction_details'</span>   <span class="o">=&gt;</span> <span class="nv">$transaction_details</span><span class="p">,</span>
  <span class="s1">'customer_details'</span> <span class="o">=&gt;</span> <span class="nv">$customer_details</span><span class="p">,</span>
  <span class="p">);</span>

<span class="nv">$result</span> <span class="o">=</span> <span class="nx">Veritrans_VtDirect</span><span class="o">::</span><span class="na">charge</span><span class="p">(</span><span class="nv">$transaction_data</span><span class="p">);</span>

<span class="o">...</span>

<span class="cp">?&gt;</span>
</code></pre>

    <p><br />
Pada contoh di atas, installment response disimpan pada variable <code>$result</code>. Struktur dan contoh <em>state</em> <code>$result</code> ketika proses installment berhasil adalah sebagai berikut:
<br /><br /></p>

<pre><code class="highlight php">$result = array(
    "status_code" =&gt; "200",
    "status_message" =&gt; "Success, Credit Card Installment transaction is successful",
    "transaction_id" =&gt; "2a913000-4ed6-4c91-aff1-94e5ffb1b737",
    "order_id" =&gt; "201404231811",
    "payment_type" =&gt; "credit_card",
    "transaction_time" =&gt; "2014-04-23 18:11:44",
    "transaction_status" =&gt; "capture",
    "fraud_status" =&gt; "accept",
    "masked_card" =&gt; "481111-1114",
    "bank" =&gt; "bni",
    "installment_term" =&gt; "12",
    "approval_code" =&gt; "140540",
    "gross_amount" =&gt; "10000.00"
    );

</code></pre>
    <p><br /></p>

    <h3 id="cicilan-offlineoffline-installment">Cicilan Offline/Offline Installment</h3>

    <p>Apabila merchant ingin menggunakan fitur cicilan dengan bank yang tidak bisa mengeluarkan MID Installment, merchant dapat menggukana fitur cicilan offline. Dengan fitur cicilan offline ini, charge transaksi akan dilakukan secara full amount dan perubahan menjadi cicilan akan dilakukan setelahnya. Untuk informasi lebih lanjut dan bantuan, merchant bisa menghubungi Sales Representatif Veritrans.</p>

    <p>Implementasi dari fitur cicilan offline ini mirip dengan implementasi charge cicilan online dengan kombinasi fitur bin filter. Tujuan dari implementasi fitur bin filter adalah membatasi hanya kartu-kartu tertentu saja yang bisa menggukana fitur cicilan offline ini sesuai dengan kesepakatan antara merchant dengan bank penerbit kartu.  </p>

    <p><br />
Menggunakan contoh yang sama dengan charge transaksi kartu kredit, modifikasi script tambahan saat request token adalah sebagai berikut:
<br /><br /></p>

<pre><code class="highlight html"><span class="nt">&lt;script </span><span class="na">type=</span><span class="s">"text/javascript"</span><span class="nt">&gt;</span>

<span class="nx">$</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span>
  
  <span class="p">...</span>

  <span class="kd">var</span> <span class="nx">card</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(){</span>
    <span class="k">return</span> <span class="p">{</span>
      <span class="s1">'card_number'</span>   <span class="p">:</span> <span class="nx">$</span><span class="p">(</span><span class="s2">"#card-number"</span><span class="p">).</span><span class="nx">val</span><span class="p">(),</span>
      <span class="s1">'card_exp_month'</span>  <span class="p">:</span> <span class="nx">$</span><span class="p">(</span><span class="s2">"#card-expiry-month"</span><span class="p">).</span><span class="nx">val</span><span class="p">(),</span>
      <span class="s1">'card_exp_year'</span>   <span class="p">:</span> <span class="nx">$</span><span class="p">(</span><span class="s2">"#card-expiry-year"</span><span class="p">).</span><span class="nx">val</span><span class="p">(),</span>
      <span class="s1">'card_cvv'</span>      <span class="p">:</span> <span class="nx">$</span><span class="p">(</span><span class="s2">"#card-cvv"</span><span class="p">).</span><span class="nx">val</span><span class="p">(),</span>
      <span class="s1">'secure'</span>       <span class="p">:</span> <span class="kc">true</span><span class="p">,</span>

      <span class="c1">// Ask for 12 months installment token_id</span>
      <span class="s1">'installment'</span> <span class="p">:</span> <span class="kc">true</span><span class="p">,</span> 
      <span class="s1">'installment_term'</span> <span class="p">:</span> <span class="mi">12</span><span class="p">,</span>
      
      <span class="s1">'bank'</span>       <span class="p">:</span> <span class="s1">'bni'</span><span class="p">,</span>
      <span class="s1">'gross_amount'</span>   <span class="p">:</span> <span class="nx">$</span><span class="p">(</span><span class="s2">"#price"</span><span class="p">).</span><span class="nx">val</span><span class="p">(),</span> <span class="c1">// no decimal allowed for creditcard</span>
    <span class="p">}</span>
  <span class="p">};</span>

  <span class="p">...</span>

<span class="nt">&lt;/script&gt;</span>
</code></pre>

    <p><br />
Token yang diperoleh dapat anda simpan dan gunakan untuk melakukan charge transaksi. Atribut yang harus ditambahkan untuk melakukan installment adalah <code>installment_term</code> dan <code>bins</code>. Modifikasi parameter pada saat charge transaksi adalah sebagai berikut:
<br /><br /></p>

<pre><code class="highlight php"><span class="cp">&lt;?php</span>
<span class="k">include_once</span><span class="p">(</span><span class="s1">'Veritrans.php'</span><span class="p">);</span>

<span class="o">...</span>

<span class="nv">$transaction_data</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span>
  <span class="s1">'payment_type'</span>      <span class="o">=&gt;</span> <span class="s1">'credit_card'</span><span class="p">,</span> 
  <span class="s1">'credit_card'</span>       <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">'token_id'</span>  <span class="o">=&gt;</span> <span class="nv">$token_id</span><span class="p">,</span>
    <span class="s1">'bank'</span>    <span class="o">=&gt;</span> <span class="s1">'bni'</span><span class="p">,</span>
    <span class="s1">'installment_term'</span> <span class="o">=&gt;</span> <span class="mi">12</span><span class="p">,</span>
    <span class="s1">'bins'</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span><span class="s2">"48111111"</span><span class="p">,</span> <span class="s2">"3111"</span><span class="p">,</span> <span class="s2">"5"</span><span class="p">)</span>
    <span class="p">),</span>
  <span class="s1">'transaction_details'</span>   <span class="o">=&gt;</span> <span class="nv">$transaction_details</span><span class="p">,</span>
  <span class="s1">'customer_details'</span> <span class="o">=&gt;</span> <span class="nv">$customer_details</span><span class="p">,</span>
  <span class="p">);</span>

<span class="nv">$result</span> <span class="o">=</span> <span class="nx">Veritrans_VtDirect</span><span class="o">::</span><span class="na">charge</span><span class="p">(</span><span class="nv">$transaction_data</span><span class="p">);</span>

<span class="o">...</span>

<span class="cp">?&gt;</span>
</code></pre>

    <p><br />
Pada contoh di atas, installment response disimpan pada variable <code>$result</code>. Struktur dan contoh <em>state</em> <code>$result</code> ketika proses installment berhasil adalah sebagai berikut:
<br /><br /></p>

<pre><code class="highlight php">$result = array(
    "status_code" =&gt; "200",
    "status_message" =&gt; "Success, Credit Card Installment transaction is successful",
    "transaction_id" =&gt; "2a913000-4ed6-4c91-aff1-94e5ffb1b737",
    "order_id" =&gt; "201404231811",
    "payment_type" =&gt; "credit_card",
    "transaction_time" =&gt; "2014-04-23 18:11:44",
    "transaction_status" =&gt; "capture",
    "fraud_status" =&gt; "accept",
    "masked_card" =&gt; "481111-1114",
    "bank" =&gt; "bni",
    "installment_term" =&gt; "12",
    "approval_code" =&gt; "140540",
    "gross_amount" =&gt; "10000.00"
    );

</code></pre>

  </div>
  <div class="tab-pane" id="bin-promo">
    <!-- step 3-->
    <p><br /></p>

    <h2 id="bin-promo">BIN Promo</h2>

    <p>BIN (Bank Identification Number) promo adalah fitur yang memungkinkan anda untuk menawarkan promosi berdasarkan bank penerbit kartu kredit tertentu yang dimiliki pelanggan anda. Bank penerbit kartu kredit dapat ditentukan dengan menggunakan BIN, BIN merupakan <strong>6 digit</strong> pertama dari kartu kredit. Sebagai alternatif, anda bisa menggunakan <strong>1-8</strong> digit pertama kartu kredit yang akan digunakan atau nama bank penerbit kartu pada fitur BIN Promo.</p>

    <p>Untuk menggunakan fitur ini, anda terlebih dahulu mengumpulkan daftar BIN yang menerima promo atau cukup menggunakan nama bank penerbit kartu. Daftar BIN tersebut menjadi parameter transaksi <code>bins</code>, transaksi hanya dapat dilakukan oleh kartu kredit yang termasuk dalam daftar BIN atau kartu yang diterbitkan bank tertentu.  Gunakan daftar BIN yang anda miliki atau nama bank penerbit kartu sebagai nilai dari atribut <code>bins</code> saat charge transaksi.</p>

    <p>Menggunakan transaksi yang sama dengan bagian integrasi, contoh kode PHP yang dapat digunakan adalah sebagai berikut:
<br /><br /></p>

<pre><code class="highlight php"><span class="cp">&lt;?php</span>
<span class="k">include_once</span><span class="p">(</span><span class="s1">'Veritrans.php'</span><span class="p">);</span>

<span class="o">...</span>

<span class="nv">$transaction_data</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span>
  <span class="s1">'payment_type'</span>      <span class="o">=&gt;</span> <span class="s1">'credit_card'</span><span class="p">,</span> 
  <span class="s1">'credit_card'</span>       <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">'token_id'</span>  <span class="o">=&gt;</span> <span class="nv">$token_id</span><span class="p">,</span>
    <span class="s1">'bank'</span>    <span class="o">=&gt;</span> <span class="s1">'bni'</span><span class="p">,</span>
    <span class="s1">'bins'</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span><span class="s2">"48111111"</span><span class="p">,</span> <span class="s2">"3111"</span><span class="p">,</span> <span class="s2">"5"</span><span class="p">,</span> <span class="s2">"bni"</span><span class="p">,</span> <span class="s2">"mandiri"</span><span class="p">)</span>
    <span class="p">),</span>
  <span class="s1">'transaction_details'</span>   <span class="o">=&gt;</span> <span class="nv">$transaction_details</span><span class="p">,</span>
  <span class="s1">'customer_details'</span> <span class="o">=&gt;</span> <span class="nv">$customer_details</span><span class="p">,</span>
  <span class="p">);</span>
<span class="k">try</span><span class="p">{</span>
  <span class="nv">$result</span> <span class="o">=</span> <span class="nx">Veritrans_VtDirect</span><span class="o">::</span><span class="na">charge</span><span class="p">(</span><span class="nv">$transaction_data</span><span class="p">);</span>
<span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="nx">Exception</span> <span class="nv">$e</span><span class="p">){</span>
  <span class="k">echo</span> <span class="nv">$e</span><span class="o">-&gt;</span><span class="na">getMessage</span><span class="p">();</span>
<span class="p">}</span>

<span class="o">...</span>

<span class="cp">?&gt;</span>
</code></pre>

    <p><br />
Pada contoh di atas, BIN yang didaftarkan adalah <code>48111111</code>, <code>3111</code>, <code>5</code>, <code>bni</code>, dan <code>mandiri</code>. Jika kartu kredit dengan BIN "411111" atau kartu kredit yang tidak diterbitkan oleh bni atau mandiri coba digunakan, charge transaksi akan gagal dan terjadi <em>exception</em>.</p>

  </div>
  <div class="tab-pane" id="one-click">
    <!-- step 4-->
    <p><br /></p>

    <h2 id="one-click">One Click</h2>

    <p>Fitur one click memungkinkan anda untuk menggunakan satu token pada beberapa transaksi. Token mewakili informasi nomor dan expiry date pelanggan anda. Hal ini akan mempermudah pelanggan anda dalam melakukan transaksi karena informasi kartu kredit hanya perlu diisi sekali saja.</p>

    <p>Perlu diperhatikan bahwa token baru aktif setelah transaksi pertama berhasil dilakukan. Untuk menggunakan one click, fitur 3D Secure harus digunakan.</p>

    <p>Secara umum, ada dua tahapan dalam menggunakan fitur one click:</p>

    <ol>
      <li>Transaksi Pertama
        <ul>
          <li>Pelanggan anda memasukkan nomor, CVV, expiry date kartu kredit dan autentikasi 3D Secure</li>
          <li>Anda menerima token</li>
          <li>Anda menggunakan token untuk charge transaksi</li>
          <li>Jika transaksi berhasil, Anda menyimpan token pelanggan di database. Kita namakan token ini sebagai <code>saved_token</code></li>
        </ul>
      </li>
      <li>Transaksi Selanjutnya
        <ul>
          <li>Anda mengambil <code>saved_token</code> pelanggan tersebut dari database</li>
          <li>Anda menggunakan <code>saved_token</code> baru untuk charge transaksi</li>
        </ul>
      </li>
    </ol>

    <p><br /></p>

    <h3 id="transaksi-pertama">Transaksi Pertama</h3>

    <p>Untuk mengimplementasikan one click, anda hanya perlu menambahkan atribut <code>save_token_id</code> pada saat charge transaksi pertama dilakukan. Menggunakan contoh yang sama dengan charge transaksi kartu kredit, modifikasi script PHP saat charge transaksi dilakukan adalah sebagai berikut:
<br /><br /></p>

<pre><code class="highlight php"><span class="cp">&lt;?php</span>
<span class="k">include_once</span><span class="p">(</span><span class="s1">'Veritrans.php'</span><span class="p">);</span>

<span class="o">...</span>

<span class="nv">$transaction_data</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span>
  <span class="s1">'payment_type'</span>      <span class="o">=&gt;</span> <span class="s1">'credit_card'</span><span class="p">,</span> 
  <span class="s1">'credit_card'</span>       <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">'token_id'</span>  <span class="o">=&gt;</span> <span class="nv">$token_id</span><span class="p">,</span>
    <span class="s1">'bank'</span>    <span class="o">=&gt;</span> <span class="s1">'bni'</span><span class="p">,</span>
    <span class="s1">'save_token_id'</span> <span class="o">=&gt;</span> <span class="kc">true</span>
    <span class="p">),</span>
  <span class="s1">'transaction_details'</span>   <span class="o">=&gt;</span> <span class="nv">$transaction_details</span><span class="p">,</span>
  <span class="s1">'customer_details'</span> <span class="o">=&gt;</span> <span class="nv">$customer_details</span><span class="p">,</span>
  <span class="p">);</span>

<span class="nv">$result</span> <span class="o">=</span> <span class="nx">Veritrans_VtDirect</span><span class="o">::</span><span class="na">charge</span><span class="p">(</span><span class="nv">$transaction_data</span><span class="p">);</span>

<span class="o">...</span>

<span class="cp">?&gt;</span>
</code></pre>

    <p><br />
Pada contoh di atas, one click response disimpan pada variable <code>$result</code>. Struktur dan contoh <em>state</em> <code>$result</code> ketika proses one click berhasil adalah sebagai berikut:
<br /><br /></p>

<pre><code class="highlight php">array(
  "transaction_id" =&gt; "ca5e0ff5-4297-48ef-aa25-b3ab018d4ead",
  "order_id" =&gt; "order52",
  "gross_amount" =&gt; "200000.00",
  "payment_type" =&gt; "credit_card",
  "transaction_time" =&gt; "2014-03-27 17:20:53",
  "transaction_status" =&gt; "capture",
  "fraud_status" =&gt; "accept",
  "masked_card" =&gt; "481111-1114",
  "saved_token_id" =&gt; "4011117d16c884-2cc7-4624-b0a8-10273b7f6cc8",
  "saved_token_id_expired_at" =&gt; "2024-03-27 17:20:53",
  "status_code" =&gt; "200",
  "bank" =&gt; "bni",
  "eci" =&gt; "05",
  "approval_code" =&gt; "140540",
  "status_message" =&gt; "Success, Credit Card 3D Secure transaction is successful"
);
</code></pre>

    <p><br />
Dua atribut penting pada one click response yang sukses adalah <code>saved_token_id</code> dan <code>saved_token_id_expired_at</code>. Atribut <code>saved_token_id</code> adalah token yang dapat anda simpan jika pelanggan anda melakukan transaksi lagi. Atribut ini kita sebut sebagai <code>saved_token</code> pada penjelasan tahapan one click sebelumnya. Nilai dari <code>saved_token</code> dapat terus digunakan hingga <code>saved_token_id_expired_at</code>.</p>

    <p><br /></p>

    <h3 id="transaksi-selanjutnya">Transaksi Selanjutnya</h3>

    <p>Pada transaksi selanjutnya, pelanggan anda tidak perlu mengisi informasi kartu kredit lagi dan proses charge transaksi dapat langsung dilakukan menggunakan <code>saved token</code>.</p>

    <p>Berikut adalah contoh charge transaksi selanjutnya menggunakan <code>saved_token_id</code>.
<br /><br /></p>

<pre><code class="highlight php"><span class="cp">&lt;?php</span>
<span class="k">include_once</span><span class="p">(</span><span class="s1">'Veritrans.php'</span><span class="p">);</span>

<span class="o">...</span>

<span class="c1">//Retrieve saved token id for this customer from database
</span><span class="nv">$saved_token_id</span> <span class="o">=</span> <span class="s2">"&lt;saved token id&gt;"</span><span class="p">;</span>

<span class="nv">$transaction_data</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span>
  <span class="s1">'payment_type'</span>      <span class="o">=&gt;</span> <span class="s1">'credit_card'</span><span class="p">,</span> 
  <span class="s1">'credit_card'</span>       <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">'token_id'</span>  <span class="o">=&gt;</span> <span class="nv">$saved_token_id</span><span class="p">,</span>
    <span class="s1">'bank'</span>    <span class="o">=&gt;</span> <span class="s1">'bni'</span><span class="p">,</span>
    <span class="p">),</span>
  <span class="s1">'transaction_details'</span>   <span class="o">=&gt;</span> <span class="nv">$transaction_details</span><span class="p">,</span>
  <span class="s1">'customer_details'</span> <span class="o">=&gt;</span> <span class="nv">$customer_details</span><span class="p">,</span>
  <span class="p">);</span>

<span class="nv">$result</span> <span class="o">=</span> <span class="nx">Veritrans_VtDirect</span><span class="o">::</span><span class="na">charge</span><span class="p">(</span><span class="nv">$transaction_data</span><span class="p">);</span>

<span class="o">...</span>

<span class="cp">?&gt;</span>
</code></pre>

    <p><br />
Struktur dan contoh state <code>$result</code> sama dengan dengan proses charge transaksi biasa.
<br /><br /></p>

<pre><code class="highlight php">array(
    "transaction_id" =&gt; "05dfbd23-b767-4748-8fe9-7e30769e1857",
    "order_id" =&gt; "order53",
    "gross_amount" =&gt; "200000.00",
    "payment_type" =&gt; "credit_card",
    "transaction_time" =&gt; "2014-03-27 17:25:12",
    "transaction_status" =&gt; "capture",
    "status_code" =&gt; "200",
    "bank" =&gt; "bni",
    "approval_code" =&gt; "140540",
    "status_message" =&gt; "Success, Credit Card transaction is successful"
);
</code></pre>

  </div>
  <div class="tab-pane" id="two-click">
    <p><br /></p>

    <h2 id="two-clicks">Two Clicks</h2>

    <p>Mirip dengan fitur one click, two clicks memungkinkan pelanggan anda untuk melakukan beberapa transaksi lebih mudah dan cepat. Setelah transaksi pertama berhasil, anda dapat menyimpan token untuk transaksi berikutnya. </p>

    <p>Token pada two clicks mewakili nomor dan expiry date kartu kredit pelanggan anda. Pelanggan anda cukup mengisi CVV dan autentikasi 3D Secure pada saat transaksi kedua dan selanjutnya dilakukan. Berbeda dengan one click, fitur two clicks <strong>dapat</strong> digunakan pada transaksi kartu kredit biasa maupun 3D Secure.</p>

    <p>Secara umum, ada dua tahapan dalam menggunakan fitur two clicks:</p>

    <ol>
      <li>Transaksi Pertama
        <ul>
          <li>Pelanggan memasukkan nomor, CVV, dan expiry date kartu kredit</li>
          <li>Autentikasi 3D Secure jika digunakan</li>
          <li>Anda menerima token</li>
          <li>Anda menggunakan token untuk charge transaksi</li>
          <li>Jika transaksi berhasil, Anda menyimpan token pelanggan di database. Kita namakan token ini sebagai <code>saved_token</code></li>
        </ul>
      </li>
      <li>Transaksi Selanjutnya
        <ul>
          <li>Anda mengambil <code>saved_token</code> pelanggan tersebut dari database</li>
          <li>Pelanggan memasukkan CVV kartu kredit</li>
          <li>Autentikasi 3D Secure jika digunakan</li>
          <li>Anda menggunakan <code>saved_token</code> dan CVV untuk memperoleh token baru</li>
          <li>Anda menggunakan token baru untuk charge transaksi </li>
        </ul>
      </li>
    </ol>

    <p><br /></p>

    <h3 id="transaksi-pertama-1">Transaksi Pertama</h3>

    <p>Implementasi transaksi pertama mirip dengan charge transaksi kartu kredit biasa. Anda cukup menambahkan atribut <code>saved_token_id</code> saat charge transaksi. Jika transaksi berhasil, token dapat disimpan untuk transaksi pelanggan tersebut selanjutnya.
<br /><br /></p>

<pre><code class="highlight php"><span class="cp">&lt;?php</span>
<span class="k">include_once</span><span class="p">(</span><span class="s1">'Veritrans.php'</span><span class="p">);</span>

<span class="o">...</span>

<span class="nv">$transaction_data</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span>
  <span class="s1">'payment_type'</span>      <span class="o">=&gt;</span> <span class="s1">'credit_card'</span><span class="p">,</span> 
  <span class="s1">'credit_card'</span>       <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">'token_id'</span>  <span class="o">=&gt;</span> <span class="nv">$token_id</span><span class="p">,</span>
    <span class="s1">'bank'</span>    <span class="o">=&gt;</span> <span class="s1">'bni'</span><span class="p">,</span>
    <span class="s1">'save_token_id'</span> <span class="o">=&gt;</span> <span class="kc">true</span>
    <span class="p">),</span>
  <span class="s1">'transaction_details'</span>   <span class="o">=&gt;</span> <span class="nv">$transaction_details</span><span class="p">,</span>
  <span class="s1">'customer_details'</span> <span class="o">=&gt;</span> <span class="nv">$customer_details</span><span class="p">,</span>
  <span class="p">);</span>

<span class="nv">$result</span> <span class="o">=</span> <span class="nx">Veritrans_VtDirect</span><span class="o">::</span><span class="na">charge</span><span class="p">(</span><span class="nv">$transaction_data</span><span class="p">);</span>
<span class="nv">$status</span> <span class="o">=</span> <span class="nv">$result</span><span class="o">-&gt;</span><span class="na">transaction_status</span><span class="p">;</span>

<span class="k">if</span><span class="p">(</span><span class="nv">$status</span> <span class="o">==</span> <span class="s1">'capture'</span><span class="p">){</span>
  <span class="c1">// save 'token_id' for this customer in database
</span><span class="p">}</span>
<span class="o">...</span>

<span class="cp">?&gt;</span>
</code></pre>

    <p><br />
Pada contoh di atas, two clicks response disimpan pada <em>variable</em> <code>$result</code>. Struktur dan contoh <em>state</em> <code>$result</code> ketika proses two clicks berhasil adalah sebagai berikut:
<br /><br /></p>

<pre><code class="highlight php">array(
  "transaction_id" =&gt; "ca5e0ff5-4297-48ef-aa25-b3ab018d4ead",
  "order_id" =&gt; "order52",
  "gross_amount" =&gt; "200000.00",
  "payment_type" =&gt; "credit_card",
  "transaction_time" =&gt; "2014-03-27 17:20:53",
  "transaction_status" =&gt; "capture",
  "fraud_status" =&gt; "accept",
  "masked_card" =&gt; "481111-1114",
  "saved_token_id" =&gt; "4011117d16c884-2cc7-4624-b0a8-10273b7f6cc8",
  "saved_token_id_expired_at" =&gt; "2024-03-27 17:20:53",
  "status_code" =&gt; "200",
  "bank" =&gt; "bni",
  "eci" =&gt; "05",
  "approval_code" =&gt; "140540",
  "status_message" =&gt; "Success, Credit Card 3D Secure transaction is successful"
);
</code></pre>

    <p><br />
Dua atribut penting pada two clicks response yang sukses adalah <code>saved_token_id</code> dan <code>saved_token_id_expired_at</code>. Atribut <code>saved_token_id</code> adalah yang kita sebut sebagai <code>saved_token</code> pada bagian tahapan two clicks. Nilai <code>saved_token</code> ini dapat terus digunakan hingga <code>saved_token_id_expired_at</code>.</p>

    <p><br /></p>

    <h3 id="transaksi-selanjutnya-1">Transaksi Selanjutnya</h3>

    <p>Pada transaksi selanjutnya, kita menggunakan <code>saved_token</code> dan CVV yang dimasukkan oleh pelanggan untuk mendapatkan token baru. Atribut <code>two_click</code> juga perlu ditambahkan saat request token baru dilakukan. Token baru kemudian anda gunakan untuk melakukan charge transaksi berikutnya. Nilai token baru otomatis akan dimasukkan ke dalam <code>&lt;input id="token-id" name="token-id" type="hidden" /&gt;</code> oleh <code>veritrans.min.js</code>.</p>

    <p>Perlu diperhatikan bahwa anda <strong>tidak</strong> menggunakan <code>saved_token</code> untuk melakukan charge transaksi. Anda menggunakan <code>saved_token</code> sebagai salah satu syarat untuk memperoleh token baru. Anda <strong>tidak</strong> menyimpan token baru dari pelanggan tersebut ke database.</p>

    <p>Field nomor dan expiry date pada form dapat dihilangkan karena pelanggan anda cukup mengisi CVV dan melakukan autentikasi 3D Secure saja. Menggunakan kasus yang sama dengan charge transaksi kartu kredit, Berikut adalah contoh request token baru menggunakan atribut <code>saved_token</code> dan CVV yang dimasukkan pelanggan:
<br /><br /></p>

<pre><code class="highlight html"><span class="nt">&lt;script </span><span class="na">type=</span><span class="s">"text/javascript"</span><span class="nt">&gt;</span>

<span class="nx">$</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span>
  
  <span class="p">...</span>

  <span class="kd">var</span> <span class="nx">card</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(){</span>
    <span class="k">return</span> <span class="p">{</span>
      <span class="s1">'card_cvv'</span> <span class="p">:</span> <span class="nx">$</span><span class="p">(</span><span class="s2">"#card-cvv"</span><span class="p">).</span><span class="nx">val</span><span class="p">(),</span>
      <span class="s1">'token_id'</span> <span class="p">:</span> <span class="s1">'&lt;retrieve this customer saved_token from your database&gt;'</span><span class="p">,</span>


      <span class="s1">'two_click'</span> <span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
      <span class="s1">'secure'</span> <span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
      <span class="s1">'bank'</span> <span class="p">:</span> <span class="s1">'bni'</span><span class="p">,</span>
      <span class="s1">'gross_amount'</span> <span class="p">:</span> <span class="nx">$</span><span class="p">(</span><span class="s2">"#price"</span><span class="p">).</span><span class="nx">val</span><span class="p">(),</span> <span class="c1">// no decimal allowed for creditcard</span>
    <span class="p">}</span>
  <span class="p">};</span>

  <span class="p">...</span>

<span class="nt">&lt;/script&gt;</span>
</code></pre>

    <p><br />
Tahap charge transaksi kedua dan selanjutnya pada two clicks sama dengan proses charge transaksi kartu kredit biasa. Anda cukup menggunakan token baru sebagai token_id.
<br /><br /></p>

<pre><code class="highlight php"><span class="cp">&lt;?php</span>
<span class="k">include_once</span><span class="p">(</span><span class="s1">'Veritrans.php'</span><span class="p">);</span>

<span class="o">...</span>

<span class="nv">$token_id</span> <span class="o">=</span> <span class="nv">$_POST</span><span class="p">[</span><span class="s1">'token-id'</span><span class="p">];</span>

<span class="nv">$transaction_data</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span>
  <span class="s1">'payment_type'</span>      <span class="o">=&gt;</span> <span class="s1">'credit_card'</span><span class="p">,</span> 
  <span class="s1">'credit_card'</span>       <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">'token_id'</span>  <span class="o">=&gt;</span> <span class="nv">$token_id</span><span class="p">,</span>
    <span class="s1">'bank'</span>    <span class="o">=&gt;</span> <span class="s1">'bni'</span><span class="p">,</span>
    <span class="p">),</span>
  <span class="s1">'transaction_details'</span>   <span class="o">=&gt;</span> <span class="nv">$transaction_details</span><span class="p">,</span>
  <span class="s1">'customer_details'</span> <span class="o">=&gt;</span> <span class="nv">$customer_details</span><span class="p">,</span>
  <span class="p">);</span>

<span class="nv">$result</span> <span class="o">=</span> <span class="nx">Veritrans_VtDirect</span><span class="o">::</span><span class="na">charge</span><span class="p">(</span><span class="nv">$transaction_data</span><span class="p">);</span>

<span class="o">...</span>

<span class="cp">?&gt;</span>
</code></pre>

    <p><br />
Struktur dan contoh <em>state</em> <code>$result</code> sama dengan dengan proses charge transaksi biasa.
<br /><br /></p>

<pre><code class="highlight php">array(
    "transaction_id" =&gt; "05dfbd23-b767-4748-8fe9-7e30769e1857",
    "order_id" =&gt; "order53",
    "gross_amount" =&gt; "200000.00",
    "payment_type" =&gt; "credit_card",
    "transaction_time" =&gt; "2014-03-27 17:25:12",
    "transaction_status" =&gt; "capture",
    "status_code" =&gt; "200",
    "bank" =&gt; "bni",
    "approval_code" =&gt; "140540",
    "status_message" =&gt; "Success, Credit Card transaction is successful"
);
</code></pre>

  </div>

  <div class="tab-pane" id="custom-field">

    <h2 id="set-custom-field">Set Custom Field</h2>

    <p>Fitur Pengaturan Custom Fields memungkinkan merchant untuk charge sebuah transaksi dengan data unik sesuai kebutuhan merchant.<br /></p>

    <p>Label dari custom field dapat diatur di Merchant Admin Portal Veritrans, sesuai berikut.
<img alt="custom_field" class="img-responsive img-thumbnail" src="../../images/custom_field.png" /></p>

    <p><br /></p>

    <p>Menggunakan transaksi yang sama dengan bagian <a href="../vtweb/integration_php.html#step1">Integrasi</a>, contoh kode PHP yang dapat digunakan adalah sebagai berikut:<br /></p>

<pre><code class="highlight php"><span class="cp">&lt;?php</span>
<span class="k">include_once</span><span class="p">(</span><span class="s1">'Veritrans.php'</span><span class="p">);</span>

<span class="o">...</span>

<span class="nv">$transaction</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span>
    <span class="s2">"vtweb"</span> <span class="o">=&gt;</span> <span class="k">array</span> <span class="p">(</span>
          <span class="s2">"enabled_payments"</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span><span class="s2">"credit_card"</span><span class="p">),</span>
          <span class="s2">"credit_card_3d_secure"</span> <span class="o">=&gt;</span> <span class="kc">true</span><span class="p">,</span>
  <span class="p">}</span>

        <span class="p">),</span>
    <span class="s1">'transaction_details'</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
        <span class="s1">'order_id'</span> <span class="o">=&gt;</span> <span class="mi">3033</span><span class="p">,</span>
        <span class="s1">'gross_amount'</span> <span class="o">=&gt;</span> <span class="mi">10000</span>
        <span class="p">),</span>

    <span class="c1">//Set Custom Field Value
</span>    <span class="s1">'custom_field1'</span> <span class="o">=&gt;</span> <span class="s2">"Warehouse"</span><span class="p">,</span>
    <span class="s1">'custom_field2'</span> <span class="o">=&gt;</span> <span class="s2">"Normal"</span>
    <span class="p">);</span>

<span class="nv">$vtweb_url</span> <span class="o">=</span> <span class="nx">Veritrans_Vtweb</span><span class="o">::</span><span class="na">getRedirectionUrl</span><span class="p">(</span><span class="nv">$transaction</span><span class="p">);</span>

<span class="o">...</span>

<span class="cp">?&gt;</span>
</code></pre>

    <p><br /></p>

    <p>Transaction Status dari Order ID dengan custom field sesuai kode diatas:</p>

    <p><img alt="MAP_custom_field" class="img-responsive img-thumbnail" src="../../images/MAP_custom_field.png" /></p>

    <p><br /></p>

    <p>Contoh HTTP Post Response dari Veritrans ketika Charge dengan Custom Fields:</p>

<pre><code class="highlight json"><span class="p">{</span>
  <span class="s2">"status_code"</span><span class="p">:</span> <span class="s2">"200"</span><span class="p">,</span>
  <span class="s2">"status_message"</span><span class="p">:</span> <span class="s2">"Veritrans payment notification"</span><span class="p">,</span>
  <span class="s2">"transaction_id"</span><span class="p">:</span> <span class="s2">"2f3b5be9-c745-493f-894d-87f8cbc480f6"</span><span class="p">,</span>
  <span class="s2">"order_id"</span><span class="p">:</span> <span class="s2">"3033"</span><span class="p">,</span>
  <span class="s2">"payment_type"</span><span class="p">:</span> <span class="s2">"bank_transfer"</span><span class="p">,</span>
  <span class="s2">"transaction_time"</span><span class="p">:</span> <span class="s2">"2015-05-22 13:27:13"</span><span class="p">,</span>
  <span class="s2">"transaction_status"</span><span class="p">:</span> <span class="s2">"settlement"</span><span class="p">,</span>
  <span class="s2">"permata_va_number"</span><span class="p">:</span> <span class="s2">"8778000660147988"</span><span class="p">,</span>
  <span class="s2">"signature_key"</span><span class="p">:</span> <span class="s2">"6f3368d58d1a31a9465e72456ecc33318572a3398d1465b5d12e68ef5bb541a70db3e498d0596db699a1af6d37ea8b86ae9cb5cbebc9eee90846369e9eac7bb2"</span><span class="p">,</span>
  <span class="s2">"custom_field1"</span><span class="p">:</span> <span class="s2">"Warehouse"</span><span class="p">,</span>
  <span class="s2">"custom_field2"</span><span class="p">:</span> <span class="s2">"Normal"</span><span class="p">,</span>
  <span class="s2">"gross_amount"</span><span class="p">:</span> <span class="s2">"10000.00"</span>
<span class="p">}</span>

</code></pre>

    <div class="alert alert-info" role="alert">
      <p><span class="glyphicon glyphicon-info-sign" aria-hidden="true"></span>
  <span class="sr-only">Info:</span>
<strong>Info</strong>:<br /> Silahkan lihat <a href="../api/methods.html#Set-Custom-Field">API Documentation - Set Custom Fields</a> untuk informasi lebih mengenai atribut JSON.</p>
    </div>

  </div>

  <div class="tab-pane" id="custom-expiry">

    <h2 id="set-custom-expiry">Set Custom Expiry</h2>

    <p>Fitur Pengaturan Custom Expiry memungkinkan merchant untuk set masa waktu berlaku pembayaran dengan status pending di setiap transaksi.</p>

    <p>Berikut merupakan daftar pembayaran dengan status Pending:</p>

    <ul>
      <li>Bank Transfer: Permata Virtual Account, Mandiri Bill Payment</li>
      <li>Direct Debit: CIMB Clicks, e-pay BRI, BCA KlikPay</li>
      <li>e-Wallet: XL Tunai, BBM Money
<br /></li>
    </ul>

    <p>Menggunakan transaksi yang sama dengan bagian <a href="../vtweb/integration_php.html#step1">Integrasi</a>, contoh kode PHP yang dapat digunakan adalah sebagai berikut:<br /></p>

<pre><code class="highlight php"><span class="cp">&lt;?php</span>
<span class="k">include_once</span><span class="p">(</span><span class="s1">'Veritrans.php'</span><span class="p">);</span>

<span class="o">...</span>

<span class="nv">$transaction</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span>
    <span class="s2">"vtweb"</span> <span class="o">=&gt;</span> <span class="k">array</span> <span class="p">(</span>
          <span class="s2">"enabled_payments"</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span><span class="s2">"vtweb"</span><span class="p">),</span>
          <span class="s2">"credit_card_3d_secure"</span> <span class="o">=&gt;</span> <span class="kc">true</span><span class="p">,</span>
  <span class="p">}</span>

        <span class="p">),</span>
    <span class="s1">'transaction_details'</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
        <span class="s1">'order_id'</span> <span class="o">=&gt;</span> <span class="mi">8033</span><span class="p">,</span>
        <span class="s1">'gross_amount'</span> <span class="o">=&gt;</span> <span class="mi">10000</span>
        <span class="p">),</span>

    <span class="c1">//Set Custom Expiry
</span>    <span class="s1">'custom_expiry'</span> <span class="o">=&gt;</span> <span class="k">array</span> <span class="p">(</span> 
      <span class="s2">"expiry_duration"</span> <span class="o">=&gt;</span> <span class="mi">30</span><span class="p">,</span>
      <span class="s2">"unit"</span> <span class="o">=&gt;</span> <span class="s2">"minute"</span>
  <span class="p">)</span>
    <span class="p">);</span>

<span class="nv">$vtweb_url</span> <span class="o">=</span> <span class="nx">Veritrans_Vtweb</span><span class="o">::</span><span class="na">getRedirectionUrl</span><span class="p">(</span><span class="nv">$transaction</span><span class="p">);</span>

<span class="o">...</span>

<span class="cp">?&gt;</span>
</code></pre>

    <div class="alert alert-info" role="alert">
      <p><span class="glyphicon glyphicon-info-sign" aria-hidden="true"></span>
  <span class="sr-only">Info:</span>
<strong>Info</strong>:<br /> Silahkan lihat <a href="../api/methods.html#Set-Custom-Expiry">API Documentation - Set Custom Expiry</a> untuk informasi lebih mengenai atribut JSON.</p>
    </div>
  </div>

  <div class="tab-pane" id="point-inquiry">

    <h2 id="transaksi-point">Transaksi Point</h2>

    <p>Transaksi point adalah transaksi di mana proses pembayaran tagihannya dapat menggunakan point reward dari kartu kredit baik secara keseluruhan ataupun sebagian. Untuk saat ini transaksi point hanya dapat digunakan dengan acquiring BNI dan menggunakan kartu kredit BNI (On Us).
<br /><br /></p>

    <h3 id="mendapatkan-informasi-point-yang-dapat-digunakan">Mendapatkan informasi point yang dapat digunakan</h3>

    <h4 id="proses-request-token">Proses Request token</h4>

    <p>Proses request token untuk transaksi point sama seperti proses token biasa.</p>

<pre><code class="highlight html"><span class="nt">&lt;script </span><span class="na">type=</span><span class="s">"text/javascript"</span><span class="nt">&gt;</span>

<span class="nx">$</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span>
  
  <span class="p">...</span>

  <span class="kd">var</span> <span class="nx">card</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(){</span>
    <span class="k">return</span> <span class="p">{</span>
      <span class="s1">'card_number'</span>   <span class="p">:</span> <span class="nx">$</span><span class="p">(</span><span class="s2">"#card-number"</span><span class="p">).</span><span class="nx">val</span><span class="p">(),</span>
      <span class="s1">'card_exp_month'</span>  <span class="p">:</span> <span class="nx">$</span><span class="p">(</span><span class="s2">"#card-expiry-month"</span><span class="p">).</span><span class="nx">val</span><span class="p">(),</span>
      <span class="s1">'card_exp_year'</span>   <span class="p">:</span> <span class="nx">$</span><span class="p">(</span><span class="s2">"#card-expiry-year"</span><span class="p">).</span><span class="nx">val</span><span class="p">(),</span>
      <span class="s1">'card_cvv'</span>      <span class="p">:</span> <span class="nx">$</span><span class="p">(</span><span class="s2">"#card-cvv"</span><span class="p">).</span><span class="nx">val</span><span class="p">(),</span>
      <span class="s1">'bank'</span>       <span class="p">:</span> <span class="s1">'bni'</span><span class="p">,</span>
      <span class="s1">'gross_amount'</span>   <span class="p">:</span> <span class="nx">$</span><span class="p">(</span><span class="s2">"#price"</span><span class="p">).</span><span class="nx">val</span><span class="p">(),</span> <span class="c1">// no decimal allowed for creditcard</span>
    <span class="p">}</span>
  <span class="p">};</span>

  <span class="p">...</span>

<span class="nt">&lt;/script&gt;</span>
</code></pre>

    <p>Hasil dari proses request token di atas adalah <code>token_id</code> yang digunakan untuk mendapatkan informasi point.<br /><br /></p>

    <h4 id="proses-inquiry-point">Proses inquiry point</h4>

    <p><code>GET https://api.veritrans.co.id/v2/point_inquiry/{token_id}</code>
<br /><br /></p>

    <p><strong>Respon Sukses</strong></p>

<pre><code class="highlight json"><span class="p">{</span>
    <span class="s2">"status_code"</span><span class="p">:</span> <span class="s2">"200"</span><span class="p">,</span>
    <span class="s2">"status_message"</span><span class="p">:</span> <span class="s2">"Success, Credit Card Point transaction is successful"</span><span class="p">,</span>
    <span class="s2">"transaction_time"</span><span class="p">:</span> <span class="s2">"2015-05-11 16:28:17"</span><span class="p">,</span>
    <span class="s2">"point_balance"</span><span class="p">:</span> <span class="mi">100000</span>
<span class="p">}</span>
</code></pre>

    <p>Hal penting dari informasi di atas adalah <code>point_balance</code> yang menyatakan bahwa customer memiliki sejumlah point yang dapat digunakan.</p>

    <p><br /></p>

    <p><strong>Respon Gagal</strong></p>

<pre><code class="highlight json"><span class="p">{</span>
    <span class="s2">"status_code"</span><span class="p">:</span> <span class="s2">"402"</span><span class="p">,</span>
    <span class="s2">"status_message"</span><span class="p">:</span> <span class="s2">"Your Credit Card is invalid for Point Transaction "</span>
<span class="p">}</span>
</code></pre>

<pre><code class="highlight json"><span class="p">{</span>
    <span class="s2">"status_code"</span><span class="p">:</span> <span class="s2">"400"</span><span class="p">,</span>
    <span class="s2">"status_message"</span><span class="p">:</span> <span class="s2">"Unavailable terminal id for NORMAL POINT PRE_AUTH_CAPTURE transaction"</span>
<span class="p">}</span>
</code></pre>

    <p>Kegagalan bisa disebabkan karena nomor kartu yang salah atau Merchant TID belum mendukung transaksi point.
<br /><br /></p>

    <h4 id="menggunakan-point-untuk-melakukan-pembayaran">Menggunakan point untuk melakukan pembayaran</h4>

    <p>Point balance yang anda miliki dapat digunakan untuk melakukan pembayaran, parameter yang perlu ditambahkan saat proses charge adalah <code>point_redeem_amount</code>. Contoh modifikasi script saat proses charge adalah sebagai berikut:</p>

<pre><code class="highlight php"><span class="cp">&lt;?php</span>
<span class="k">include_once</span><span class="p">(</span><span class="s1">'Veritrans.php'</span><span class="p">);</span>

<span class="o">...</span>

<span class="nv">$transaction_data</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span>
  <span class="s1">'payment_type'</span>      <span class="o">=&gt;</span> <span class="s1">'credit_card'</span><span class="p">,</span> 
  <span class="s1">'credit_card'</span>       <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">'token_id'</span>  <span class="o">=&gt;</span> <span class="nv">$token_id</span><span class="p">,</span>
    <span class="s1">'bank'</span>    <span class="o">=&gt;</span> <span class="s1">'bni'</span><span class="p">,</span>
    <span class="s1">'point_redeem_amount'</span> <span class="o">=&gt;</span> <span class="mi">10000</span> <span class="c1">// Tidak boleh melebihi point balance yang dimiliki
</span>    <span class="p">),</span>
  <span class="s1">'transaction_details'</span>   <span class="o">=&gt;</span> <span class="nv">$transaction_details</span><span class="p">,</span>
  <span class="s1">'customer_details'</span> <span class="o">=&gt;</span> <span class="nv">$customer_details</span><span class="p">,</span>
  <span class="p">);</span>

<span class="nv">$result</span> <span class="o">=</span> <span class="nx">Veritrans_VtDirect</span><span class="o">::</span><span class="na">charge</span><span class="p">(</span><span class="nv">$transaction_data</span><span class="p">);</span>

<span class="o">...</span>

<span class="cp">?&gt;</span>
</code></pre>

    <p><br /><br /></p>

    <div class="alert alert-info" role="alert">
      <p><span class="glyphicon glyphicon-info-sign" aria-hidden="true"></span>
  <span class="sr-only">Info:</span>
<strong>Notes</strong>:<br /><br /> * Transaksi point hanya tersedia untuk transaksi <em>On Us</em> BNI, yang berarti issuer == acquirer.<br />
* Parameter bank di credit_card atau token_request adalah opsional. Bila disertakan, nilai yang dapat digunakan hanya <code>BNI</code>.<br />
* Nominal pembayaran menggunakan point tidak boleh melebihi point balance yang dimiliki, Bila nominal redeem point lebih besar point balance, transaksi akan gagal.</p>
    </div>
  </div>
</div>


            <div class="pagination">
              <ul><li class="left">« Sebelumnya: <a href="integration.html">VT-Direct : Integrasi</a></li><li class="right">Selanjutnya: <a href="other_commands.html">VT-Direct : Perintah Lain</a> »</li></ul>
            </div>
          </div>
        </div><!--/span-->
      </div><!--/row-->
    </div><!--/.container-->

    <footer>
  <div class="container">
    <div class="row footer-content">
      <div class="col-lg-3 col-md-3 col-sm-4 col-xs-6">
        <h4 class="text-gray">Veritrans</h4>
        <ul>
          <li>
            <a href="https://www.veritrans.co.id/">Home</a>
          </li>
          <li>
            <a href="https://www.veritrans.co.id/payment_channels.html">Payment Channels</a>
          </li>
          <li>
            <a href="https://www.veritrans.co.id/product_pricing.html">Product &amp; Pricing</a>
          </li>
          <li>
            <a href="https://www.veritrans.co.id/promo.html">Promo</a>
          </li>
          <li>
            <a href="https://www.veritrans.co.id/case_study.html">Case Study</a>
          </li>
          <li>
            <a href="https://www.veritrans.co.id/aegis.html">Aegis</a>
          </li>
        </ul>
        <!-- <h4 class="text-gray">Shopping</h4>
        <ul>
          <li>
            <a href="event.html">Promo</a>
          </li>
          <li>
            <a href="directory.html">Directory</a>
          </li>
        </ul> -->
      </div>
      <div class="col-lg-2 col-md-3 col-sm-4 col-xs-6">
        <h4 class="text-gray">Devs</h4>
        <ul>
          <li>
            <a href="http://docs.veritrans.co.id">Documentations</a>
          </li>
          <li>
            <a href="#" data-toggle="modal" data-target="#underConstruction">Dev Notes</a>
          </li>
        </ul>
        <h4 class="text-gray about-footer">About</h4>
        <ul>
          <li>
            <a href="https://www.veritrans.co.id/about.html">Team</a>
          </li>
          <li>
            <a href="https://www.veritrans.co.id/career.html">Career</a>
          </li>
        </ul>
      </div>
      <div class="col-lg-2 col-md-3 col-sm-4 col-xs-6">
        <h4 class="text-gray">Help</h4>
        <ul>
          <li>
            <a href="https://blog.veritrans.co.id">Blog</a>
          </li>
          <li>
            <a href="http://support.veritrans.co.id">FAQ</a>
          </li>
          <li>
            <a href="https://www.veritrans.co.id/contact.html">Contact</a>
          </li>
          <li>
            <a href="https://www.veritrans.co.id/privacy_policy.html">Privacy Policy</a>
          </li>
        </ul>
      </div>
      <div class="col-lg-2 col-md-3 col-sm-4 col-xs-6 find-us-footer">
        <h4 class="text-gray">Find Us</h4>
        <ul>
          <li>
            <a href="https://www.facebook.com/veritransID">Facebook</a>
          </li>
          <li>
            <a href="https://twitter.com/veritransid">Twitter</a>
          </li>
          <li>
            <a href="https://instagram.com/veritransid">Instagram</a>
          </li>
          <li>
            <a href="https://www.linkedin.com/company/pt-midtrans">LinkedIn</a>
          </li>
          <li>
            <a href="https://www.youtube.com/channel/UCtPNqTFgR1aXpEFA9B_djnw">YouTube</a>
          </li>
        </ul>
      </div>
      <div class="col-lg-3 col-md-4 col-sm-6 col-xs-12">
        <h4 class="text-gray with-subtitle">
          Subscribe
        </h4>
        <small>
          tips &amp; berita terbaru seputar eCommerce
        </small>
        <div id="mc_embed_signup">
          <form action="//veritrans.us9.list-manage.com/subscribe/post?u=4ed5f88335112571098a4a51c&amp;id=12315939d2" method="post" id="mc-embedded-subscribe-form" name="mc-embedded-subscribe-form" class="validate" target="_blank" novalidate>
            <div id="mc_embed_signup_scroll">
              <div class="mc-field-group">
                  <input type="email" value="" name="EMAIL" class="required email search-input" id="mce-EMAIL" placeholder="EMAIL" pattern="/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/" required/>
              </div>
              <div id="mce-responses" class="clear">
                  <div class="response" id="mce-error-response" style="display:none"></div>
                  <div class="response" id="mce-success-response" style="display:none"></div>
            </div>   
              <div style="position: absolute; left: -5000px;"><input type="text" name="b_4ed5f88335112571098a4a51c_12315939d2" tabindex="-1" value=""></div>
              <div class="clear"><input type="submit" value="submit" name="subscribe" id="mc-embedded-subscribe" class="btn btn-search"/></div>
              </div>
          </form>
        </div>
      </div>
    </div>
    <div class="copyright text-center">
      <br/>
      &copy; 2015 PT Midtrans
      <br/>
      <br/>
    </div>
  </div>
</footer>
<div class="modal fade" id="underConstruction" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        <h4 class="modal-title text-center" id="myModalLabel">Sorry!</h4>
      </div>
      <div class="modal-body text-center">
        We're still building this web page.<br/>
        Be the first to know when it's done by <a class="dotted" href="https://veritrans.us9.list-manage.com/subscribe/post?u=4ed5f88335112571098a4a51c&id=12315939d2">subscribing</a> to our newsletter.
      </div>
    </div>
  </div>
</div>
<script language="javascript" type="text/javascript">
  function popitup(url) {
    newwindow=window.open(url,'name','height=430,width=540');
    if (window.focus) {newwindow.focus()}
    return false;
  }
</script>
    <script src="../../javascripts/bootstrap.min.js" type="text/javascript"></script>
<script src="../../javascripts/dropdown.js" type="text/javascript"></script>
<script src="../../javascripts/tab_custom.js" type="text/javascript"></script>
<script src="../../javascripts/useragent.js" type="text/javascript"></script>
<script src="../../javascripts/mixpanel_tracking.js" type="text/javascript"></script>
    
    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-32232768-12', 'auto');
      ga('send', 'pageview');
    </script>
    <script>
      $(document).ready(function() {
        $('[data-toggle=offcanvas]').click(function() {
          $('.row-offcanvas').toggleClass('active');
        });
        $(function () {
          $('[data-toggle="tooltip"]').tooltip();
        });

        mixpanel.track('id docs page viewed',{
          'url' : location.href
        });
      });
    </script>
  </body>
</html><!-- Veritrans.3.0-20150423 -->
