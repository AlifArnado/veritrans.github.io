<!DOCTYPE html>
<html lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Veritrans API Documentation. Payment Gateway Indonesia, transaksi online lebih aman, mudah, cepat! Veritrans memberi solusi sistem payment gateway terbaik untuk e-commerce di Indonesia.">
    <meta name="keywords" content="Veritrans, Veritrans Indonesia, payment gateway indonesia, Pembayaran Online Indonesia, online payment Indonesia, sistem transaksi online"> 
    <link href="../../stylesheets/style.css" media="screen" rel="stylesheet" type="text/css" />
    <title>Docs - Veritrans Indonesia</title>
		<link rel="shortcut icon" href="/favicon.ico"/>

    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
      <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
    <![endif]-->
  </head>

  <body>
    <div class="header navbar navbar-default navbar-fixed-top">
      <div class="custom-container">
        <div class="col-md-3 navbar-header">
          <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <h2 class="logo"><a href="index.html" title="Home"><span>Veritrans</span></a></h2>
        </div>
        <div class="navbar-collapse collapse">
          <ul class="nav navbar-nav">
            <li><a href="http://veritrans.co.id/whatwedo.html" title="What We Do">what we do</a></li>
            <li><a href="http://veritrans.co.id/index.html#vt-products" title="Our Online Payment Products">products</a></li>
            <li><a href="http://veritrans.co.id/pricing.html" title="Check for Our Pricing">pricing</a></li>

            <li class="dropdown">
              <a href="" class="dropdown-toggle" data-toggle="dropdown">about <b class="caret"></b></a>
              <ul class="dropdown-menu">
                <li><a href="http://veritrans.co.id/about.html" title="About Veritrans">about us</a></li>
                <li><a href="http://docs.veritrans.co.id/faq/general.html" title="FAQ & How To">FAQ</a></li>
                <li><a href="http://veritrans.co.id/career.html" title="Career at Veritrans">career</a></li>
                <li><a href="http://veritrans.co.id/contact.html" title="Contact Us">contact</a></li>
              </ul>
            </li>
            <!-- <li><a href="http://docs.veritrans.co.id" title="Product Documentations">docs</a></li> -->
            <li class="dropdown">
              <a href="#" class="dropdown-toggle" data-toggle="dropdown">developer <b class="caret"></b></a>
              <ul class="dropdown-menu">
                <li><a href="http://veritrans.co.id/sandbox.html">sandbox</a></li>
                <li><a href="http://docs.veritrans.co.id/">documentation</a></li>
              </ul>
            </li>
            <li class="dropdown">
              <a href="#" class="dropdown-toggle" data-toggle="dropdown">community <b class="caret"></b></a>
              <ul class="dropdown-menu">
                <li><a href="http://veritrans.co.id/festivalbelanja.html" title="Festival Belanja Veritrans" target="_blank">events</a></li>
                <li><a href="http://blog.veritrans.co.id" title="Blog, News and Press Release">blog</a></li>
                <li><a href="http://veritrans.co.id/portfolio.html" title="Our Clients">our clients</a></li>
                <li><a href="http://veritrans.co.id/why-veritrans.html" title="Why Veritrans">why veritrans</a></li>
              </ul>
            </li>
          </ul>
          <ul class="nav navbar-nav navbar-right register-login">
            <li class="pull-left"><a href="https://my.veritrans.co.id/register" class="register">register</a></li>
            <li class="pull-left"><a href="https://my.veritrans.co.id/login">login</a></li>
          </ul>
        </div><!--/.nav-collapse -->
      </div>
    </div>

    <div class="custom-container">
      <div class="row row-offcanvas row-offcanvas-right">
        <div class="col-xs-6 col-sm-3 sidebar-offcanvas" id="sidebar" role="navigation">
	<div class="documentation-sidebar">
		<div class="docs-logo">
			<span>DOCS</span>
		</div>
		<div class="language-toggle"> <a href="../../vtweb/get_redirect_url.html">English</a> / Bahasa Indonesia</div>
		<ul class="sidebar">
			<li><a class="parent">Payment API</a>
				<ul class="child-menu">
					
					<li class=""><a href="../payment_api/introduction.html">Perkenalan</a></li>
					
					<li class=""><a href="../payment_api/payment_type.html">Jenis Pembayaran</a></li>
					
					<li class=""><a href="../payment_api/payment_method.html">Cara Pembayaran</a></li>
					
				</ul>
			</li>
			<li><a class="parent">VT-Web</a>
				<ul class="child-menu">
					
					<li class=""><a href="introduction.html">Perkenalan</a></li>
					
					<li class=""><a href="getting_started.html">Langkah Awal</a></li>
					
					<li class="active"><a href="get_redirect_url.html">Mendapatkan Redirect URL</a></li>
					
					<li class=""><a href="redirect.html">Redirect</a></li>
					
					<li class=""><a href="handle_notification.html">Menangani Notifikasi</a></li>
					
					<li class=""><a href="going_live.html">Going Live</a></li>
					
					<li class=""><a href="other_features.html">Fitur Lain</a></li>
					
					<li class=""><a href="payment_options.html">Pilihan Pembayaran</a></li>
					
					<li class=""><a href="sample_code.html">Kode Contoh</a></li>
					
					<li class=""><a href="status_code.html">Kode Status</a></li>
					
				</ul>
			</li>
			<li><a class="parent">VT-Direct</a>
				<ul class="child-menu">
					
					<li class=""><a href="../vtdirect/introduction.html">Perkenalan</a></li>
					
					<li class=""><a href="../vtdirect/getting_started.html">Langkah Awal</a></li>
					
					<li class=""><a href="../vtdirect/integration.html">Integrasi</a></li>
					
					<li class=""><a href="../vtdirect/going_live.html">Going Live</a></li>
					
					<li class=""><a href="../vtdirect/other_commands.html">Perintah Lain</a></li>
					
					<li class=""><a href="../vtdirect/other_features.html">Fitur Lain</a></li>
					
					<li class=""><a href="../vtdirect/payment_options.html">Pilihan Pembayaran</a></li>
					
					<li class=""><a href="../vtdirect/examples.html">Contoh</a></li>
					
					<li class=""><a href="../vtdirect/status_code.html">Kode Status</a></li>
					
				</ul>
			</li>
			<li><a class="parent">Sandbox</a>
				<ul class="child-menu">
					
					<li class=""><a href="../sandbox/difference.html">Perbedaan Sandbox dan Production</a></li>
					
					<li class=""><a href="../sandbox/testing_vtweb.html">Pengujian VTWeb di Sandbox</a></li>
					
					<li class=""><a href="../sandbox/card_list.html">Kartu Kredit untuk Testing</a></li>
					
				</ul>
			</li>
			<li><a class="parent">How to</a>
				<ul class="child-menu">
					
					<li class=""><a href="../howto/fds.html">Sistem Deteksi Fraud</a></li>
					
					<li class=""><a href="../howto/cancel.html">Pembatalan Transaksi</a></li>
					
				</ul>
			</li>
			<li><a class="parent">FAQ</a>
				<ul class="child-menu">
					
					<li class=""><a href="../faq/general.html">Informasi Umum</a></li>
					
					<li class=""><a href="../faq/pricing.html">Biaya</a></li>
					
					<li class=""><a href="../faq/fraud_and_security.html">Fraud dan Security</a></li>
					
					<li class=""><a href="../faq/integration.html">Integrasi</a></li>
					
					<li class=""><a href="../faq/account_management.html">Manajemen Akun</a></li>
					
					<li class=""><a href="../faq/fds_response.html">Respon Fraud Detection System (FDS)</a></li>
					
				</ul>
			</li>
		</ul>
	</div>
</div><!--/span-->
        <div class="col-xs-12 col-sm-9" id="bodier">
          <p class="pull-right visible-xs">
            <button type="button" class="btn btn-primary btn-xs" data-toggle="offcanvas">Menu</button>
          </p>
          <div class="id-vtweb-get-redirect-url">
            <h2 id="mendapatkan-redirect-url">Mendapatkan Redirect URL</h2>
<p>Pada tahap ini merchant akan mendapatkan URL halaman pembayaran VT-Web untuk suatu transaksi. Untuk mendapatkan URL tersebut, merchant perlu mengirimkan request ke Veritrans dengan spesifikasi sebagai berikut:</p>
<table>
	<tr>
		<td>URL endpoint</td>
		<td>/v2/charge</td>
	</tr>
	<tr>
		<td>Header</td>
		<td>
			Content-Type: application/json<br />
			Accept: application/json
		</td>
	</tr>
	<tr>
		<td>HTTP Method</td>
		<td>POST</td>
	</tr>
	<tr>
		<td>Authorization</td>
		<td>Basic Base64(<code>server_key</code>:)</td>
	</tr>
</table>

<h4 id="transaksi-kartu-kredit-menggunakan-vt-web">Transaksi kartu kredit menggunakan VT-WEB</h4>
<p>Message yang dikirim saat mengirim request tersebut adalah data detail transaksi dalam format JSON. Contoh:  </p>

<pre class="highlight json"><span class="p">{</span><span class="w">
    </span><span class="s2">&quot;payment_type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;vtweb&quot;</span><span class="p">,</span><span class="w">
    </span><span class="s2">&quot;vtweb&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">&quot;enabled_payments&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="s2">&quot;credit_card&quot;</span><span class="w">
        </span><span class="p">]</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">&quot;transaction_details&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">&quot;order_id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;order45&quot;</span><span class="p">,</span><span class="w">
        </span><span class="s2">&quot;gross_amount&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">200000</span><span class="w">
    </span><span class="p">},</span><span class="w">
</span><span class="err">}</span><span class="w">
</span></pre>
<p>Kode diatas adalah format default JSON untuk melakukan transaksi di Payment API.</p>

<p>Keterangan objek <code>JSON Request</code>:</p>

<table>
    <thead>
        <tr>
            <th>Atribut JSON</th>
            <th>Tipe Data</th>
            <th>Required</th>
            <th>Keterangan</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td><code>payment_type</code></td>
            <td>String</td>
            <td>Ya</td>
            <td>Pilihan tipe pembayaran yang akan digunakan. Contoh: <br />
                <ul>
                    <li>Dengan VT-Direct:
                        <ul>
                            <li>Isi “CREDIT_CARD” untuk pembayaran melalui VT-Direct.</li>
                        </ul>
                    </li>
                    <li>Dengan VT-WEB:
                        <ul>
                            <li>Isi “VTWEB” untuk pembayaran melalui VT-Web</li>
                        </ul>
                    </li>
                </ul>
            </td>
        </tr>
        <tr>
            <td><code>transaction_details</code></td>
            <td>JSON Object</td>
            <td>Ya</td>
            <td>Detail data transaksi yang akan dibayar oleh customer</td>
        </tr>
        <tr>
            <td><code>item_details</code></td>
            <td>JSON Array</td>
            <td>Ya</td>
            <td>Detail item pembelanjaan yang akan dibayar oleh customer</td>
        </tr>
        <tr>
            <td><code>customer_details</code></td>
            <td>JSON Object</td>
            <td>Ya</td>
            <td>Detail data customer yang melakukan pembayaran</td>
        </tr>
    </tbody>
</table>

<p>Keterangan Objek <code>transaction_details</code>:</p>

<table>
    <thead>
        <tr>
            <th>Atribut JSON</th>
            <th>Tipe Data</th>
            <th>Required</th>
            <th>Keterangan</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td><code>order_id</code></td>
            <td>String(50)</td>
            <td>Ya</td>
            <td>ID pembayaran customer</td>
        </tr>
        <tr>
            <td><code>gross_amount</code></td>
            <td>Long</td>
            <td>Ya</td>
            <td>Total harga transaksi pembayaran yang akan dibayar oleh customer</td>
        </tr>
    </tbody>
</table>

<p>Keterangan Objek <code>item_details</code>:</p>

<table>
    <thead>
        <tr>
            <th>Atribut JSON</th>
            <th>Tipe Data</th>
            <th>Required</th>
            <th>Keterangan</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td><code>id</code></td>
            <td>String(50)</td>
            <td>Ya</td>
            <td>ID barang</td>
        </tr>
        <tr>
            <td><code>price</code></td>
            <td>Long</td>
            <td>Ya</td>
            <td>Harga barang</td>
        </tr>
        <tr>
            <td><code>quantity</code></td>
            <td>Integer</td>
            <td>Ya</td>
            <td>Jumlah barang</td>
        </tr>
        <tr>
            <td><code>name</code></td>
            <td>String(50)</td>
            <td>Ya</td>
            <td>Nama barang</td>
        </tr>
    </tbody>
</table>

<p>Keterangan Objek <code>customer_details</code>:</p>

<table>
    <thead>
        <tr>
            <th>Atribut JSON</th>
            <th>Tipe Data</th>
            <th>Required</th>
            <th>Keterangan</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td><code>first_name</code></td>
            <td>String(20)</td>
            <td>Ya</td>
            <td>Nama depan customer</td>
        </tr>
        <tr>
            <td><code>last_name</code></td>
            <td>String(20)</td>
            <td>Dianjurkan</td>
            <td>Nama belakang customer</td>
        </tr>
        <tr>
            <td><code>email</code></td>
            <td>String(45)</td>
            <td>Ya</td>
            <td>Email customer.<br />
                Note: terdapat validasi untuk mengecek format email yang valid</td>
        </tr>
        <tr>
            <td><code>phone</code></td>
            <td>String(19)</td>
            <td>Ya</td>
            <td>Nomor telepon customer. <br />
                Note: Panjang minimum 5, hanya bisa menerima numeric dan simbol +, -, (spasi), dan (). Untuk simbol + sendiri hanya bisa ditempatkan di paling depan.</td>
        </tr>
        <tr>
            <td><code>billing_address</code></td>
            <td>JSON Object</td>
            <td>Dianjurkan</td>
            <td>Billing address customer</td>
        </tr>
        <tr>
            <td><code>shipping_address</code></td>
            <td>JSON Object</td>
            <td>Dianjurkan</td>
            <td>Shipping address customer</td>
        </tr>
    </tbody>
</table>

<p>Keterangan Objek <code>billing_address</code>:</p>

<table>
    <thead>
        <tr>
            <th>Atribut JSON</th>
            <th>Tipe Data</th>
            <th>Required</th>
            <th>Keterangan</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td><code>first_name</code></td>
            <td>String(20)</td>
            <td>Dianjurkan</td>
            <td>Nama depan billing address. <br />
                Note : Tidak perlu diisi apabila isinya sama dengan customer details - first_name</td>
        </tr>
        <tr>
            <td><code>last_name</code></td>
            <td>String(20)</td>
            <td>Dianjurkan</td>
            <td>Nama belakang billing address</td>
        </tr>
        <tr>
            <td><code>address</code></td>
            <td>String(200)</td>
            <td>Dianjurkan</td>
            <td>Alamat billing address</td>
        </tr>
        <tr>
            <td><code>city</code></td>
            <td>String(20)</td>
            <td>Dianjurkan</td>
            <td>Kota billing address</td>
        </tr>
        <tr>
            <td><code>postal_code</code></td>
            <td>String(10)</td>
            <td>Dianjurkan</td>
            <td>Kode pos shipping address <br />
                Note: format alpha-numeric, bisa menerima “-” dan spasi</td>
        </tr>
        <tr>
            <td><code>phone</code></td>
            <td>String(19)</td>
            <td>Dianjurkan</td>
            <td>Nomor telpon billing address. <br />
                Note : Tidak perlu diisi apabila isinya sama dengan customer details - phone. Panjang minimum 5, hanya bisa menerima numeric dan simbol +, -, (spasi), dan (). Untuk simbol + sendiri hanya bisa ditempatkan di paling depan.</td>
        </tr>
        <tr>
            <td><code>country_code</code></td>
            <td>String(10)</td>
            <td>Dianjurkan</td>
            <td>ID negara (contoh: IDN)</td>
        </tr>
    </tbody>
</table>

<p>Keterangan Objek <code>shipping_address</code>:</p>

<table>
    <thead>
        <tr>
            <th>Atribut JSON</th>
            <th>Tipe Data</th>
            <th>Required</th>
            <th>Keterangan</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td><code>first_name</code></td>
            <td>String(20)</td>
            <td>Dianjurkan</td>
            <td>Nama depan shipping address</td>
        </tr>
        <tr>
            <td><code>last_name</code></td>
            <td>String(20)</td>
            <td>Dianjurkan</td>
            <td>Nama belakang shipping address</td>
        </tr>
        <tr>
            <td><code>address</code></td>
            <td>String(200)</td>
            <td>Dianjurkan</td>
            <td>Alamat shipping address</td>
        </tr>
        <tr>
            <td><code>city</code></td>
            <td>String(20)</td>
            <td>Dianjurkan</td>
            <td>Kota shipping address</td>
        </tr>
        <tr>
            <td><code>postal_code</code></td>
            <td>String(10)</td>
            <td>Opsional, kecuali untuk tipe pembayaran menggunakan kartu kredit, atribut ini diwajibkan</td>
            <td>Kode pos shipping address <br />
                Note: format alpha-numeric, bisa menerima “-” dan spasi</td>
        </tr>
        <tr>
            <td><code>phone</code></td>
            <td>String(19)</td>
            <td>Dianjurkan</td>
            <td>Nomor telpon billing address. <br />
                Note : Tidak perlu diisi apabila isinya sama dengan customer details - phone. Panjang minimum 5, hanya bisa menerima numeric dan simbol +, -, (spasi), dan (). Untuk simbol + sendiri hanya bisa ditempatkan di paling depan.</td>
        </tr>
        <tr>
            <td><code>country_code</code></td>
            <td>String(10)</td>
            <td>Dianjurkan</td>
            <td>ID negara (contoh: IDN)</td>
        </tr>
    </tbody>
</table>

<h4 id="contoh-implementasi">Contoh Implementasi</h4>
<p>Berikut ini adalah contoh implementasi request untuk mendapatkan redirect URL ke halaman VT-Web ini dalam PHP:</p>

<pre class="highlight php"><span class="cp">&lt;?php</span>
<span class="c1">// TODO: change with your actual server_key that can be found on Merchant Administration Portal (MAP)
</span><span class="nv">$server_key</span> <span class="o">=</span> <span class="s2">&quot;1a794e3f-f023-4cda-92b7-dcb7a22a46ff&quot;</span><span class="p">;</span>

<span class="c1">// TODO : change to production URL for your production Environment
// sandbox/development/testing environment:
</span><span class="nv">$endpoint</span> <span class="o">=</span> <span class="s2">&quot;https://api.sandbox.veritrans.co.id/v2/charge&quot;</span><span class="p">;</span>
<span class="c1">// production environment:
//$endpoint = &quot;https://api.veritrans.co.id/v2/charge&quot;;
</span>

<span class="nv">$transaction_details</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span>
	<span class="s1">'order_id'</span> 		<span class="o">=&gt;</span> <span class="nb">uniqid</span><span class="p">(),</span>
	<span class="s1">'gross_amount'</span> 	<span class="o">=&gt;</span> <span class="mi">200000</span>
<span class="p">);</span>

<span class="c1">// Data yang akan dikirim untuk request redirect_url.
// Uncomment 'credit_card_3d_secure' =&gt; true jika transaksi ingin diproses dengan 3DSecure.
</span><span class="nv">$transaction_data</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span>
	<span class="s1">'payment_type'</span> 			<span class="o">=&gt;</span> <span class="s1">'vtweb'</span><span class="p">,</span> 
	<span class="s1">'vtweb'</span> 			<span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
		<span class="s1">'enabled_payments'</span> 	<span class="o">=&gt;</span> <span class="p">[</span><span class="s1">'credit_card'</span><span class="p">]</span>
	<span class="c1">//'credit_card_3d_secure'      =&gt; true,
</span>    <span class="p">),</span>
	<span class="s1">'transaction_details'</span> 	<span class="o">=&gt;</span> <span class="nv">$transaction_details</span><span class="p">,</span>
	<span class="s1">'item_details'</span> 			<span class="o">=&gt;</span> <span class="nv">$items</span><span class="p">,</span>
	<span class="s1">'customer_details'</span> 		<span class="o">=&gt;</span> <span class="nv">$customer_details</span>
<span class="p">);</span>

<span class="nv">$json_transaction_data</span> <span class="o">=</span> <span class="nb">json_encode</span><span class="p">(</span><span class="nv">$transaction_data</span><span class="p">);</span>

<span class="c1">// Mengirimkan request dengan menggunakan CURL
// HTTP METHOD : POST
// Header:
//	Content-Type : application/json
//	Accept: application/json
// 	Basic Auth using server_key
</span><span class="nv">$request</span> <span class="o">=</span> <span class="nb">curl_init</span><span class="p">(</span><span class="nv">$endpoint</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$request</span><span class="p">,</span> <span class="nx">CURLOPT_CUSTOMREQUEST</span><span class="p">,</span> <span class="s2">&quot;POST&quot;</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$request</span><span class="p">,</span> <span class="nx">CURLOPT_POSTFIELDS</span><span class="p">,</span> <span class="nv">$json_transaction_data</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$request</span><span class="p">,</span> <span class="nx">CURLOPT_RETURNTRANSFER</span><span class="p">,</span> <span class="kc">true</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$request</span><span class="p">,</span> <span class="nx">CURLOPT_SSL_VERIFYPEER</span><span class="p">,</span> <span class="kc">false</span><span class="p">);</span>
<span class="nv">$auth</span> <span class="o">=</span> <span class="nb">sprintf</span><span class="p">(</span><span class="s1">'Authorization: Basic %s'</span><span class="p">,</span> <span class="nb">base64_encode</span><span class="p">(</span><span class="nv">$server_key</span><span class="o">.</span><span class="s1">':'</span><span class="p">));</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$request</span><span class="p">,</span> <span class="nx">CURLOPT_HTTPHEADER</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">'Content-Type: application/json'</span><span class="p">,</span>
	<span class="s1">'Accept: application/json'</span><span class="p">,</span>
	<span class="nv">$auth</span> 
	<span class="p">)</span>
<span class="p">);</span>

<span class="c1">// Excute request and parse the response
</span><span class="nv">$response</span> <span class="o">=</span> <span class="nb">json_decode</span><span class="p">(</span><span class="nb">curl_exec</span><span class="p">(</span><span class="nv">$request</span><span class="p">));</span>

<span class="c1">// Check Response
</span><span class="k">if</span><span class="p">(</span><span class="nv">$response</span><span class="o">-&gt;</span><span class="na">status_code</span> <span class="o">==</span> <span class="s2">&quot;201&quot;</span><span class="p">)</span>
<span class="p">{</span>
	<span class="c1">//success
</span>	<span class="c1">//redirect to vtweb payment page
</span>	<span class="nb">header</span><span class="p">(</span><span class="s2">&quot;Location: &quot;</span><span class="o">.</span><span class="nv">$response</span><span class="o">-&gt;</span><span class="na">redirect_url</span><span class="p">);</span>
<span class="p">}</span>
<span class="k">else</span>
<span class="p">{</span>
	<span class="c1">//error
</span>	<span class="k">echo</span> <span class="s2">&quot;Terjadi kesalahan pada data transaksi yang dikirim.&lt;br /&gt;&quot;</span><span class="p">;</span>
	<span class="k">echo</span> <span class="s2">&quot;Status message: [&quot;</span><span class="o">.</span><span class="nv">$response</span><span class="o">-&gt;</span><span class="na">status_code</span><span class="o">.</span><span class="s2">&quot;] &quot;</span><span class="o">.</span><span class="nv">$response</span><span class="o">-&gt;</span><span class="na">status_message</span><span class="p">;</span>

	<span class="k">echo</span> <span class="s2">&quot;&lt;h3&gt;Response:&lt;/h3&gt;&quot;</span><span class="p">;</span>
	<span class="nb">var_dump</span><span class="p">(</span><span class="nv">$response</span><span class="p">);</span>
<span class="p">}</span>

<span class="cp">?&gt;</span>
</pre>

<h3 id="success-response">Success Response</h3>
<p>Jika sukses, maka request di atas akan mendapatkan response dari Veritrans berupa JSON seperti berikut ini:  </p>

<pre class="highlight json"><span class="p">{</span><span class="w"> 
	</span><span class="s2">&quot;redirect_url&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;https://vtweb.sandbox.veritrans.co.id/vtweb/ce72694f-3284-408d-9198-bc0ac269df2d&quot;</span><span class="p">,</span><span class="w"> 
	</span><span class="s2">&quot;status_code&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;201&quot;</span><span class="p">,</span><span class="w">
	</span><span class="s2">&quot;status_message&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;OK, success do VTWeb transaction, please go to redirect_url&quot;</span><span class="w"> 
</span><span class="p">}</span><span class="w">
</span></pre>

<h3 id="error-response">Error Response</h3>
<p>Jika ada kesalahan yang menyebabkan kegagalan, misalnya order_id sudah pernah dibayar, maka request di atas akan mendapatkan response seperti berikut ini:  </p>

<pre class="highlight json"><span class="p">{</span><span class="w">
	</span><span class="s2">&quot;status_code&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;406&quot;</span><span class="p">,</span><span class="w"> 
	</span><span class="s2">&quot;status_message&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Merchant charges the same order id more than once or transaction has been paid&quot;</span><span class="w"> 
</span><span class="p">}</span><span class="w">
</span></pre>
<p>Status code lain beserta keterangannya yang mungkin didapatkan saat mengirim request dapat dilihat di bagian Status Code dari dokumen ini.</p>


			<div class="pagination">
				<ul><li class="left">« Previous: <a href="getting_started.html">VT-Web: Langkah Awal</a></li><li class="right">Next: <a href="redirect.html">VT-Web: Redirect</a> »</li></ul>
			</div>
          </div>
        </div><!--/span-->
      </div><!--/row-->

    </div><!--/.container-->
    <div class="custom-container footer">
  <div class="wrapper">
    <div class="row">
      <div class="col-md-12 footer-nav">
        <div class="content text-center">
          <a href="https://www.veritrans.co.id" title="">Home</a> <span class="divider">|</span>
          <a href="https://www.veritrans.co.id/whatwedo.html" title="">What We Do</a> <span class="divider">|</span>
          <a href="https://www.veritrans.co.id/pricing.html" title="">Pricing</a> <span class="divider">|</span>
          <a href="https://www.veritrans.co.id/about.html" title="">About</a> <span class="divider">|</span>
          <a href="http://blog.veritrans.co.id/" title="">Blog</a> <span class="divider">|</span>
          <a href="https://www.veritrans.co.id/career.html" title="">Career</a> <span class="divider">|</span>
          <a href="https://www.veritrans.co.id/contact.html" title="">Contact</a> <span class="divider">|</span>
          <a href="http://docs.veritrans.co.id/" title="">Docs</a> <span class="divider">|</span>
          <a href="https://www.veritrans.co.id/press.html" title="">Press</a> <span class="divider">|</span>
          <a href="https://www.veritrans.co.id/privacy.html" title="">Privacy Policy</a>
        </div>
      </div>
    </div>
    <div class="row">
      <div class="col-md-12 copyright">
        <div class="content text-center">
          <span>©2014 PT. Midtrans (Veritrans Indonesia). All Rights Reserved</span>
        </div>
      </div>
    </div>
  </div>
</div>

    <script src="../../javascripts/jquery-1.10.2.min.js" type="text/javascript"></script>
<script src="../../javascripts/bootstrap.min.js" type="text/javascript"></script>
    <script>
    $(document).ready(function() {
      $('[data-toggle=offcanvas]').click(function() {
        $('.row-offcanvas').toggleClass('active');
      });
    });
    </script>
  </body>
</html>
