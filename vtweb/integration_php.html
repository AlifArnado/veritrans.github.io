<!DOCTYPE html>
<html lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Veritrans API Documentation. Payment Gateway Indonesia, transaksi online lebih aman, mudah, cepat! Veritrans memberi solusi sistem payment gateway terbaik untuk e-commerce di Indonesia.">
    <meta name="keywords" content="Veritrans, Veritrans Indonesia, payment gateway indonesia, Pembayaran Online Indonesia, online payment Indonesia, sistem transaksi online"> 
    <meta name="google-site-verification" content="uUeOdHBzl0nbyvdyeRHKGIHPxnIpJDTTnWv-QfgkxRs" />
    <meta name="msvalidate.01" content="846642D2B12ABB4747D70776D2056651">
    
    <link href="../stylesheets/style.css" media="screen" rel="stylesheet" type="text/css" />
<link href="../stylesheets/new.css" media="screen" rel="stylesheet" type="text/css" />
    <link href='https://fonts.googleapis.com/css?family=Lato:100,300,400,700' rel='stylesheet' type='text/css'>
    <title>Docs - Veritrans Indonesia</title>
		<link rel="icon" type="image/x-icon" href="/favicon/veritrans.ico" />
    
    <!-- Start Alexa Certify Javascript -->
    <script type="text/javascript">
    _atrk_opts = { atrk_acct:"0VtQk1a4SBe05T", domain:"veritrans.co.id",dynamic: true};
    (function() { var as = document.createElement('script'); as.type = 'text/javascript'; as.async = true; as.src = "https://d31qbv1cthcecs.cloudfront.net/atrk.js"; var s = document.getElementsByTagName('script')[0];s.parentNode.insertBefore(as, s); })();
    </script>
    <noscript><img src="https://d5nxst8fruw4z.cloudfront.net/atrk.gif?account=0VtQk1a4SBe05T" style="display:none" height="1" width="1" alt="" /></noscript>
    <!-- End Alexa Certify Javascript -->

    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
      <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
    <![endif]-->
  </head>

  <body>
    <nav class="navbar navbar-fixed-top with-shadow">
  <div class="container">
    <!-- Brand and toggle get grouped for better mobile display -->
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#main-navbar">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand logo" href="https://www.veritrans.co.id/"></a>
    </div>

    <!-- Collect the nav links, forms, and other content for toggling -->
    <div class="collapse navbar-collapse" id="main-navbar">
      <ul class="nav navbar-nav">
        <li><a class="uppercase" href="https://www.veritrans.co.id/payment_channels.html">Payments</a></li>
        <li><a class="uppercase" href="https://www.veritrans.co.id/pricing.html">Product</a></li>

        <li><a class="uppercase" href="https://www.veritrans.co.id/event.html">Promo</a></li>
        <!-- <li>
          <a class="uppercase" href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">Shopping <span class="caret"></span></a>
          <ul class="dropdown-menu" role="menu">
            <li><a class="uppercase" href="event.html">Event &amp; Promo</a></li>
            <li><a class="uppercase" href="directory.html">Directory</a></li>
          </ul>
        </li> -->
      </ul>

      <ul class="nav navbar-nav navbar-right">
        <li class="active">
          <a href="http://docs.veritrans.co.id">Docs</a>
        </li>
        <li>
          <a href="https://www.veritrans.co.id/contact.html">Contact</a>
        </li>
        <li>
          <a href="https://blog.veritrans.co.id">Blog</a>
        </li>
        <li>
          <a id="logInHeader" class="uppercase text-bold" href="#" data-toggle="modal" data-target="#login-modal">
            Log In
          </a>
        </li>
        <li>
          <a id="signUpHeader" href="https://my.sandbox.veritrans.co.id/register" class="btn btn-yellow uppercase">
             Sign Up
          </a>
        </li>
      </ul>
    </div><!-- /.navbar-collapse -->
  </div><!-- /.container-fluid -->
</nav>
<div class="nav-overlay visible-sm visible-xs"></div>

<!-- LOGIN MODAL -->
<div id="login-modal" class="modal fade">
  <div class="modal-dialog modal-lg">
    <div class="modal-content">
      <div class="modal-body">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        <div class="row">
          <div class="col-sm-6 col-xs-12">
            <div class="production-box">
              <!-- <img src="images/banner-about.png"> -->
              <h5>PRODUCTION</h5>
              <p class="text-left">Jika Anda sudah terintegrasi dengan Veritrans. Log In untuk masuk ke Merchant Administration Portal Anda.</p>
              <a class="btn btn-trans-blue btn-med" href="https://my.veritrans.co.id">LOG IN<span class="arr-out">→</span></a>
            </div>
          </div>
          <div class="col-sm-6 col-xs-12">
            <div class="sandbox-box">
              <!-- <img src="images/banner-sandbox.png"> -->
              <h5>SANDBOX</h5>
              <p>Environment testing Veritrans untuk keperluan development dan uji coba Merchant Administration Portal. <a href="https://my.sandbox.veritrans.co.id" class="text-blue">Log In<span class="arr-out">→</span></a></p>
            </div>
          </div>
        </div>
        <br/><br/>
        <div class="row">
          <div class="col-xs-12 text-left">
            <div class="register-box">
              Belum terdaftar? <a href="https://my.sandbox.veritrans.co.id/register" class="text-blue signup-modal">Sign Up<span class="arr-out">→</span></a>
            </div>
          </div>
        </div>  
      </div>
    </div>
  </div>
</div>

    <div class="container">
      <div class="row row-offcanvas row-offcanvas-right">
        <div class="col-xs-6 col-sm-3 sidebar-offcanvas" id="sidebar" role="navigation">
    <div class="documentation-sidebar">
        <div class="docs-logo">
            <span>DOCS</span>
        </div>
        <div class="language-toggle"> English / <a href="../id/vtweb/integration_php.html">Bahasa Indonesia</a></div>
        <ul class="sidebar">
            
                <li>
                    
                        <a class="parent" href="../welcome/welcome.html">Welcome</a>
                    
                </li>
            
                <li>
                    
                        <a class="parent">VT-Web</a>
                        <b class="caret"></b>
                        <ul class="child-menu">
                            
                            <li class=""><a href="introduction.html">Introduction</a></li>
                            
                            <li class=""><a href="getting_started.html">Getting Started</a></li>
                            
                            <li class="active"><a href="integration.html">Integration</a></li>
                            
                            <li class=""><a href="other_features.html">Other Features</a></li>
                            
                            <li class=""><a href="going_live.html">Going Live</a></li>
                            
                        </ul>
                    
                </li>
            
                <li>
                    
                        <a class="parent">VT-Direct</a>
                        <b class="caret"></b>
                        <ul class="child-menu">
                            
                            <li class=""><a href="../vtdirect/introduction.html">Introduction</a></li>
                            
                            <li class=""><a href="../vtdirect/getting_started.html">Getting Started</a></li>
                            
                            <li class=""><a href="../vtdirect/integration.html">Integration</a></li>
                            
                            <li class=""><a href="../vtdirect/other_features.html">Other Features</a></li>
                            
                            <li class=""><a href="../vtdirect/other_commands.html">Other Commands</a></li>
                            
                            <li class=""><a href="../vtdirect/going_live.html">Going Live</a></li>
                            
                        </ul>
                    
                </li>
            
                <li>
                    
                        <a class="parent">API Reference</a>
                        <b class="caret"></b>
                        <ul class="child-menu">
                            
                            <li class=""><a href="../sandbox/introduction.html">Introduction</a></li>
                            
                            <li class=""><a href="../sandbox/charge.html">Transaction Charge</a></li>
                            
                            <li class=""><a href="../sandbox/installment.html">Installment</a></li>
                            
                            <li class=""><a href="../sandbox/bin.html">BIN Promo</a></li>
                            
                            <li class=""><a href="../sandbox/other_features.html">Other Features</a></li>
                            
                            <li class=""><a href="../sandbox/other_commands.html">Other Commands</a></li>
                            
                            <li class=""><a href="../sandbox/card_list.html">Testing Card List</a></li>
                            
                            <li class=""><a href="../sandbox/status_code.html">Status Code</a></li>
                            
                        </ul>
                    
                </li>
            
                <li>
                    
                        <a class="parent" href="../plugin/plugin.html">Plugin & Mobile Apps</a>
                    
                </li>
            
                <li>
                    
                        <a class="parent" href="http://support.veritrans.co.id">FAQ</a>
                    
                </li>
            
        </ul>
        <p class="question">
            Something is missing from the docs?<br>
            <a href="https://github.com/veritrans/veritrans.github.io">Open an issue or contribute to the docs on Github</a>
        </p>
    </div>
</div>
        <div class="col-xs-12 col-sm-9 col-md-9" id="bodier">
          <p class="pull-right visible-xs">
            <button type="button" class="btn btn-primary btn-xs" data-toggle="offcanvas">Menu</button>
          </p>
          <div class="vtweb-integration-php">
            <div class="row">
  <div class="col-sm-2 col-xs-12">
    <div class="thumbnail" data-toggle="tooltip" title="PHP" data-placement="bottom">
      <a href="integration_php.html"><img src="../images/php.jpg" /></a>
    </div>
  </div>
  <div class="col-sm-2 col-xs-12">
    <div class="thumbnail" data-toggle="tooltip" title="Prestashop" data-placement="bottom">
      <a href="integration_prestashop.html"><img src="../images/prestashop_gray.jpg" /></a>
    </div>
  </div>
  <div class="col-sm-2 col-xs-12">
    <div class="thumbnail" data-toggle="tooltip" title="Magento" data-placement="bottom">
      <a href="integration_magento.html"><img src="../images/magento_gray.jpg" /></a>
    </div>
  </div>
  <div class="col-sm-2 col-xs-12">
    <div class="thumbnail" data-toggle="tooltip" title="Opencart" data-placement="bottom">
      <a href="integration_opencart.html"><img src="../images/opencart_gray.jpg" /></a>
    </div>
  </div>
  <div class="col-sm-2 col-xs-12">
    <div class="thumbnail" data-toggle="tooltip" title="Woocommerce" data-placement="bottom">
      <a href="integration_woocommerce.html"><img src="../images/woocommerce_gray.jpg" /></a>
    </div>
  </div>
</div>

<div class="tab-content">
  <div class="tab-pane active">
    <h3 id="vt-web-php-integration-steps">VT-Web PHP Integration Steps</h3>
    <ol>
  <li>Obtain VT-Web URL</li>
  <li>Transaction Test</li>
  <li>Transaction Notification</li>
</ol>

    <p><br /></p>

    <!-- Nav tabs -->
    <ul class="nav nav-tabs">
  <li class="active"><a href="#step1" data-toggle="tab"><span>Step 1</span>Obtain VT-Web URL</a></li>
  <li><a href="#step2" data-toggle="tab"><span>Step 2</span>Transaction Test</a></li>
  <li><a href="#step3" data-toggle="tab"><span>Step 3</span>Transaction Notification</a></li>
</ul>

    <div class="tab-content">
      <div class="tab-pane active" id="step1">
        <!-- step 1-->
        <!-- One -->

        <h2 id="obtaining-redirect-url">Obtaining Redirect URL</h2>

        <p>On this step, we will try to obtain the VT-Web payment page when performing a transaction. There is at least 3 components that are required to obtain VT-Web payment page:</p>

        <ol>
          <li><code>server key</code></li>
          <li>Transaction ID</li>
          <li>Transaction Total Nominal</li>
        </ol>

        <p>The example below shows an order with with a random Transaction ID with a total nominal of Rp. 10.000,00. Sample PHP code that can be used to obtain and access VT-Web payment page:<br /><br /></p>

<pre><code class="highlight php"><span class="cp">&lt;?php</span> 
<span class="k">include_once</span><span class="p">(</span><span class="s1">'Veritrans.php'</span><span class="p">);</span>

<span class="c1">// Use sandbox account
</span><span class="nx">Veritrans_Config</span><span class="o">::</span><span class="nv">$isProduction</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>

<span class="c1">// Set our server key
</span><span class="nx">Veritrans_Config</span><span class="o">::</span><span class="nv">$serverKey</span> <span class="o">=</span> <span class="s1">'&lt;your server key&gt;'</span><span class="p">;</span>

<span class="c1">// Fill transaction data
</span><span class="nv">$transaction</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span>
    <span class="s2">"vtweb"</span> <span class="o">=&gt;</span> <span class="k">array</span> <span class="p">(</span>
          <span class="s2">"credit_card_3d_secure"</span> <span class="o">=&gt;</span> <span class="kc">true</span><span class="p">,</span>
        <span class="p">),</span>
    <span class="s1">'transaction_details'</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
        <span class="s1">'order_id'</span> <span class="o">=&gt;</span> <span class="nb">rand</span><span class="p">(),</span>
        <span class="s1">'gross_amount'</span> <span class="o">=&gt;</span> <span class="mi">10000</span><span class="p">,</span> <span class="c1">// no decimal allowed for creditcard
</span>        <span class="p">)</span>
    <span class="p">);</span>

<span class="nv">$vtweb_url</span> <span class="o">=</span> <span class="nx">Veritrans_Vtweb</span><span class="o">::</span><span class="na">getRedirectionUrl</span><span class="p">(</span><span class="nv">$transaction</span><span class="p">);</span>

<span class="c1">// Redirect 
</span><span class="nb">header</span><span class="p">(</span><span class="s1">'Location: '</span> <span class="o">.</span> <span class="nv">$vtweb_url</span><span class="p">);</span>
<span class="cp">?&gt;</span>
</code></pre>
        <p><br />
The sample code above utilizes the <strong>Veritrans-PHP</strong> library that has been downloaded during <a href="getting_started.html">Getting Started</a>. <code>Veritrans.php</code> file can be found in the <strong>Veritrans-PHP</strong> library. This file is assumed to be located in the same directory with the source code.</p>

        <p>To begin, decide the account type that you would be using: Production or Sandbox account. The example above utilizes the Sandbox account. Therefore, the flag <code>Veritrans_Config::$isProduction</code> is set to <code>false</code>.</p>

        <p>When VT-Web page is displayed, all payment method that you have will be displayed in tab. This is the <em>default</em> if the parameter <code>enabled_payments</code> is not entered when performing charge transaction. If you wish to configure your own method of payment to be displayed in the VT-Web page, you can follow the link <a href="other_features.html">VT-Web - Other Features</a>.</p>

        <p>VT-Web payment page URL can be obtained by calling <code>Veritrans_Vtweb::getRedirectionUrl</code> function where the transaction data is the input. When this process is successful, the customer will be redirected to the respective URL.</p>

        <p>The following is the VT-Web display page for the code above:
<br /><br />
<img alt="VT-Web Simple" class="img-responsive img-thumbnail" src="../images/vtweb_simple.png" />
<br /><br /></p>

        <hr />

        <h2 id="adding-transaction-information-optional">Adding Transaction Information (Optional)</h2>

        <p>Merchant can add more information in the variable <code>$transaction</code>, i.e. customer data, order item data, and method of payment. This add on data will affect the VT-Web payment page and transaction logged on the MAP (Merchant Administration Portal).</p>

        <p>Most fields on VT-Web form page will be filled automatically and information related to order item and delivery address will be displayed. Details and complete transaction data structure in the form of JSON can be found <a href="../sandbox/charge.html#specification">here</a>.</p>

        <p>PHP sample code that includes all transaction data is shown as follow:<br /><br /></p>

<pre><code class="highlight php"><span class="cp">&lt;?php</span>
<span class="k">include_once</span><span class="p">(</span><span class="s1">'Veritrans.php'</span><span class="p">);</span>

<span class="c1">// Set our server key
</span><span class="nx">Veritrans_Config</span><span class="o">::</span><span class="nv">$serverKey</span> <span class="o">=</span> <span class="s1">'&lt;your server key&gt;'</span><span class="p">;</span>

<span class="c1">// Use sandbox account
</span><span class="nx">Veritrans_Config</span><span class="o">::</span><span class="nv">$isProduction</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>

<span class="c1">// Required
</span><span class="nv">$transaction_details</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span>
  <span class="s1">'order_id'</span> <span class="o">=&gt;</span> <span class="nb">rand</span><span class="p">(),</span>
  <span class="s1">'gross_amount'</span> <span class="o">=&gt;</span> <span class="mi">145000</span><span class="p">,</span> <span class="c1">// no decimal allowed for creditcard
</span>  <span class="p">);</span>

<span class="c1">// Optional
</span><span class="nv">$item1_details</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">'id'</span> <span class="o">=&gt;</span> <span class="s1">'a1'</span><span class="p">,</span>
    <span class="s1">'price'</span> <span class="o">=&gt;</span> <span class="mi">50000</span><span class="p">,</span>
    <span class="s1">'quantity'</span> <span class="o">=&gt;</span> <span class="mi">2</span><span class="p">,</span>
    <span class="s1">'name'</span> <span class="o">=&gt;</span> <span class="s2">"Apple"</span>
    <span class="p">);</span>

<span class="c1">// Optional
</span><span class="nv">$item2_details</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">'id'</span> <span class="o">=&gt;</span> <span class="s1">'a2'</span><span class="p">,</span>
    <span class="s1">'price'</span> <span class="o">=&gt;</span> <span class="mi">45000</span><span class="p">,</span>
    <span class="s1">'quantity'</span> <span class="o">=&gt;</span> <span class="mi">1</span><span class="p">,</span>
    <span class="s1">'name'</span> <span class="o">=&gt;</span> <span class="s2">"Orange"</span>
    <span class="p">);</span>

<span class="c1">// Optional
</span><span class="nv">$items_details</span> <span class="o">=</span> <span class="k">array</span> <span class="p">(</span><span class="nv">$item1_details</span><span class="p">,</span> <span class="nv">$item2_details</span><span class="p">);</span>

<span class="c1">// Optional
</span><span class="nv">$billing_address</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">'first_name'</span>    <span class="o">=&gt;</span> <span class="s2">"Andri"</span><span class="p">,</span>
    <span class="s1">'last_name'</span>     <span class="o">=&gt;</span> <span class="s2">"Litani"</span><span class="p">,</span>
    <span class="s1">'address'</span>       <span class="o">=&gt;</span> <span class="s2">"Mangga 20"</span><span class="p">,</span>
    <span class="s1">'city'</span>          <span class="o">=&gt;</span> <span class="s2">"Jakarta"</span><span class="p">,</span>
    <span class="s1">'postal_code'</span>   <span class="o">=&gt;</span> <span class="s2">"16602"</span><span class="p">,</span>
    <span class="s1">'phone'</span>         <span class="o">=&gt;</span> <span class="s2">"081122334455"</span><span class="p">,</span>
    <span class="s1">'country_code'</span>  <span class="o">=&gt;</span> <span class="s1">'IDN'</span>
    <span class="p">);</span>

<span class="c1">// Optional
</span><span class="nv">$shipping_address</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">'first_name'</span>    <span class="o">=&gt;</span> <span class="s2">"Obet"</span><span class="p">,</span>
    <span class="s1">'last_name'</span>     <span class="o">=&gt;</span> <span class="s2">"Supriadi"</span><span class="p">,</span>
    <span class="s1">'address'</span>       <span class="o">=&gt;</span> <span class="s2">"Manggis 90"</span><span class="p">,</span>
    <span class="s1">'city'</span>          <span class="o">=&gt;</span> <span class="s2">"Jakarta"</span><span class="p">,</span>
    <span class="s1">'postal_code'</span>   <span class="o">=&gt;</span> <span class="s2">"16601"</span><span class="p">,</span>
    <span class="s1">'phone'</span>         <span class="o">=&gt;</span> <span class="s2">"08113366345"</span><span class="p">,</span>
    <span class="s1">'country_code'</span>  <span class="o">=&gt;</span> <span class="s1">'IDN'</span>
    <span class="p">);</span>

<span class="c1">// Optional
</span><span class="nv">$customer_details</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">'first_name'</span>    <span class="o">=&gt;</span> <span class="s2">"Andri"</span><span class="p">,</span>
    <span class="s1">'last_name'</span>     <span class="o">=&gt;</span> <span class="s2">"Litani"</span><span class="p">,</span>
    <span class="s1">'email'</span>         <span class="o">=&gt;</span> <span class="s2">"andri@litani.com"</span><span class="p">,</span>
    <span class="s1">'phone'</span>         <span class="o">=&gt;</span> <span class="s2">"081122334455"</span><span class="p">,</span>
    <span class="s1">'billing_address'</span>  <span class="o">=&gt;</span> <span class="nv">$billing_address</span><span class="p">,</span>
    <span class="s1">'shipping_address'</span> <span class="o">=&gt;</span> <span class="nv">$shipping_address</span>
    <span class="p">);</span>

<span class="c1">// Fill transaction details
</span><span class="nv">$transaction</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">'payment_type'</span> <span class="o">=&gt;</span> <span class="s1">'vtweb'</span><span class="p">,</span>
    <span class="s1">'vtweb'</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
        <span class="s1">'credit_card_3d_secure'</span> <span class="o">=&gt;</span> <span class="kc">true</span><span class="p">,</span>
        <span class="p">),</span>
    <span class="s1">'transaction_details'</span> <span class="o">=&gt;</span> <span class="nv">$transaction_details</span><span class="p">,</span>
    <span class="s1">'customer_details'</span> <span class="o">=&gt;</span> <span class="nv">$customer_details</span><span class="p">,</span>
    <span class="s1">'item_details'</span> <span class="o">=&gt;</span> <span class="nv">$items_details</span><span class="p">,</span>
    <span class="p">);</span>

<span class="nv">$vtweb_url</span> <span class="o">=</span> <span class="nx">Veritrans_Vtweb</span><span class="o">::</span><span class="na">getRedirectionUrl</span><span class="p">(</span><span class="nv">$transaction</span><span class="p">);</span>

<span class="c1">// Go to VT-Web page
</span><span class="nb">header</span><span class="p">(</span><span class="s1">'Location: '</span> <span class="o">.</span> <span class="nv">$vtweb_url</span><span class="p">);</span>
<span class="cp">?&gt;</span>
</code></pre>
        <p><br />
The following figure displays the VT-Web payment page as a result of the code above. Do note that the fields on the <strong>Shopping Details is automatically filled</strong>. Information related to <strong>Purchased Product</strong> and <strong>Shipping Details</strong> is also displayed on the VT_Web page.<br /><br /></p>

        <p><img alt="VT-Web Complete" class="img-responsive img-thumbnail" src="../images/vtweb_complete.png" />
<br /><br /></p>

        <hr />

        <h2 id="error-on-vt-web-url-request">Error On VT-Web URL Request</h2>

        <p>Under a few conditions, VT-Web payment URL request can be unsuccessful. The reason of the failure can be inspected from the status code. The status code that generally occurs is:<br /></p>

        <table>
          <thead>
            <tr>
              <th>Error Code</th>
              <th>Explanation</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td><code>400</code> Validation error</td>
              <td>Format or content of the transaction data is invalid. Example: Wrong variable type, invalid method of payment.</td>
            </tr>
            <tr>
              <td><code>401</code> Access Denied</td>
              <td>Invalid client or server key.</td>
            </tr>
            <tr>
              <td><code>402</code> Access Denied</td>
              <td>Merchant is not authorised to utilise a certain method of payment.</td>
            </tr>
            <tr>
              <td><code>406</code> Duplicate Order ID</td>
              <td>Order ID has been previously created and make use of.</td>
            </tr>
            <tr>
              <td><code>410</code> Account Inactive</td>
              <td>Merchant account has been inactive for a long time.</td>
            </tr>
          </tbody>
        </table>

        <p><br />
The list of status codes can be found in <a href="sandbox/status_code.html">Reference - Status Code</a>. For any inquiries, please <a href="https://www.veritrans.co.id/contact.html">contact us</a>.</p>

      </div>
      <!-- end of step 1-->

      <div class="tab-pane" id="step2">
        <!-- step 2-->

        <!-- Two -->

        <h2 id="transaction-test">Transaction Test</h2>

        <p>On this step, we will try to perform a test transaction in VT-Web. If you are using your Sandbox account, various transaction scenario can be tested. The list of scenarios along with account information that can be tested can be found <a href="../sandbox/card_list.html">here</a>.</p>

        <p>You are advised to perform a test transaction in VT-Web. The benefits of performing a test transaction are:</p>

        <ol>
          <li>To understand the flow of VT-Web.</li>
          <li>To be aware of the payment status code from MAP (Merchant Administration Portal) and its notification.</li>
        </ol>

        <!-- Nav tabs -->
        <ul class="nav nav-tabs">
  <li class="active"><a href="#testcc" data-toggle="tab">Credit Card</a></li>
  <li><a href="#testmandiri" data-toggle="tab">Mandiri ClickPay</a></li>
  <li><a href="#testcimb" data-toggle="tab">CIMB Clicks</a></li>
  <li><a href="#virtualacc" data-toggle="tab">Virtual Account</a></li>
  <li><a href="#bripay" data-toggle="tab">ePay BRI</a></li>
  <li><a href="#tcash" data-toggle="tab">Telkomsel Cash</a></li>
  <li><a href="#xltunai" data-toggle="tab">XL Tunai</a></li>
  <li><a href="#mbill" data-toggle="tab">Mandiri Bill Payment</a></li>
  <li><a href="#bbmmoney" data-toggle="tab">BBM Money</a></li>

</ul>
        <div class="tab-content">
          <div class="tab-pane active" id="testcc">
            <!-- step cc-->
            <!-- CC -->

            <h3 id="transaction-test-successful">Transaction Test Successful</h3>
            <p>We will try to perform a successful 3D Secure Credit Card transaction. According to <a href="../sandbox/card_list.html">Reference - List of test credit cards</a>, the credit card that can be used is:<br /></p>

            <table>
              <thead>
                <tr>
                  <th>Type</th>
                  <th>Visa</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>Card Number</td>
                  <td>4811 1111 1111 1114</td>
                </tr>
                <tr>
                  <td>CVV</td>
                  <td>123</td>
                </tr>
                <tr>
                  <td>Exp. Month</td>
                  <td>01</td>
                </tr>
                <tr>
                  <td>Exp. Year</td>
                  <td>2020</td>
                </tr>
              </tbody>
            </table>

            <p><br />
Referring to the transaction on <a href="integration_php.html#step1">Obtain VT-Web URL</a>, the VT-Web page that is displayed as followed:
<br /><br />
<img alt="vtweb_test1" class="img-responsive img-thumbnail" src="../images/vtweb_test.png" />
<br /><br />
Click Confirm Payment and a VT-Web confirmation payment page will then be displayed.
<br /><br />
<img alt="vtweb_test2" class="img-responsive img-thumbnail" src="../images/vtweb_test2.png" />
<br /><br />
Click <strong>Pay</strong> and you will be redirected to the 3D Secure page. An authentication page will pop out that prompts the customer to click Authenticate. The following figure displays the 3D Secure authentication page on sandbox.
<br /><br />
<img alt="VT-Web 3D Secure" width="784" class="img-responsive img-thumbnail" src="../images/vtweb_3ds.png" />
<br /><br />
After authentication process is completed, payment status will be displayed.
<br /><br />
<img alt="vtweb_test3" width="784" class="img-responsive img-thumbnail" src="../images/vtweb_test3.png" />
<br /></p>

            <hr />

            <h3 id="understanding-transaction-status">Understanding Transaction Status</h3>

            <p>In the previous step, the customer obtains the transaction status after payment process is completed. However, how does the merchant acquire such information? </p>

            <p>Veritrans provides two means for the merchant to obtain the transaction status.</p>

            <ol>
              <li>MAP (Merchant Administration Portal)</li>
              <li>Transaction Notification</li>
            </ol>

            <h4 id="transaction-status-from-map">Transaction Status From MAP</h4>

            <p>First, the merchant has to log in MAP <a href="https://my.sandbox.veritrans.co.id">Sandbox</a> beforehand. Merchant will notice the list of transactions with the respective status by selecting the <a href="https://my.sandbox.veritrans.co.id/payments">Transactions</a> menu on MAP.
<br /><br />
<img alt="map_transaction" class="img-responsive img-thumbnail" src="../images/map_transaction.png" />
<br /><br />
Merchant is able to check the transaction status by selecting the <code>Order ID</code> of a transaction item.
<br /><br />
<img alt="map_detail_transaction" class="img-responsive img-thumbnail" src="../images/map_detail_transaction.png" />
<br /><br />
Examining the transaction status from MAP is easy. However, the merchant has to check transaction manually every time. This method may be complicated to be integrated with the merchant’s current information system. To solve this issue, the merchant can use the <strong>Transaction Notification</strong> method. The description on how to use the transaction notification can be found in the <a href="integration_php.html#step3">next step</a>.</p>

          </div>
          <!-- end of step cc-->

          <div class="tab-pane" id="testmandiri">
            <!-- step mandiri-->

            <!-- Mandiri -->

            <h3 id="transaction-test-successful-1">Transaction Test Successful</h3>
            <p>We will try to perform a successful Mandiri ClickPay transaction. According to <a href="../sandbox/card_list.html">Reference - List of test cards</a>, the card number and token that can be used is:
<br /></p>

            <table>
              <tbody>
                <tr>
                  <td>Card Number</td>
                  <td>4111 1111 1111 1111</td>
                </tr>
                <tr>
                  <td>Accept Token</td>
                  <td>000 000</td>
                </tr>
              </tbody>
            </table>

            <p>Referring to the transaction on <a href="integration_php.html#step1">Obtain VT-Web URL</a>, the VT-Web page that is displayed is shown below:
<br /><br />
<img alt="VT-Web Mandiri Test 1" class="img-responsive img-thumbnail" src="../images/vtweb_mandiri_test1.png" />
<br /><br />
Click Confirm Payment and a VT-Web confirmation payment page will be displayed.
<br /><br />
<img alt="VT-Web Mandiri Test 2" class="img-responsive img-thumbnail" src="../images/vtweb_mandiri_test2.png" />
<br /><br />
After the authentication process is completed,the status will also be updated in MAP. The following figure displays the update on MAP when Mandiri ClickPay transaction is successful.
<br /><br />
<img alt="VT-Web Mandiri Test 3" class="img-responsive img-thumbnail" src="../images/mandiri_status.png" />
<br /><br />
Examining the transaction status from MAP is easy. However, merchant has to check transaction manually every time. This method might be complicated to integrate with the merchant’s current information system. To solve this issue, the merchant can use the <strong>Transaction Notification</strong> method. The description on how to use the transaction notification can be found in the <a href="integration_php.html#step3">next step</a>.</p>

          </div>
          <!-- end of step mandiri-->

          <div class="tab-pane" id="testcimb">
            <!-- step cimb-->

            <!-- cimb -->

            <h3 id="transaction-test-successful-2">Transaction Test Successful</h3>
            <p>We will try to perform a successful CIMB Clicks transaction. Referring to the transaction on <a href="integration_php.html#step1">Obtain VT-Web URL</a>, the VT-Web page that is displayed is shown below:
<br /><br />
<img alt="VT-Web CIMB Test 1" class="img-responsive img-thumbnail" src="../images/vtweb_cimb_test1.png" />
<br /><br />
Click Confirm Payment and customer will be redirected to a <em>dummy</em> CIMB Clicks web page.
<br /><br />
<img alt="VT-Web CIMB Test 2" class="img-responsive img-thumbnail" src="../images/vtweb_cimb_test2.png" />
<br /><br />
When the CIMB Clicks transaction step is completed, select the Pay button and the confirmation payment page will be displayed.
<br /><br />
<img alt="VT-Web CIMB Test 3" class="img-responsive img-thumbnail" src="../images/vtweb_cimb_test3.png" />
<br /><br />
Transaction status on MAP will be updated. The following figure displays the update on MAP when CIMB Clicks transaction is successful.
<br /><br />
<img alt="VT-Web CIMB Test 4" class="img-responsive img-thumbnail" src="../images/cimb_status.png" />
<br /><br />
Examining the transaction status from MAP is easy. However, merchant has to check transaction manually every time. This method may be difficult to integrate with the merchant’s current information system. To solve this issue, the merchant can use the <strong>Transaction Notification</strong> method. The description on how to use the transaction notification can be found in the <a href="integration_php.html#step3">next step</a>.</p>

          </div>
          <!-- end of step cimb-->
          <div class="tab-pane" id="virtualacc">
            <!-- step Virtual Account -->

            <!-- Virtual Account -->

            <h3 id="transaction-test-1">Transaction test</h3>
            <p>We will try to perform a Virtual Account transaction. Referring to the transaction on <a href="integration_php.html#step1">Obtain VT-Web URL</a>, the VT-Web page that is displayed is shown below:
<br /><br />
<img alt="VT-Web transfer Test 1" class="img-responsive img-thumbnail" src="../images/vtweb_transfer_test1.png" />
<br /><br />
Click <strong>Confirm Payment</strong> button to display the virtual account number.
<br /><br />
<img alt="VT-Web transfer Test 2" class="img-responsive img-thumbnail" src="../images/vtweb_transfer_test2.png" />
<br /><br />
<strong>Note:</strong> Write your VA number and make payment through internet banking or the most conveniant ATM.</p>

            <p>Until this point, the transaction is stored in MAP with <em>pending</em> status. Transaction status will be changed to <em>success</em> when your customer have finished the payment.</p>

            <hr />

            <h3 id="payment-simulation">Payment Simulation</h3>

            <p>To facilitate the payment process, we provide the <a href="https://api.sandbox.veritrans.co.id:7676/permata/va/index">payment simulator</a> for a sandbox Environment. Enter the account number previously obtained to check whether there is a transaction with the virtual account number.
<br /><br />
<img alt="VT-Web transfer Test 3" class="img-responsive img-thumbnail" src="../images/vtweb_transfer_test3.png" />
<br /><br />
If there is a transaction with virtual account numbers you provide, you can do a payment simulation.
<br /><br />
<img alt="VT-Web transfer Test 4" class="img-responsive img-thumbnail" src="../images/vtweb_transfer_test4.png" />
<br /><br />
Successful payment.
<br /><br />
<img alt="VT-Web transfer Test 5" class="img-responsive img-thumbnail" src="../images/vtweb_transfer_test5.png" />
<br /><br />
Transaction status will change in MAP. Here is an example of MAP when the Virtual Account transaction was made.
<br /><br />
<img alt="VT-Web transfer Test 3" class="img-responsive img-thumbnail" src="../images/transfer_status.png" />
<br /><br />
Examining the transaction status from MAP is easy. However, the merchant has to check transaction manually every time. This method may be complicated to integrate with the merchant’s current information system. To solve this issue, merchant can use the <strong>Transaction Notification</strong> method. The description on how to use the transaction notification can be found in the <a href="integration_php.html#step3">next step</a>.</p>

          </div>
          <!-- end of step bank transfer-->

          <div class="tab-pane" id="bripay">
            <!-- step epay-->

            <!-- BRI -->

            <h3 id="transaction-test-successful-3">Transaction Test Successful</h3>
            <p>We will try to perform a successful e-Pay BRI transaction. Referring to the transaction on <a href="integration_php.html#step1">Obtain VT-Web URL</a>, the VT-Web page that is displayed is shown below:
<br /><br />
<img alt="VT-Web epay Test 1" class="img-responsive img-thumbnail" src="../images/vtweb_epay_test1.png" />
<br /><br />
Click Confirm Payment and customer will be redirected to a <em>dummy</em> e-Pay BRI web page.
<br /><br />
<img alt="VT-Web epay Test 2" class="img-responsive img-thumbnail" src="../images/vtweb_epay_test2.png" />
<br /><br />
When e-Pay BRI transaction step is completed, select the Pay button and a confirmation payment page will be displayed.
<br /><br />
<img alt="VT-Web epay Test 3" class="img-responsive img-thumbnail" src="../images/vtweb_epay_test3.png" />
<br /><br />
Transaction status on MAP will be updated. The following figure displays the update on MAP when e-Pay BRI transaction is successful.
<br /><br />
<img alt="VT-Web epay Test 4" class="img-responsive img-thumbnail" src="../images/epay_status.png" />
<br /><br />
Examining the transaction status from MAP is easy. However, the merchant has to check transaction manually every time. This method may be complicated to integrate with the merchant’s current information system. To solve this issue, merchant can use the <strong>Transaction Notification</strong> method. The description on how to use the transaction notification can be found in the <a href="integration_php.html#step3">next step</a>.</p>
          </div>
          <!-- end of step epay-->
          <div class="tab-pane" id="tcash">
            <!-- step mandiri-->

            <!-- Tcash -->

            <h3 id="transaction-test-successful-4">Transaction Test Successful</h3>
            <p>We will try to perform a successful Telkomsel Cash transaction. According to <a href="../sandbox/card_list.html">Reference - List of test cards</a>, the token that can be used is:
<br /></p>

            <table>
              <tbody>
                <tr>
                  <td>Accept Token</td>
                  <td>0811 1111 11</td>
                </tr>
              </tbody>
            </table>

            <p>Referring to the transaction on <a href="integration_php.html#step1">Obtain VT-Web URL</a>, the VT-Web page that is displayed is shown below:
<br /><br />
<img alt="VT-Web Tcash Test 1" class="img-responsive img-thumbnail" src="../images/vtweb_tcash_test1.png" />
<br /><br />
Click Confirm Payment and a VT-Web result payment page will be displayed.
<br /><br />
<img alt="VT-Web Tcash Test 2" class="img-responsive img-thumbnail" src="../images/vtweb_tcash_test2.png" />
<br /><br />
After the authentication process is completed, the status will also be updated in MAP. The following figure displays the update on MAP when Telkomsel Cash transaction is successful.
<br /><br />
<img alt="VT-Web Tcash Test 3" class="img-responsive img-thumbnail" src="../images/tcash_status.png" />
<br /><br />
Examining the transaction status from MAP is easy. However, merchant has to check transaction manually every time. This method might be complicated to integrate with the merchant’s current information system. To solve this issue, the merchant can use the <strong>Transaction Notification</strong> method. The description on how to use the transaction notification can be found in the <a href="integration_php.html#step3">next step</a>.</p>

          </div>
          <!-- end of step Tcash-->
          <div class="tab-pane" id="xltunai">
            <!-- step XL Tunai -->

            <!-- XL Tunai -->

            <h3 id="transaction-test-2">Transaction test</h3>
            <p>We will try to perform a XL Tunai transaction. Referring to the transaction on <a href="integration_php.html#step1">Obtain VT-Web URL</a>, the VT-Web page that is displayed is shown below:
<br /><br />
<img alt="VT-Web xltunai Test 1" class="img-responsive img-thumbnail" src="../images/vtweb_xl_test1.png" />
<br /><br />
Click <strong>Pay Now</strong> button to display the XL Tunai order id, the amount to be paid and how to pay.
<br /><br />
<img alt="VT-Web xltunai Test 2" class="img-responsive img-thumbnail" src="../images/vtweb_xl_test2.png" /></p>

            <p>Until this point, the transaction is stored in MAP with <em>pending</em> status. Transaction status will be changed to <em>success</em> when your customer have finished the payment.</p>

            <hr />

            <h3 id="payment-simulation-1">Payment Simulation</h3>

            <p>To facilitate the payment process, we provide the <a href="https://api.sandbox.veritrans.co.id:7676/xl/tunai/index">payment simulator</a> for a sandbox Environment. Enter <code>12345</code> as dummy merchant id and XL Tunai order id number previously obtained to check whether there is a transaction with that number.
<br /><br />
<img alt="VT-Web xltunai Test 3" class="img-responsive img-thumbnail" src="../images/vtweb_xl_test3.png" />
<br /><br />
If there is a transaction with numbers you provide, you can do a payment simulation.
<br /><br />
<img alt="VT-Web xltunai Test 4" class="img-responsive img-thumbnail" src="../images/vtweb_xl_test4.png" />
<br /><br />
Successful payment.
<br /><br />
<img alt="VT-Web xltunai Test 5" class="img-responsive img-thumbnail" src="../images/vtweb_xl_test5.png" />
<br /><br />
Transaction status will change in MAP. Here is an example of MAP when the XL Tunai transaction was made.
<br /><br />
<img alt="VT-Web transfer Test 3" class="img-responsive img-thumbnail" src="../images/transfer_status.png" />
<br /><br />
Examining the transaction status from MAP is easy. However, the merchant has to check transaction manually every time. This method may be complicated to integrate with the merchant’s current information system. To solve this issue, merchant can use the <strong>Transaction Notification</strong> method. The description on how to use the transaction notification can be found in the <a href="integration_php.html#step3">next step</a>.</p>

          </div>
          <!-- end of step xltunai-->
          <div class="tab-pane" id="mbill">
            <!-- step Mandiri bill payment -->

            <!-- mandiri bill payment -->

            <h3 id="transaction-test-3">Transaction test</h3>
            <p>We will try to perform a Mandiri Bill Payment transaction. Referring to the transaction on <a href="integration_php.html#step1">Obtain VT-Web URL</a>, the VT-Web page that is displayed is shown below:
<br /><br />
<img alt="VT-Web mbill Test 1" class="img-responsive img-thumbnail" src="../images/vtweb_mbill_test1.png" />
<br /><br />
Click <strong>Show Payment Code</strong> button to display the company code and payment code number.
<br /><br />
<img alt="VT-Web mbill Test 2" class="img-responsive img-thumbnail" src="../images/vtweb_mbill_test2.png" />
<br /><br />
<strong>Note:</strong> Write your company code and payment code number and make payment through Mandiri channel.</p>

            <p>Until this point, the transaction is stored in MAP with <em>pending</em> status. Transaction status will be changed to <em>success</em> when your customer have finished the payment.</p>

            <hr />

            <h3 id="payment-simulation-2">Payment Simulation</h3>

            <p>To facilitate the payment process, we provide the <a href="https://api.sandbox.veritrans.co.id:7676/mandiri/bill/index">payment simulator</a> for a sandbox Environment. Enter the payment code number previously obtained to check whether there is a transaction.
<br /><br />
<img alt="VT-Web mbill Test 3" class="img-responsive img-thumbnail" src="../images/vtweb_mbill_test3.png" />
<br /><br />
If there is a transaction with payment code numbers you provide, you can do a payment simulation.
<br /><br />
<img alt="VT-Web mbill Test 4" class="img-responsive img-thumbnail" src="../images/vtweb_mbill_test4.png" />
<br /><br />
Transaction status will change in MAP. Here is an example of MAP when the Virtual Account transaction was made.
<br /><br />
<img alt="VT-Web mbill Test 3" class="img-responsive img-thumbnail" src="../images/mbill_status.png" />
<br /><br />
Examining the transaction status from MAP is easy. However, the merchant has to check transaction manually every time. This method may be complicated to integrate with the merchant’s current information system. To solve this issue, merchant can use the <strong>Transaction Notification</strong> method. The description on how to use the transaction notification can be found in the <a href="integration_php.html#step3">next step</a>.</p>

          </div>
          <!-- end of step Mandiri Bill-->
          <div class="tab-pane" id="bbmmoney">
            <!-- step BBM Money -->

            <!-- BBM Money -->

            <h3 id="transaction-test-4">Transaction test</h3>

            <h4 id="bbm-money-on-desktop">BBM Money on Desktop</h4>

            <p>We will try to perform a BBM Money transaction from the desktop. The VT-Web page that is displayed is shown below:
<br /><br />
<img alt="VT-Web bbmmoney Test 1" class="img-responsive img-thumbnail" src="../images/vtweb_bbmmoney_test1.png" /></p>

            <p><strong>NOTE:</strong> We will show you payment instructions. Write the account number and make payment through your BBM Money Apps.</p>

            <p>At this point, the transaction is stored in MAP with <em>pending</em> status.
Transaction status will be changed into success when your customer have finished the payment.
<br /><br /></p>

            <hr />

            <h4 id="bbm-money-on-mobile">BBM Money on Mobile</h4>

            <p>We will try to perform a BBM Money transaction from the mobile web of your device. The VT-Web page that is displayed is shown below:
<br /><br />
<img alt="VT-Web bbmmoney Test 2" class="img-responsive img-thumbnail" src="../images/vtweb_bbmmoney_test2.png" /></p>

            <p>Click 'pay with BBM Money' and customer will be redirected to their BBM Money Apps to proceed with BBM Money transaction.</p>

            <p><strong>NOTE:</strong> You need to have BBM Money from Google Play Store to proceed with transaction.</p>

            <p>At this point, the transaction is stored in MAP with <em>pending</em> status.
Transaction status will be changed into success when your customer have finished the payment.
<br /><br /></p>

            <hr />

            <!--
### Payment Simulation

To facilitate the payment process, we provide the [payment simulator](https://api.sandbox.veritrans.co.id:7676/permata/va/index) for a sandbox Environment. Enter the account number previously obtained to check whether there is a transaction with the virtual account number.
<br /><br />
![VT-Web transfer Test 3](/images/vtweb_transfer_test3.png){: .img-responsive .img-thumbnail}
<br /><br />
If there is a transaction with virtual account numbers you provide, you can do a payment simulation.
<br /><br />
![VT-Web transfer Test 4](/images/vtweb_transfer_test4.png){: .img-responsive .img-thumbnail}
<br /><br />
Successful payment.
<br /><br />
![VT-Web transfer Test 5](/images/vtweb_transfer_test5.png){: .img-responsive .img-thumbnail}
<br /><br />
Transaction status will change in MAP. Here is an example of MAP when the Virtual Account transaction was made.
<br /><br />
![VT-Web transfer Test 3](/images/transfer_status.png){: .img-responsive .img-thumbnail}
<br /><br />
Examining the transaction status from MAP is easy. However, the merchant has to check transaction manually every time. This method may be complicated to integrate with the merchant’s current information system. To solve this issue, merchant can use the **Transaction Notification** method. The description on how to use the transaction notification can be found in the [next step](/vtweb/integration_php.html#step3).
-->

          </div>
          <!-- end of BBM Money-->
        </div>
        <!-- end of tab-content u/ testing-->
      </div>
      <!-- end of step 2-->

      <div class="tab-pane" id="step3">
        <!-- step 3-->

        <!-- Three -->

        <h2 id="transaction-notification">Transaction Notification</h2>

        <p>The following steps will describe how Veritrans will send the merchant transaction notification for every customer that processes a payment. After the customer processes a payment, whether <em>Transaction Status</em> is successful or failure (Eg. Payment exceeds card limit), Veritrans will send two types of notification:</p>

        <h3 id="notification-through-email">1. Notification through email</h3>
        <p>Notification through email will be sent to the customer who performs payment, as well as the merchant who accepts the payment. You can configure the email notification setting at <a href="https://my.sandbox.veritrans.co.id/settings/email_notifications">Settings - email notification</a> in MAP.</p>

        <p><strong>Note:</strong> For multiple emails, please use comma as a separator. Example : Andri@myemail.com, litani@myemail.com 
<br /><br />
<img alt="config_payment" class="img-responsive img-thumbnail" src="../images/vtweb-emailnotif.png" />
<br /><br /></p>

        <h3 id="notification-through-https-post">2. Notification through HTTP(S) POST</h3>
        <p>Notification through HTTP(S) POST will also be sent to the merchant’s server. You can take advantage of the <em>HTTP(S) POST notification</em> to update a payment status from a transaction (order) in real time. This can be done since Veritrans sends this notification the moment customer completes the payment process.</p>

        <p>To make use of this facility, you have to provide the <em>endpoint</em> that receives HTTP(S) POST notification. The endpoint can be set in MAP, at <a title="Veritrans VT-Web configuration page" href="https://my.sandbox.veritrans.co.id/settings/vtweb_configuration/">Settings - Configuration</a>.
<br /><br />
<img alt="config_payment" class="img-responsive img-thumbnail" src="../images/vtweb-httpnotif.png" />
<br />
<strong>Note:</strong> Make sure the HTTP(S) POST notification address is not the same as your localhost address.  </p>

        <p>The content of the HTTP(S) POST notification consists of JSON object. A sample notification is described as followed:</p>

        <h4 id="successful-transaction-https-post-notification">Successful Transaction HTTP(S) POST Notification</h4>

<pre><code class="highlight json"><span class="p">{</span>
    <span class="s2">"status_code"</span><span class="p">:</span> <span class="s2">"200"</span><span class="p">,</span>
    <span class="s2">"status_message"</span><span class="p">:</span> <span class="s2">"Veritrans Payment Notification"</span><span class="p">,</span>
    <span class="s2">"transaction_id"</span><span class="p">:</span> <span class="s2">"d563f026-f46a-4f7d-bc44-226c6e42e12b"</span><span class="p">,</span>
    <span class="s2">"order_id"</span><span class="p">:</span> <span class="s2">"201303121700"</span><span class="p">,</span>
    <span class="s2">"payment_type"</span><span class="p">:</span> <span class="s2">"credit_card"</span><span class="p">,</span>
    <span class="s2">"transaction_time"</span><span class="p">:</span> <span class="s2">"2014-07-15 12:30:16"</span><span class="p">,</span>
    <span class="s2">"transaction_status"</span><span class="p">:</span> <span class="s2">"capture"</span><span class="p">,</span>
    <span class="s2">"fraud_status"</span><span class="p">:</span> <span class="s2">"accept"</span><span class="p">,</span>
    <span class="s2">"masked_card"</span><span class="p">:</span> <span class="s2">"401111-1112"</span><span class="p">,</span>
    <span class="s2">"approval_code"</span><span class="p">:</span> <span class="s2">"1405402217483"</span><span class="p">,</span>
    <span class="s2">"signature_key"</span><span class="p">:</span> <span class="s2">"0b063c979a872640b81b1aef2bb4f093388bc6e6b91b164beda58da1b102de277791074dcc10f237f4583864cfa0691799e906ef3ca50ff34b8ecd198e1fa2e4"</span><span class="p">,</span>
    <span class="s2">"bank"</span><span class="p">:</span> <span class="s2">"mandiri"</span><span class="p">,</span>
    <span class="s2">"gross_amount"</span><span class="p">:</span> <span class="s2">"100.00"</span>
<span class="p">}</span>
</code></pre>

        <h4 id="failure-transaction-https-post-notification">Failure Transaction HTTP(S) POST Notification</h4>

<pre><code class="highlight json">
<span class="p">{</span>
    <span class="s2">"status_code"</span><span class="p">:</span> <span class="s2">"202"</span><span class="p">,</span>
    <span class="s2">"status_message"</span><span class="p">:</span> <span class="s2">"Deny by Bank [MANDIRI] with code [05] and message [Do not honour]"</span><span class="p">,</span>
    <span class="s2">"transaction_id"</span><span class="p">:</span> <span class="s2">"f5507d7c-a46f-4a00-97a1-8a0b29d34ab3"</span><span class="p">,</span>
    <span class="s2">"order_id"</span><span class="p">:</span> <span class="s2">"201303121701"</span><span class="p">,</span>
    <span class="s2">"payment_type"</span><span class="p">:</span> <span class="s2">"credit_card"</span><span class="p">,</span>
    <span class="s2">"transaction_time"</span><span class="p">:</span> <span class="s2">"2014-07-15 16:01:30"</span><span class="p">,</span>
    <span class="s2">"transaction_status"</span><span class="p">:</span> <span class="s2">"deny"</span><span class="p">,</span>
    <span class="s2">"fraud_status"</span><span class="p">:</span> <span class="s2">"accept"</span><span class="p">,</span>
    <span class="s2">"masked_card"</span><span class="p">:</span> <span class="s2">"431111-1119"</span><span class="p">,</span>
    <span class="s2">"signature_key"</span><span class="p">:</span> <span class="s2">"0b063c979a872640b81b1aef2bb4f093388bc6e6b91b164beda58da1b102de277791074dcc10f237f4583864cfa0691799e906ef3ca50ff34b8ecd198e1fa2e4"</span><span class="p">,</span>
    <span class="s2">"bank"</span><span class="p">:</span> <span class="s2">"mandiri"</span><span class="p">,</span>
    <span class="s2">"gross_amount"</span><span class="p">:</span> <span class="s2">"100.00"</span>
<span class="p">}</span>
</code></pre>
        <hr />

        <p>The following figure is a sample code for merchant to receive HTTP(S) POST and JSON object by utilizing <strong>Veritrans-PHP</strong> library. This PHP code is executed when notification URL endpoint (http://sneekers.com/payment/notification) is accessed.<br /><br /></p>

<pre><code class="highlight php"><span class="cp">&lt;?php</span>

<span class="k">require_once</span><span class="p">(</span><span class="s1">'Veritrans.php'</span><span class="p">);</span>
<span class="nx">Veritrans_Config</span><span class="o">::</span><span class="nv">$isProduction</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>
<span class="nv">$notif</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Veritrans_Notification</span><span class="p">();</span>

<span class="nv">$transaction</span> <span class="o">=</span> <span class="nv">$notif</span><span class="o">-&gt;</span><span class="na">transaction_status</span><span class="p">;</span>
<span class="nv">$type</span> <span class="o">=</span> <span class="nv">$notif</span><span class="o">-&gt;</span><span class="na">payment_type</span><span class="p">;</span>
<span class="nv">$order_id</span> <span class="o">=</span> <span class="nv">$notif</span><span class="o">-&gt;</span><span class="na">order_id</span><span class="p">;</span>
<span class="nv">$fraud</span> <span class="o">=</span> <span class="nv">$notif</span><span class="o">-&gt;</span><span class="na">fraud_status</span><span class="p">;</span>

<span class="k">if</span> <span class="p">(</span><span class="nv">$transaction</span> <span class="o">==</span> <span class="s1">'capture'</span><span class="p">)</span> <span class="p">{</span>
  <span class="c1">// For credit card transaction, we need to check whether transaction is challenge by FDS or not
</span>  <span class="k">if</span> <span class="p">(</span><span class="nv">$type</span> <span class="o">==</span> <span class="s1">'credit_card'</span><span class="p">){</span>
    <span class="k">if</span><span class="p">(</span><span class="nv">$fraud</span> <span class="o">==</span> <span class="s1">'challenge'</span><span class="p">){</span>
      <span class="c1">// TODO set payment status in merchant's database to 'Challenge by FDS'
</span>      <span class="c1">// TODO merchant should decide whether this transaction is authorized or not in MAP
</span>      <span class="k">echo</span> <span class="s2">"Transaction order_id: "</span> <span class="o">.</span> <span class="nv">$order_id</span> <span class="o">.</span><span class="s2">" is challenged by FDS"</span><span class="p">;</span>
      <span class="p">}</span> 
      <span class="k">else</span> <span class="p">{</span>
      <span class="c1">// TODO set payment status in merchant's database to 'Success'
</span>      <span class="k">echo</span> <span class="s2">"Transaction order_id: "</span> <span class="o">.</span> <span class="nv">$order_id</span> <span class="o">.</span><span class="s2">" successfully captured using "</span> <span class="o">.</span> <span class="nv">$type</span><span class="p">;</span>
      <span class="p">}</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nv">$transaction</span> <span class="o">==</span> <span class="s1">'settlement'</span><span class="p">){</span>
  <span class="c1">// TODO set payment status in merchant's database to 'Settlement'
</span>  <span class="k">echo</span> <span class="s2">"Transaction order_id: "</span> <span class="o">.</span> <span class="nv">$order_id</span> <span class="o">.</span><span class="s2">" successfully transfered using "</span> <span class="o">.</span> <span class="nv">$type</span><span class="p">;</span>
  <span class="p">}</span> 
  <span class="k">else</span> <span class="k">if</span><span class="p">(</span><span class="nv">$transaction</span> <span class="o">==</span> <span class="s1">'pending'</span><span class="p">){</span>
  <span class="c1">// TODO set payment status in merchant's database to 'Pending'
</span>  <span class="k">echo</span> <span class="s2">"Waiting customer to finish transaction order_id: "</span> <span class="o">.</span> <span class="nv">$order_id</span> <span class="o">.</span> <span class="s2">" using "</span> <span class="o">.</span> <span class="nv">$type</span><span class="p">;</span>
  <span class="p">}</span> 
  <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nv">$transaction</span> <span class="o">==</span> <span class="s1">'deny'</span><span class="p">)</span> <span class="p">{</span>
  <span class="c1">// TODO set payment status in merchant's database to 'Denied'
</span>  <span class="k">echo</span> <span class="s2">"Payment using "</span> <span class="o">.</span> <span class="nv">$type</span> <span class="o">.</span> <span class="s2">" for transaction order_id: "</span> <span class="o">.</span> <span class="nv">$order_id</span> <span class="o">.</span> <span class="s2">" is denied."</span><span class="p">;</span>
<span class="p">}</span>
<span class="cp">?&gt;</span>
</code></pre>

        <p><br /></p>

        <p><strong>Note:</strong> </p>

        <ul>
          <li>Veritrans require a response code 200 which indicates the notification has been successfully received by the merchant.</li>
          <li>To ensure the notification is from Veritrans, merchant can perform a get status command shortly after receiving the notification.</li>
        </ul>

      </div>
      <!-- end of step 3-->

    </div>
    <!-- end of tab-content-->
  </div>
</div>


			<div class="pagination">
				<ul><li class="left">« Previous: <a href="getting_started.html">VT-Web : Getting Started</a></li><li class="right">Next: <a href="other_features.html">VT-Web : Other Features</a> »</li></ul>
			</div>
          </div>
        </div><!--/span-->
      </div><!--/row-->

    </div><!--/.container-->
    
    <footer>
  <div class="container">
    <div class="row footer-content">
      <div class="col-lg-3 col-md-3 col-sm-4 col-xs-6">
        <h4 class="text-gray">Veritrans</h4>
        <ul>
          <li>
            <a href="https://www.veritrans.co.id/">Home</a>
          </li>
          <li>
            <a href="https://www.veritrans.co.id/payment_channels.html">Payment Channels</a>
          </li>
          <li>
            <a href="https://www.veritrans.co.id/pricing.html">Product &amp; Pricing</a>
          </li>
          <li>
            <a href="https://www.veritrans.co.id/event.html">Promo</a>
          </li>
          <li>
            <a href="https://www.veritrans.co.id/case_study.html">Case Study</a>
          </li>
          <li>
            <a href="https://www.veritrans.co.id/aegis.html">Aegis</a>
          </li>
          <!-- <li>
            <a href="aegis.html">Aegis</a>
          </li> -->
        </ul>
        <!-- <h4 class="text-gray">Shopping</h4>
        <ul>
          <li>
            <a href="event.html">Promo</a>
          </li>
          <li>
            <a href="directory.html">Directory</a>
          </li>
        </ul> -->
      </div>
      <div class="col-lg-2 col-md-3 col-sm-4 col-xs-6">
        <h4 class="text-gray">Devs</h4>
        <ul>
          <li>
            <a href="http://docs.veritrans.co.id">Documentations</a>
          </li>
          <li>
            <a href="#" data-toggle="modal" data-target="#underConstruction">Dev Notes</a>
          </li>
        </ul>
        <h4 class="text-gray about-footer">About</h4>
        <ul>
          <li>
            <a href="https://www.veritrans.co.id/about.html">Team</a>
          </li>
          <li>
            <a href="https://www.veritrans.co.id/career.html">Career</a>
          </li>
        </ul>
      </div>
      <div class="col-lg-2 col-md-3 col-sm-4 col-xs-6">
        <h4 class="text-gray">Help</h4>
        <ul>
          <li>
            <a href="https://blog.veritrans.co.id">Blog</a>
          </li>
          <li>
            <a href="http://support.veritrans.co.id">FAQ</a>
          </li>
          <li>
            <a href="https://www.veritrans.co.id/contact.html">Contact</a>
          </li>
          <li>
            <a href="https://www.veritrans.co.id/privacy_policy.html">Privacy Policy</a>
          </li>
        </ul>
      </div>
      <div class="col-lg-2 col-md-3 col-sm-4 col-xs-6 find-us-footer">
        <h4 class="text-gray">Find Us</h4>
        <ul>
          <li>
            <a href="https://www.facebook.com/veritransID">Facebook</a>
          </li>
          <li>
            <a href="https://twitter.com/veritransid">Twitter</a>
          </li>
          <li>
            <a href="https://instagram.com/veritransid">Instagram</a>
          </li>
          <li>
            <a href="https://www.linkedin.com/company/pt-midtrans">LinkedIn</a>
          </li>
          <li>
            <a href="https://www.youtube.com/channel/UCtPNqTFgR1aXpEFA9B_djnw">YouTube</a>
          </li>
        </ul>
      </div>
      <div class="col-lg-3 col-md-4 col-sm-6 col-xs-12">
        <h4 class="text-gray with-subtitle">
          Subscribe
        </h4>
        <small>
          tips &amp; berita terbaru seputar eCommerce
        </small>
        <div id="mc_embed_signup">
          <form action="//veritrans.us9.list-manage.com/subscribe/post?u=4ed5f88335112571098a4a51c&amp;id=12315939d2" method="post" id="mc-embedded-subscribe-form" name="mc-embedded-subscribe-form" class="validate" target="_blank" novalidate>
            <div id="mc_embed_signup_scroll">
              <div class="mc-field-group">
                  <input type="email" value="" name="EMAIL" class="required email search-input" id="mce-EMAIL" placeholder="EMAIL" pattern="/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/" required/>
              </div>
              <div id="mce-responses" class="clear">
                  <div class="response" id="mce-error-response" style="display:none"></div>
                  <div class="response" id="mce-success-response" style="display:none"></div>
            </div>   
              <div style="position: absolute; left: -5000px;"><input type="text" name="b_4ed5f88335112571098a4a51c_12315939d2" tabindex="-1" value=""></div>
              <div class="clear"><input type="submit" value="submit" name="subscribe" id="mc-embedded-subscribe" class="btn btn-search"/></div>
              </div>
          </form>
        </div>
      </div>
    </div>
    <div class="copyright text-center">
      <br/>
      &copy; 2015 PT Midtrans
      <br/>
      <br/>
    </div>
  </div>
</footer>
<div class="modal fade" id="underConstruction" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        <h4 class="modal-title text-center" id="myModalLabel">Sorry!</h4>
      </div>
      <div class="modal-body text-center">
        We're still building this web page.<br/>
        Be the first to know when it's done by <a class="dotted" href="https://veritrans.us9.list-manage.com/subscribe/post?u=4ed5f88335112571098a4a51c&id=12315939d2">subscribing</a> to our newsletter.
      </div>
    </div>
  </div>
</div>
<script language="javascript" type="text/javascript">
  function popitup(url) {
    newwindow=window.open(url,'name','height=430,width=540');
    if (window.focus) {newwindow.focus()}
    return false;
  }
</script>
    <script src="../javascripts/jquery-1.10.2.min.js" type="text/javascript"></script>
<script src="../javascripts/bootstrap.min.js" type="text/javascript"></script>
<script src="../javascripts/dropdown.js" type="text/javascript"></script>
<script src="../javascripts/tab_custom.js" type="text/javascript"></script>

    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-32232768-12', 'auto');
      ga('send', 'pageview');
    </script>
    <script>
    $(document).ready(function() {
      $('[data-toggle=offcanvas]').click(function() {
        $('.row-offcanvas').toggleClass('active');
      });
      $(function () {
        $('[data-toggle="tooltip"]').tooltip();
      });
    });
    </script>
  </body>
</html><!-- Veritrans.3.0-20150423 -->
